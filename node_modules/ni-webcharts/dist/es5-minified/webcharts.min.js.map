{"version":3,"sources":["niDataPipeline.js","niTypedHistoryBuffer.js","niGraphDataPipeline.js","niChartDataPipeline.js","niTickFormatters.js","ni-cartesian-graph-base.js","ni-cartesian-graph.js","ni-chart.js","ni-intensity-graph.js","ni-cartesian-axis.js","ni-color-scale.js","ni-cartesian-plot.js","ni-cartesian-plot-renderer.js","ni-cursor.js","niTypedWebCharts.js"],"names":["updatePointsResult","data","i","verticalBucketIndex","horizontalBucketIndex","width","dataMatrix","res","matrixIndex","push","isXYClusterOfArrays","niType","getName","NITypeNames","CLUSTER","getFields","length","getSubtype","ARRAY","isXYCluster","isInteger","isFloat","isClusterOfNumerics","every","st","NationalInstruments","HtmlVI","DataPipeline","decimateAW","series","start","end","buckets","startIndex","step","endIndex","decimate1D","minMaxForRange","s","e","result","max","Infinity","maxIndex","min","minIndex","generateBucketIndexes","transformedStart","transformedEnd","firstSample","lastSample","len","datapoints","points","transform","xaxis","options","inverseTransform","Math","ceil","floor","extendBuckets","firstValue","lastValue","bucketsLength","unshift","decimate1DLog","index","iindex","newBucket","mode","nextBucket","decimatePoints","startX","endX","startY","endY","height","yaxis","decimatePointsLog","verticalBucketStep","horizontalBucketStep","Array","transformedXValue","transformedYValue","transformX","x","transformY","y","transformedStartX","transformedStartY","transformedEndX","transformedEndY","decimateLinesXY","currentVerticalBucket","currentHorizontalBucket","previousVerticalBucket","previousHorizontalBucket","previousX","previousY","currentX","currentY","futureX","futureY","isProbablyCrossingEdge","v1x","v1y","v2x","v2y","ArrayBuffer","isView","isViewToStrings","dataStr","Object","prototype","toString","call","indexOf","DataTypesEnum","freeze","niAnalogWaveform","niAnalogWaveformArray","XYClusterOfArrays","XYArrayOfClusters","XYArrayOfClusterOfArrays","XYArrayOfArrayOfClusters","oneDimensionNumericArray","twoDimensionsNumericArray","oneDimensionComplexArray","twoDimensionsComplexArray","numeric","clusterOfNumerics","arrayOfClusterOfNumerics","historyBuffer","empty","unknown","inferDataTypeFromNIType","NIType","ANALOGWAVEFORM","getRank","isComplex","TypedHistoryBuffer","HistoryBuffer","apply","this","arguments","valueType","setNIType","clear","setType","setWidth","pushTypedData","value","j","row","keys","appendArray","GraphDataPipeline","graphDataPipeline","ComplexNumber","window","NIComplex","AnalogWaveform","NIAnalogWaveform","proto","toFlot","graph","convertToFlotFormat","isWaveform","isArray","babelHelpers","typeof","Y","isWaveformArray","key","isXYArrayOfClusters","isXYArrayOfClusterOfArrays","isXYArrayOfArrayOfClusters","is1DComplexArray","is2DComplexArray","inferDataType","waveformToFlotFormat","waveform","flatdata","t0","toAbsoluteTime","dt","decimate","xyClusterOfArraysToFlotFormat","xydata","count","xyArrayOfClustersToFlotFormat","xyArrayOfClusterOfArraysToFlotFormat","xyDataArray","map","xyArrayOfArrayOfClustersToFlotFormat","dataValuesArray2D","dataValuesArray","dataType","channelName","updatePlotName","parseFromString","pushBuffersToHistoryBuffer","buffers","col","ChartDataPipeline","loadValueIntoHistoryBuffer","chart","NINumericFormatters","parseTickFormatterType","format","colonMarkIndex","decimals","g","n","unknownFormat","type","parsedFormat","formatSubstring","slice","lastIndexOf","N","G","parseInt","decFormatTypeSubstring","getTickFormatter","getSiSignificatDigitsFormatter","getSiDecimalFormatter","siTickFormatter","getDecPrecisionNotationFormatter","getDecFixedNotationFormatter","num","extension","siValue","toSiNotation","isNaN","Number","toDecPrecisionNotation","axis","precision","plot","log10AxisMin","croppedMin","croppedMax","tickDecimals","computeCroppedValue","log","abs","LOG10E","computeValuePrecision","direction","ticks","precisionDecimals","reduceNumberOfDecimals","fixDecimalCountForSmallNumbers","exponent","minSiExtensionExponent","dontRound","roundUsing","toDecFixedNotation","log10Max","log10Min","orderSizeDif","log10Value","val","roundingPower","exp","pow","croppedVal","roundFunction","number","precisionDigits","tempNumber","$","Globals","jQuery","NI_SUPPORT","NISupport","plotsUpdatesEnabled","graphConfigPending","seriesLength","defaultPlotColors","CartesianGraphBase","_window$JQX$BaseEleme","classCallCheck","possibleConstructorReturn","__proto__","getPrototypeOf","inherits","createClass","getSettingsWorkaround","lines","show","lineWidth","shadowSize","axisLabels","xaxes","yaxes","zoom","interactive","trigger","pan","enableTouch","selection","grid","colors","cartesianGraphSettings","getSettings","plotAreaMargin","margin","JSON","parse","cursors","axes","a","getViewConfig","position","cursor","c","graphTools","allowsScrollWheelZoom","allowsPan","childElement","graphdiv","undefined","cartesianGraphData","createData","plots","parsedValue","configureGraph","setHover","setGridStyle","gridEl","that","getCursors","forEach","cookie","setCursor","error","message","event","cursordata","target","updateCursorElement","parentElement","detail","axisTouched","getFlotAxis","resetOffset","updateCartesianAxesFromFlot","JQX","CartesianAxis","syncWithFlot","throttle","updateGraphConfig","name","label","dataSeries","plotConfig","setData","setupGrid","draw","notifyPlotLegend","element","plotCount","get","plotLegend","cursorLegend","scaleLegend","tooltip","tooltipHolder","addGraphItemListeners","size","isVisibleElement","createGraph","clearTextCache","resize","detachChildElement","getComputedStyle","display","document","createElement","style","className","appendChild","id","uniqueId","fakeGrid","visibility","bind","pos","item","seriesIndex","datapoint","hoverFormat","str","html","css","top","pageY","offset","left","pageX","fadeIn","hide","getPlaceholder","onCursorUpdates","onRecenterPlot","attachChildren","attachLegends","destroy","removeChild","childElements","pushNewPlot","newPlot","siblings","getElementsByTagName","newOrderedPlotList","sibling","find","p","addEventListener","evt","updateGraphConfigWhenPlotsUpdatesAreEnabled","splice","notifyScaleLegend","notifyCursorLegend","flotAxis","recenter","originalSource","eventConfig","bubbles","cancelable","dispatchEvent","CustomEvent","on","ranges","notifyGraphTools","graphElement","children","tagsAndClasses","NI-COLOR-SCALE","ColorScale","NI-CARTESIAN-PLOT","CartesianPlot","NI-CURSOR","Cursor","NI-CARTESIAN-AXIS","tagName","isReady","attachToGraph","legendTags","toUpperCase","myLegends","graphRef","niControlId","legend","propertyName","oldValue","newValue","args","replace","match","toFixed","toExponential","graphData","graphSettings","isHoverable","hoverable","borderStyle","borderBottomWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderWidth","bottom","right","color","borderColor","bgColor","backgroundColor","axisPosition","axisRef","canvasOrSvgSources","destinationCanvas","composeImages","assign","resizeEventHack","BaseElement","Elements","CartesianGraph","_NationalInstruments$","Chart","bufferSize","settings","IntensityGraph","parsedData","dataMin","dataMax","tempMin","tempMax","buf","autoScaleColor","intensitygraph","colorScaleMin","colorScaleMax","gradient","defaultData","ColorScaleType","markers","autoScale","range","dataRange","lowColor","highColor","colorScaleAxis","getYAxes","filter","graphdata","firstYAxisIndex","findIndex","flotFirstYAxisIndex","plotData","updateColorScaleLimits","escapeHtmlString","string","entityMap","&","<",">","\"","'","/","`","String","isTimeAxis","toFlotTimeFormat","getDefaultAutoScale","scaletype","_parentGraph","nodeName","getWindowSize","windowSize","_defaultMax","_defaultMin","minimum","maximum","sendEventToParentGraph","fontSize","fontFamily","fontWeight","fontStyle","textDecoration","currStyle","grow","test","axisLabel","showLabel","growOnly","logScale","timeformat","tickFormatter","showTickLabels","gridLines","showTicks","showMinorTicks","_navigationOffset","below","above","font","parseFloat","weight","family","axisZoom","plotZoom","axisPan","plotPan","getAxes","flot","allSeries","getData","computeRangeForDataSeries","defaultRange","xmin","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","reduce","defaultPlotConfig","allAxes","addPlotItemListeners","CartesianPlotRenderer","attachToPlot","plotRenderer","enableHover","getXAxisIndexByNIControlID","getYAxisIndexByNIControlID","toFillTowards","baseLine","_parentPlot","sendEventToParentPlot","lineStroke","pointColor","areaFill","barFill","getColor","fill","zero","fillTowards","areaBaseLine","dashes","toFlotLineStyle","lineStyle","radius","pointSize","symbol","pointShape","bars","barWidth","align","barBaseLine","relativeX","relativeY","crosshairStyle","showValues","showValue","snapToPlot","interpolate","defaultxaxis","defaultyaxis","targetShape","showThumbs","createNIType","descriptor","err","setNITypeToHistoryBuffer","niTypeStr","NITypedCartesianGraphModule","ownerElement","valueTypeNeedsUpdate","observer","NITypedChartModule","NITypedIntensityGraphModule","NITypes","DOUBLE","makeArray","toJSON","whenRegistered","addModule"],"mappings":"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","file":"webcharts.min.js","sourcesContent":["//****************************************\r\n// GraphDataPipeline\r\n// common utility functions for conversion of LabVIEW datatypes flot data series\r\n// used by graphs and charts.\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline = {};\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline.decimateAW = function (series, start, end, buckets) {\r\n        var startIndex = (start - series.start) / series.step,\r\n            endIndex = (end - series.start) / series.step;\r\n\r\n        return NationalInstruments.HtmlVI.DataPipeline.decimate1D(series, startIndex, endIndex, buckets);\r\n    }\r\n\r\n    // computes min and max for a data points array with the specified range (from start, inclusive to the end, exclusive)\r\n    // and add them to the result. data is an array containing x coordinates alternating with y coordinates\r\n    var minMaxForRange = function (data, s, e, result) {\r\n        var max = -Infinity,\r\n            maxIndex = -1,\r\n            min = Infinity,\r\n            minIndex = -1;\r\n\r\n        for (var i = s * 2; i < e * 2; i += 2) {\r\n            if (data[i + 1] < min) {\r\n                minIndex = data[i];\r\n                min = data[i + 1];\r\n            }\r\n            if (data[i + 1] > max) {\r\n                maxIndex = data[i];\r\n                max = data[i + 1];\r\n            }\r\n        }\r\n\r\n        if (maxIndex === -1) {\r\n            return;\r\n        }\r\n\r\n        if (maxIndex === minIndex) {\r\n            result.push(minIndex);\r\n            result.push(min);\r\n        } else {\r\n            if (maxIndex < minIndex) {\r\n                result.push(maxIndex);\r\n                result.push(max);\r\n                result.push(minIndex);\r\n                result.push(min);\r\n            } else {\r\n                result.push(minIndex);\r\n                result.push(min);\r\n                result.push(maxIndex);\r\n                result.push(max);\r\n            }\r\n        }\r\n    }\r\n\r\n    /* given a data series with a nonlinear, monothonic transformation function on the x axis,\r\n    it splits the interval between s and e in buckets of equal \"pixel width\" */\r\n    var generateBucketIndexes = function(series, s, e, width, buckets) {\r\n        var len = series.datapoints.points.length / 2,\r\n            step,\r\n            transformedStart, transformedEnd,\r\n            firstSample, lastSample,\r\n            transform = series.xaxis.options.transform,\r\n            inverseTransform = series.xaxis.options.inverseTransform;\r\n\r\n        transformedStart = transform(s);\r\n        transformedEnd = transform(e);\r\n        step = (transformedEnd - transformedStart) / width;\r\n\r\n        if (transformedEnd <= transformedStart || step <= 0 || len === 0) {\r\n            return;\r\n        }\r\n\r\n        for (var i = transformedStart; i < transformedEnd + step; i += step) {\r\n            firstSample = inverseTransform(i);\r\n            lastSample = inverseTransform(i + step);\r\n\r\n            if (lastSample <= 0 || firstSample >= len) {\r\n                continue;\r\n            }\r\n\r\n            if (firstSample < 0) {\r\n                firstSample = 0;\r\n            }\r\n\r\n            if (lastSample > len) {\r\n                lastSample = len;\r\n            }\r\n\r\n            firstSample = Math.ceil(firstSample);\r\n            lastSample = Math.floor(lastSample);\r\n\r\n            if (firstSample > lastSample) {\r\n                continue;\r\n            }\r\n\r\n            buckets.push(firstSample);\r\n            buckets.push(lastSample);\r\n        }\r\n\r\n        extendBuckets(s, e, len, buckets);\r\n    }\r\n\r\n    /* extends the buckets so that they contain also the points imediately before and after the interval\r\n    so in the case of line graphs the lines entering into the first visible point and the line leaving the\r\n    last visisble point are also drawn.*/\r\n    var extendBuckets = function (start, end, len, buckets) {\r\n        var bucketsLength = buckets.length;\r\n        var firstValue, lastValue;\r\n\r\n        if (bucketsLength === 0) {\r\n            buckets.push(Math.floor(start));\r\n            buckets.push(Math.floor(start) + 1);\r\n        } else if (bucketsLength === 2) {\r\n            if (buckets[0] > 0) {\r\n                buckets[0]--;\r\n            }\r\n\r\n            if (buckets[1] < len) {\r\n                buckets[1]++;\r\n            }\r\n        } else {\r\n            firstValue = buckets[0];\r\n            lastValue = buckets[bucketsLength - 1];\r\n\r\n            if (firstValue > 0) {\r\n                buckets.unshift(firstValue - 1);\r\n                buckets.unshift(firstValue - 1);\r\n            }\r\n\r\n            if (lastValue < len) {\r\n                buckets.push(lastValue + 1);\r\n                buckets.push(lastValue + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    /* decimates a data series with a log x axis */\r\n    NationalInstruments.HtmlVI.DataPipeline.decimate1DLog = function (series, start, end, width) {\r\n        var buckets = [],\r\n            result = [],\r\n            data = series.datapoints.points;\r\n\r\n        generateBucketIndexes(series, start, end, width, buckets);\r\n\r\n        for (var i = 0; i < buckets.length; i += 2) {\r\n            minMaxForRange(data, buckets[i], buckets[i + 1] + 1, result);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /* decimates a data series. If the x axis of the series is logarithmic this function calls decimate1DLog*/\r\n    NationalInstruments.HtmlVI.DataPipeline.decimate1D = function (series, start, end, buckets) {\r\n        var i,\r\n            index = 0,\r\n            iindex = 0,\r\n            length = 0,\r\n            step = buckets / (end - start),\r\n            data = series.datapoints.points,\r\n            res = [],\r\n            newBucket = true,\r\n            max = -Infinity, maxIndex = -1,\r\n            min = Infinity, minIndex = -1;\r\n\r\n        if (series.xaxis && series.xaxis.options.mode === 'log') {\r\n            return NationalInstruments.HtmlVI.DataPipeline.decimate1DLog(series, start, end, buckets);\r\n        }\r\n\r\n        var startIndex = Math.min(Math.max(0, Math.floor(start)), data.length / 2);\r\n        var endIndex = (end > 0) ? Math.min((data.length / 2), Math.floor(end + 2)) : 0;\r\n\r\n        var nextBucket = function () {\r\n            if (minIndex === maxIndex) {\r\n                res[iindex] = minIndex;\r\n                res[iindex + 1] = min;\r\n                iindex += 2;\r\n            } else {\r\n                if (minIndex < maxIndex) {\r\n                    res[iindex] = minIndex;\r\n                    res[iindex + 1] = min;\r\n                    res[iindex + 2] = maxIndex;\r\n                    res[iindex + 3] = max;\r\n                } else {\r\n                    res[iindex] = maxIndex;\r\n                    res[iindex + 1] = max;\r\n                    res[iindex + 2] = minIndex;\r\n                    res[iindex + 3] = min;\r\n                }\r\n                iindex += 4;\r\n            }\r\n        }\r\n\r\n        var prepareBucket = function () {\r\n            max = -Infinity;\r\n            maxIndex = -1;\r\n            min = Infinity;\r\n            minIndex = -1;\r\n        }\r\n\r\n        length = endIndex - startIndex;\r\n\r\n        if (buckets > length) {\r\n            step = 1;\r\n        }\r\n\r\n        for (i = startIndex * 2; i < endIndex * 2; i += 2) {\r\n            if (newBucket) {\r\n                prepareBucket();\r\n                newBucket = false;\r\n            }\r\n\r\n            if (data[i + 1] < min) {\r\n                minIndex = data[i];\r\n                min = data[i + 1];\r\n            }\r\n            if (data[i + 1] > max) {\r\n                maxIndex = data[i];\r\n                max = data[i + 1];\r\n            }\r\n\r\n            if (Math.floor(index) !== Math.floor(index + step)) {\r\n                nextBucket();\r\n                newBucket = true;\r\n            }\r\n\r\n            index += step;\r\n        }\r\n\r\n        if (!newBucket) {\r\n            nextBucket();\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline.decimatePoints = function (series, startX, endX, width, startY, endY, height) {\r\n        if (height == null || endY == null || startY == null || width == null || endX == null || startX == null) {\r\n            return series.datapoints.points;\r\n        }\r\n\r\n        if (startX > endX || startY > endY) {\r\n            return [];\r\n        }\r\n\r\n        if ((series.xaxis && series.xaxis.options.mode === 'log') || (series.yaxis && series.yaxis.options.mode === 'log')) {\r\n            return NationalInstruments.HtmlVI.DataPipeline.decimatePointsLog(series, startX, endX, width, startY, endY, height);\r\n        }\r\n\r\n        var verticalBucketStep = (endX - startX) / width,\r\n            horizontalBucketStep = (endY - startY) / height,\r\n            dataMatrix,\r\n            data = series.datapoints.points,\r\n            verticalBucketIndex, horizontalBucketIndex, i,\r\n            res = [];\r\n\r\n        dataMatrix = new Array(Math.ceil(width) * Math.ceil(height));\r\n\r\n        for (i = 0; i < data.length; i += 2) {\r\n            if (data[i] < startX || data[i + 1] < startY || data[i] > endX || data[i + 1] > endY) {\r\n                continue;\r\n            }\r\n            verticalBucketIndex = data[i] === startX ? 0 : Math.ceil((data[i] - startX) / verticalBucketStep - 1);\r\n            horizontalBucketIndex = data[i + 1] === startY ? 0 : Math.ceil((data[i + 1] - startY) / horizontalBucketStep - 1);\r\n            updatePointsResult(data, i, verticalBucketIndex, horizontalBucketIndex, width, dataMatrix, res);\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline.decimatePointsLog = function (series, startX, endX, width, startY, endY, height) {\r\n        var dataMatrix,\r\n            data = series.datapoints.points,\r\n            verticalBucketIndex, horizontalBucketIndex, i,\r\n            res = [],\r\n            transformX = series.xaxis.options.transform || function (x) { return x; },\r\n            transformY = series.yaxis.options.transform || function (y) { return y; },\r\n            transformedStartX = transformX(startX),\r\n            transformedStartY = transformY(startY),\r\n            transformedEndX = transformX(endX),\r\n            transformedEndY = transformY(endY),\r\n            verticalBucketStep = (transformedEndX - transformedStartX) / width,\r\n            horizontalBucketStep = (transformedEndY - transformedStartY) / height,\r\n            transformedXValue, transformedYValue;\r\n\r\n        dataMatrix = new Array(Math.ceil(width) * Math.ceil(height));\r\n\r\n        for (i = 0; i < data.length; i += 2) {\r\n            if (data[i] < startX || data[i + 1] < startY || data[i] > endX || data[i + 1] > endY) {\r\n                continue;\r\n            }\r\n            transformedXValue = transformX(data[i]);\r\n            transformedYValue = transformY(data[i + 1]);\r\n            verticalBucketIndex = transformedXValue === transformedStartX ? 0 : Math.ceil((transformedXValue - transformedStartX) / verticalBucketStep - 1);\r\n            horizontalBucketIndex = transformedYValue === transformedStartY ? 0 : Math.ceil((transformedYValue - transformedStartY) / horizontalBucketStep - 1);\r\n            updatePointsResult(data, i, verticalBucketIndex, horizontalBucketIndex, width, dataMatrix, res);\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    function updatePointsResult(data, i, verticalBucketIndex, horizontalBucketIndex, width, dataMatrix, res) {\r\n        var matrixIndex = verticalBucketIndex + horizontalBucketIndex * width;\r\n        if (!dataMatrix[matrixIndex]) {\r\n            res.push(data[i])\r\n            res.push(data[i + 1]);\r\n            dataMatrix[matrixIndex] = true;\r\n        }\r\n    }\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY = function (series, startX, endX, width, startY, endY, height) {\r\n        if (height == null || endY == null || startY == null || width == null || endX == null || startX == null) {\r\n            return series.datapoints.points;\r\n        }\r\n\r\n        if (startX > endX || startY > endY) {\r\n            return [];\r\n        }\r\n\r\n        if ((series.xaxis && series.xaxis.options.mode === 'log') || (series.yaxis && series.yaxis.options.mode === 'log')) {\r\n            return series;\r\n        }\r\n\r\n        if (series.datapoints.points <= 4) {\r\n            return series.datapoints.points;\r\n        }\r\n\r\n        var verticalBucketStep = (endX - startX) / width,\r\n            horizontalBucketStep = (endY - startY) / height,\r\n            data = series.datapoints.points,\r\n            currentVerticalBucket, currentHorizontalBucket,\r\n            previousVerticalBucket, previousHorizontalBucket,\r\n            previousX, previousY, currentX, currentY, futureX, futureY,\r\n            i, res = [];\r\n\r\n        if (!(data[0] < startX || data[0] < startY || data[1] > endX || data[1] > endY) ||\r\n            isProbablyCrossingEdge(data[0], data[1], data[2], data[3], startX, endX, startY, endY) ||\r\n            !(data[2] < startX || data[3] < startY || data[2] > endX || data[3] > endY)) {\r\n            res.push(data[0]);\r\n            res.push(data[1]);\r\n        }\r\n\r\n        previousVerticalBucket = data[0] === startX ? 0 : Math.ceil((data[0] - startX) / verticalBucketStep - 1);\r\n        previousHorizontalBucket = data[1] === startY ? 0 : Math.ceil((data[1] - startY) / horizontalBucketStep - 1);\r\n        previousX = data[0];\r\n        previousY = data[1];\r\n\r\n        for (i = 2; i < data.length - 2; i += 2) {\r\n            currentX = data[i];\r\n            currentY = data[i + 1];\r\n            futureX = data[i + 2];\r\n            futureY = data[i + 3];\r\n\r\n            //check cases for point not visible\r\n            if (currentX < startX || currentY < startY || currentX > endX || currentY > endY) {\r\n                if (!(previousX < startX || previousY < startY || previousX > endX || previousY > endY) ||\r\n                    !(futureX < startX || futureY < startY || futureX > endX || futureY > endY) ||\r\n                    isProbablyCrossingEdge(previousX, previousY, currentX, currentY, startX, endX, startY, endY) ||\r\n                    isProbablyCrossingEdge(currentX, currentY, futureX, futureY, startX, endX, startY, endY)) {\r\n                    res.push(currentX);\r\n                    res.push(currentY);\r\n                }\r\n                previousX = currentX;\r\n                previousY = currentY;\r\n                previousVerticalBucket = currentX === startX ? 0 : Math.ceil((currentX - startX) / verticalBucketStep - 1);\r\n                previousHorizontalBucket = currentY === startY ? 0 : Math.ceil((currentY - startY) / horizontalBucketStep - 1);\r\n                continue;\r\n            }\r\n\r\n            currentVerticalBucket = currentX === startX ? 0 : Math.ceil((currentX - startX) / verticalBucketStep - 1);\r\n            currentHorizontalBucket = currentY === startY ? 0 : Math.ceil((currentY - startY) / horizontalBucketStep - 1);\r\n\r\n            if (previousHorizontalBucket === currentHorizontalBucket && previousVerticalBucket === currentVerticalBucket) {\r\n                continue;\r\n            }\r\n\r\n            //add data to result and update starting point of the edge\r\n            res.push(currentX);\r\n            res.push(currentY);\r\n            previousVerticalBucket = currentVerticalBucket;\r\n            previousHorizontalBucket = currentHorizontalBucket;\r\n            previousX = currentX;\r\n            previousY = currentY;\r\n        }\r\n\r\n        res.push(data[data.length - 2]);\r\n        res.push(data[data.length - 1]);\r\n\r\n        return res;\r\n    }\r\n\r\n    var isProbablyCrossingEdge = function(v1x, v1y, v2x, v2y, startX, endX, startY, endY) {\r\n        return (v1x < startX && v2x > startX) || (v1x > startX && v2x < startX) ||\r\n            (v1x < endX && v2x > endX) || (v1x > endX && v2x < endX) ||\r\n            (v1y < startY && v2y > startY) || (v1y > startY && v2y < startY) ||\r\n            (v1y < endY && v2y > endY) || (v1y > endY && v2y < endY);\r\n    }\r\n\r\n    // Make sure ArrayBuffer.isView is available\r\n    if (typeof ArrayBuffer.isView !== 'function') {\r\n        // is that you PhantomJS ?\r\n        ArrayBuffer.isView = function (data) {\r\n            var isViewToStrings = [\r\n                // The TypedArray types\r\n                '[object Int8Array]',\r\n                '[object Uint8Array]',\r\n                '[object Uint8ClampedArray]',\r\n                '[object Int16Array]',\r\n                '[object Uint16Array]',\r\n                '[object Int32Array]',\r\n                '[object Uint32Array]',\r\n                '[object Float32Array]',\r\n                '[object Float64Array]',\r\n                // The DataView type\r\n                '[object DataView]'\r\n            ];\r\n\r\n            var dataStr = Object.prototype.toString.call(data);\r\n\r\n            return isViewToStrings.indexOf(dataStr) !== -1;\r\n        }\r\n    }\r\n\r\n    var DataTypesEnum = Object.freeze({\r\n        niAnalogWaveform: 'niAnalogWaveform',\r\n        niAnalogWaveformArray: 'niAnalogWaveformArray',\r\n        XYClusterOfArrays: 'XYClusterOfArrays',\r\n        XYArrayOfClusters: 'XYArrayOfClusters',\r\n        XYArrayOfClusterOfArrays: 'XYArrayOfClusterOfArrays',\r\n        XYArrayOfArrayOfClusters: 'XYArrayOfArrayOfClusters',\r\n        oneDimensionNumericArray: '1DNumericArray',\r\n        twoDimensionsNumericArray: '2DNumericArray',\r\n        oneDimensionComplexArray: '1DComplexArray',\r\n        twoDimensionsComplexArray: '2DComplexArray',\r\n        numeric: 'numeric',\r\n        clusterOfNumerics: 'clusterOfNumerics',\r\n        arrayOfClusterOfNumerics: 'arrayOfClusterOfNumerics',\r\n        historyBuffer: 'HistoryBuffer',\r\n        empty: 'empty',\r\n        unknown: 'unknown'\r\n    });\r\n    NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum = DataTypesEnum;\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline.inferDataTypeFromNIType = function(niType) {\r\n        if (!(niType instanceof NIType)) {\r\n            return DataTypesEnum.unknown;\r\n        }\r\n        if (niType.getName() === NITypeNames.ANALOGWAVEFORM) {\r\n            return DataTypesEnum.niAnalogWaveform;\r\n        }\r\n        if (niType.getName() === NITypeNames.ARRAY && niType.getSubtype().getName() === NITypeNames.ANALOGWAVEFORM) {\r\n            return DataTypesEnum.niAnalogWaveformArray;\r\n        }\r\n        if (isXYClusterOfArrays(niType)) {\r\n            return DataTypesEnum.XYClusterOfArrays;\r\n        }\r\n        if (niType.getName() === NITypeNames.ARRAY && niType.getRank() === 1 && isXYCluster(niType.getSubtype())) {\r\n            return DataTypesEnum.XYArrayOfClusters;\r\n        }\r\n        if (niType.getName() === NITypeNames.ARRAY && isXYClusterOfArrays(niType.getSubtype())) {\r\n            return DataTypesEnum.XYArrayOfClusterOfArrays;\r\n        }\r\n        if (niType.getName() === NITypeNames.ARRAY && niType.getRank() === 2 && isXYCluster(niType.getSubtype())) {\r\n            return DataTypesEnum.XYArrayOfArrayOfClusters;\r\n        }\r\n        if (niType.getName() === NITypeNames.ARRAY && niType.getRank() === 1 && (niType.getSubtype().isInteger() || niType.getSubtype().isFloat())) {\r\n            return DataTypesEnum.oneDimensionNumericArray;\r\n        }\r\n        if (niType.getName() === NITypeNames.ARRAY && niType.getRank() === 2 && (niType.getSubtype().isInteger() || niType.getSubtype().isFloat())) {\r\n            return DataTypesEnum.twoDimensionsNumericArray;\r\n        }\r\n        if (niType.getName() === NITypeNames.ARRAY && niType.getRank() === 1 && niType.getSubtype().isComplex()) {\r\n            return DataTypesEnum.oneDimensionComplexArray;\r\n        }\r\n        if (niType.getName() === NITypeNames.ARRAY && niType.getRank() === 2 && niType.getSubtype().isComplex()) {\r\n            return DataTypesEnum.twoDimensionsComplexArray;\r\n        }\r\n        if (niType.isInteger() || niType.isFloat()) {\r\n            return DataTypesEnum.numeric;\r\n        }\r\n        if (isClusterOfNumerics(niType)) {\r\n            return DataTypesEnum.clusterOfNumerics;\r\n        }\r\n        if (niType.getName() === NITypeNames.ARRAY && isClusterOfNumerics(niType.getSubtype())) {\r\n            return DataTypesEnum.arrayOfClusterOfNumerics;\r\n        }\r\n        return DataTypesEnum.unknown;\r\n    }\r\n\r\n    function isXYClusterOfArrays(niType) {\r\n        return niType.getName() === NITypeNames.CLUSTER &&\r\n            niType.getFields().length === 2 &&\r\n            niType.getSubtype().length === 2 &&\r\n            niType.getSubtype()[0].getName() === NITypeNames.ARRAY &&\r\n            niType.getSubtype()[1].getName() === NITypeNames.ARRAY;\r\n    }\r\n\r\n    function isXYCluster(niType) {\r\n        return niType.getName() === NITypeNames.CLUSTER &&\r\n            niType.getFields().length === 2 &&\r\n            niType.getSubtype().length === 2 &&\r\n            (niType.getSubtype()[0].isInteger() || niType.getSubtype()[0].isFloat()) &&\r\n            (niType.getSubtype()[1].isInteger() || niType.getSubtype()[1].isFloat());\r\n    }\r\n\r\n    function isClusterOfNumerics(niType) {\r\n        return niType.getName() === NITypeNames.CLUSTER &&\r\n            niType.getSubtype().every(function(st) {\r\n                return st.isInteger() || st.isFloat();\r\n            });\r\n    }\r\n}());\r\n","/**\r\n# TypedHistoryBuffer\r\n\r\nA TypedHistoryBuffer is a HistoryBuffer with information about the data type\r\nof the values being pushed to it.\r\n\r\nThe data type is used exclusively for optimizing the push of new data into the buffer operation.\r\n\r\nExample:\r\n```javascript\r\nvar hb1 = new TypedHistoryBuffer(1024);\r\n\r\nhb1.setNIType(NITypes.DOUBLE.makeArray());\r\n\r\nhb1.pushTypedData([1, 2]);\r\nhb1.pushTypedData([3, 4, 5]);\r\n\r\nconsole.log(hb1.toArray()); //[1, 2, 3, 4, 5]\r\n```\r\n\r\nTypedHistoryBuffer with width = 2:\r\n```javascript\r\nvar hb1 = new TypedHistoryBuffer(1024, 2);\r\n\r\nhb1.setNIType(NITypes.DOUBLE.makeArray(2));\r\n\r\nhb1.pushTypedData([[1, 11], [2, 22]]);\r\nhb1.pushTypedData([[3, 33], [4, 44], [5, 55]]);\r\n\r\nconsole.log(hb1.toArray()); //[[1, 11], [2, 22], [3, 33], [4, 44], [5, 55]]\r\n```\r\n\r\n*/\r\n\r\n/** ## TypedHistoryBuffer methods*/\r\n(function () {\r\n    'use strict';\r\n\r\n    var DataPipeline = NationalInstruments.HtmlVI.DataPipeline;\r\n    var DataTypesEnum = NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum;\r\n\r\n    /** **TypedHistoryBuffer(capacity, width)** - the History buffer constructor creates\r\n    a new history buffer with the specified capacity (default: 1024) and width (default: 1).\r\n    The data type is set to unkown. */\r\n    NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer = function () {\r\n        HistoryBuffer.apply(this, arguments);\r\n        this.niType = null;\r\n        this.valueType = DataTypesEnum.unknown;\r\n    }\r\n\r\n    var TypedHistoryBuffer = NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer;\r\n\r\n    TypedHistoryBuffer.prototype = new HistoryBuffer(arguments);\r\n\r\n    /** **setNItype(niType)** - sets the data type of the values being pushed.\r\n        Supported data types:\r\n        * any numeric type\r\n        * one dimension numeric arrays\r\n        * two dimensions numeric arrays\r\n        * clusters of numerics\r\n        * array of clusters of numerics\r\n     */\r\n    TypedHistoryBuffer.prototype.setNIType = function(niType) {\r\n        var width;\r\n        this.niType = niType;\r\n        this.valueType = DataPipeline.inferDataTypeFromNIType(this.niType);\r\n        this.clear();\r\n\r\n        switch (this.valueType) {\r\n            case DataTypesEnum.numeric:\r\n            case DataTypesEnum.oneDimensionNumericArray:\r\n                this.setType('numeric');\r\n                this.setWidth(1);\r\n                break;\r\n            case DataTypesEnum.clusterOfNumerics:\r\n                this.setType('numeric');\r\n                width = this.niType.getFields().length;\r\n\r\n                if (width === 0) {\r\n                    return;\r\n                }\r\n\r\n                this.setWidth(width);\r\n                break;\r\n            case DataTypesEnum.arrayOfClusterOfNumerics:\r\n            case DataTypesEnum.XYArrayOfClusters:\r\n                width = this.niType.getSubtype().getFields().length\r\n\r\n                if (width === 0) {\r\n                    return;\r\n                }\r\n\r\n                this.setWidth(width);\r\n                break;\r\n            case DataTypesEnum.niAnalogWaveform:\r\n                this.setType('analogWaveform');\r\n                this.setWidth(1);\r\n                break;\r\n            case DataTypesEnum.niAnalogWaveformArray:\r\n                this.setType('analogWaveform');\r\n                this.setWidth(1);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /** **pushTypedData(value)** - pushes a new value to the history buffer */\r\n    TypedHistoryBuffer.prototype.pushTypedData = function(value) {\r\n        var i, j, row, keys, width;\r\n        switch (this.valueType) {\r\n            case DataTypesEnum.numeric:\r\n                this.push(value);\r\n                break;\r\n            case DataTypesEnum.oneDimensionNumericArray:\r\n                this.appendArray(value);\r\n                break;\r\n            case DataTypesEnum.niAnalogWaveform:\r\n                this.push(value);\r\n                break;\r\n            case DataTypesEnum.niAnalogWaveformArray:\r\n                width = value.length;\r\n\r\n                if (width === 0) {\r\n                    // empty array, nothing to push, can't set the width to 0 so don't do anything\r\n                    return;\r\n                }\r\n                this.setWidth(value.length);\r\n                this.push(value);\r\n                break;\r\n            case DataTypesEnum.twoDimensionsNumericArray:\r\n                width = value[0].length;\r\n\r\n                if (width === 0) {\r\n                    // empty array, nothing to push, can't set the width to 0 so don't do anything\r\n                    return;\r\n                }\r\n\r\n                this.setWidth(width);\r\n                for (i = 0; i < value.length; i++) {\r\n                    this.push(value[i]);\r\n                }\r\n                break;\r\n            case DataTypesEnum.clusterOfNumerics:\r\n                row = [];\r\n                keys = Object.keys(value);\r\n                for (i = 0; i < keys.length; i++) {\r\n                    row[i] = value[keys[i]];\r\n                }\r\n                this.push(row);\r\n                break;\r\n            case DataTypesEnum.arrayOfClusterOfNumerics:\r\n            case DataTypesEnum.XYArrayOfClusters:\r\n                for (j = 0; j < value.length; j++) {\r\n                    row = [];\r\n                    keys = Object.keys(value[j]);\r\n                    for (i = 0; i < keys.length; i++) {\r\n                        row[i] = value[j][keys[i]];\r\n                    }\r\n                    this.push(row);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n}());\r\n","//****************************************\r\n// GraphDataPipeline\r\n// Utility functions that convert LabVIEW datatypes allowed for graphs to flot data series\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n\r\n/**\r\n## Data types supported by the ni-cartesian-graph\r\n\r\nData can be passed to a graph either through writing to the element value\r\nproperty or using API access (the setData() method on the element).\r\n\r\nHere is a list of supported data types:\r\n*/\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Static private reference aliases\r\n    // None\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline = function () {\r\n        // Private variables\r\n    };\r\n\r\n    var DataTypesEnum = NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum;\r\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\r\n    var ComplexNumber = window.NIComplex || NationalInstruments.HtmlVI.NIComplex;\r\n    var AnalogWaveform = window.NIAnalogWaveform || NationalInstruments.HtmlVI.NIAnalogWaveform;\r\n\r\n    var proto = graphDataPipeline.prototype;\r\n\r\n    // Public prototype methods\r\n    proto.toFlot = function (graph, value, valueType) {\r\n        return convertToFlotFormat(graph, value, valueType);\r\n    };\r\n\r\n    // Private methods\r\n    var isWaveform = function (value) {\r\n        return (!Array.isArray(value)) && typeof value === 'object' && Array.isArray(value.Y);\r\n    };\r\n\r\n    var isWaveformArray = function (value) {\r\n        return (Array.isArray(value)) && isWaveform(value[0]);\r\n    };\r\n\r\n    var isXYClusterOfArrays = function (value) {\r\n        return (!Array.isArray(value)) && typeof value === 'object' &&\r\n            Object.keys(value).length === 2 &&\r\n            Object.keys(value).every(function (key) {\r\n                return Array.isArray(value[key]);\r\n            });\r\n    };\r\n\r\n    var isXYArrayOfClusters = function (value) {\r\n        return (Array.isArray(value)) && (!Array.isArray(value[0])) &&\r\n            typeof value[0] === 'object' && Object.keys(value[0]).length === 2 &&\r\n            typeof value[0][Object.keys(value[0])[0]] === 'number';\r\n    };\r\n\r\n    var isXYArrayOfClusterOfArrays = function (value) {\r\n        return Array.isArray(value) && isXYClusterOfArrays(value[0]);\r\n    };\r\n\r\n    var isXYArrayOfArrayOfClusters = function (value) {\r\n        return Array.isArray(value) && isXYArrayOfClusters(value[0]);\r\n    };\r\n\r\n    var is1DComplexArray = function (value) {\r\n        return Array.isArray(value) &&\r\n        (typeof value[0] === 'string' || value[0] instanceof ComplexNumber);\r\n    };\r\n\r\n    var is2DComplexArray = function (value) {\r\n        return Array.isArray(value) && Array.isArray(value[0]) &&\r\n        (typeof value[0][0] === 'string' || value[0][0] instanceof ComplexNumber);\r\n    };\r\n\r\n    var inferDataType = function (data) {\r\n        if (isWaveform(data)) {\r\n            return DataTypesEnum.niAnalogWaveform;\r\n        }\r\n\r\n        if (isWaveformArray(data)) {\r\n            return DataTypesEnum.niAnalogWaveformArray;\r\n        }\r\n\r\n        if (isXYClusterOfArrays(data)) {\r\n            return DataTypesEnum.XYClusterOfArrays;\r\n        }\r\n\r\n        if (isXYArrayOfClusters(data)) {\r\n            return DataTypesEnum.XYArrayOfClusters;\r\n        }\r\n\r\n        if (data.valueType === 'HistoryBuffer') {\r\n            return DataTypesEnum.historyBuffer;\r\n        }\r\n\r\n        if (!(Array.isArray(data) || ArrayBuffer.isView(data))) {\r\n            return DataTypesEnum.unknown;\r\n        }\r\n\r\n        if (data.length === 0) {\r\n            return DataTypesEnum.empty;\r\n        }\r\n\r\n        if (typeof data[0] === 'number') {\r\n            return DataTypesEnum.oneDimensionNumericArray;\r\n        }\r\n\r\n        if (isXYArrayOfClusterOfArrays(data)) {\r\n            return DataTypesEnum.XYArrayOfClusterOfArrays;\r\n        }\r\n\r\n        if (isXYArrayOfArrayOfClusters(data)) {\r\n            return DataTypesEnum.XYArrayOfArrayOfClusters;\r\n        }\r\n\r\n        if (is1DComplexArray(data)) {\r\n            return DataTypesEnum.oneDimensionComplexArray;\r\n        }\r\n\r\n        if (is2DComplexArray(data)) {\r\n            return DataTypesEnum.twoDimensionsComplexArray;\r\n        }\r\n\r\n        if (Array.isArray(data[0]) || ArrayBuffer.isView(data[0])) {\r\n            return DataTypesEnum.twoDimensionsNumericArray;\r\n        }\r\n\r\n        return DataTypesEnum.unknown;\r\n    };\r\n\r\n    proto.inferDataType = inferDataType;\r\n\r\n    var waveformToFlotFormat = function (waveform) {\r\n        return {flatdata: true,\r\n            data: waveform.Y,\r\n            start: waveform.t0.toAbsoluteTime(),\r\n            step: waveform.dt,\r\n            decimate: NationalInstruments.HtmlVI.DataPipeline.decimateAW,\r\n            decimatePoints: NationalInstruments.HtmlVI.DataPipeline.decimatePoints};\r\n    };\r\n\r\n    var xyClusterOfArraysToFlotFormat = function (xydata) {\r\n        var result = [];\r\n        var keys = Object.keys(xydata);\r\n        var count = Math.min(xydata[keys[0]].length, xydata[keys[1]].length);\r\n\r\n        for (var i = 0; i < count; i++) {\r\n            result.push([xydata[keys[0]][i], xydata[keys[1]][i]]);\r\n        }\r\n\r\n        return {data: result,\r\n            decimate: NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY,\r\n            decimatePoints: NationalInstruments.HtmlVI.DataPipeline.decimatePoints\r\n        };\r\n    };\r\n\r\n    var xyArrayOfClustersToFlotFormat = function (xydata) {\r\n        var result = [];\r\n\r\n        var keys = Object.keys(xydata[0] || {});\r\n\r\n        for (var i = 0; i < xydata.length; i++) {\r\n            result.push([xydata[i][keys[0]], xydata[i][keys[1]]]);\r\n        }\r\n\r\n        return {data: result,\r\n            decimate: NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY,\r\n            decimatePoints: NationalInstruments.HtmlVI.DataPipeline.decimatePoints\r\n        };\r\n    };\r\n\r\n    var xyArrayOfClusterOfArraysToFlotFormat = function (xyDataArray) {\r\n        return xyDataArray.map(function (xydata) {\r\n            return xyClusterOfArraysToFlotFormat(xydata);\r\n        });\r\n    };\r\n\r\n    var xyArrayOfArrayOfClustersToFlotFormat = function (xyDataArray) {\r\n        return xyDataArray.map(function (xydata) {\r\n            return xyArrayOfClustersToFlotFormat(xydata);\r\n        });\r\n    };\r\n\r\n    var convertToFlotFormat = function (graph, data, valueType) {\r\n        // jshint unused: vars\r\n        var dataValuesArray = [];\r\n        var dataValuesArray2D, waveform;\r\n        var dataType = (valueType && valueType !== DataTypesEnum.unknown)\r\n            ? valueType\r\n            : inferDataType(data);\r\n\r\n        var i, j;\r\n\r\n        switch (dataType) {\r\n            /**\r\n            * **A 1D array of numerics**\r\n            ```js\r\n            [a1, a2, a3]\r\n            ```\r\n            Will be drawn as a single plot. It's an efficient and fast way to\r\n            pass data to the graph.\r\n\r\n            A typed array view is also allowed.\r\n            */\r\n            case DataTypesEnum.oneDimensionNumericArray:\r\n                return [{flatdata: true,\r\n                    data: data,\r\n                    start: 0,\r\n                    step: 1,\r\n                    decimate: NationalInstruments.HtmlVI.DataPipeline.decimate1D,\r\n                    decimatePoints: NationalInstruments.HtmlVI.DataPipeline.decimatePoints}];\r\n\r\n            /**\r\n            * **A 2D array of numerics**\r\n            ```js\r\n            [[a1, a2, a3], [b1, b2, b3]]\r\n            ```\r\n            Will be drawn as multiple plots. It's an efficient and fast way to\r\n            pass data to the graph.\r\n\r\n            An array of typed array views is also allowed.\r\n            */\r\n            case DataTypesEnum.twoDimensionsNumericArray:\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    dataValuesArray = [];\r\n\r\n                    dataValuesArray2D.push({flatdata: true,\r\n                        start: 0,\r\n                        step: 1,\r\n                        data: data[j],\r\n                        decimate: NationalInstruments.HtmlVI.DataPipeline.decimate1D,\r\n                        decimatePoints: NationalInstruments.HtmlVI.DataPipeline.decimatePoints});\r\n                }\r\n\r\n                return dataValuesArray2D;\r\n\r\n            /**\r\n            * **An analogWaveform**\r\n            ```js\r\n            var data = new NIAnalogWaveform({\r\n                t0: new NITimestamp(),\r\n                dt: 0.001, // 1 ms\r\n                Y: [a1, a2, a3]\r\n            });\r\n            ```\r\n            Will be drawn as a single plot. It's an\r\n            efficient and fast way to pass data to the graph\r\n            */\r\n            case DataTypesEnum.niAnalogWaveform:\r\n                if (data instanceof AnalogWaveform) {\r\n                    waveform = data;\r\n                } else {\r\n                    waveform = new AnalogWaveform(data);\r\n                }\r\n                if (typeof waveform.channelName === 'string' && waveform.channelName.length > 0) {\r\n                    graph.updatePlotName(0, waveform.channelName);\r\n                }\r\n\r\n                return [waveformToFlotFormat(waveform)];\r\n\r\n            /**\r\n            * **An array of analogWaveforms**\r\n            ```js\r\n            var aw0 = new NIAnalogWaveform({\r\n                t0: new NITimestamp(),\r\n                dt: 0.001, // 1 ms\r\n                Y: [a1, a2, a3]\r\n            });\r\n            var aw1 = new NIAnalogWaveform({\r\n                t0: new NITimestamp(),\r\n                dt: 0.001, // 1 ms\r\n                Y: [b1, b2, b3]\r\n            });\r\n            var data = [aw0, aw1];\r\n            ```\r\n            Will be drawn as multiple plots. It's an efficient and fast way to\r\n            pass data to the graph.\r\n            */\r\n            case DataTypesEnum.niAnalogWaveformArray:\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    if (data[j] instanceof AnalogWaveform) {\r\n                        waveform = data[j];\r\n                    } else {\r\n                        waveform = new AnalogWaveform(data[j]);\r\n                    }\r\n                    if (typeof waveform.channelName === 'string' && waveform.channelName.length > 0) {\r\n                        graph.updatePlotName(j, waveform.channelName);\r\n                    }\r\n\r\n                    dataValuesArray2D.push(waveformToFlotFormat(waveform));\r\n                }\r\n\r\n                return dataValuesArray2D;\r\n\r\n            /**\r\n            * **An object (cluster) of arrays**\r\n            ```js\r\n            var data = {a: [a1, a2, a3], b: [b1, b2, b3]};\r\n            ```\r\n             Will be drawn as a single XY plot,\r\n            the first array will hold the X coordinates and the second the Y\r\n            coordinates. This format is only recomended when you want to display\r\n            XY data, it's not particulary efficient or fast.\r\n            */\r\n            case DataTypesEnum.XYClusterOfArrays:\r\n                return [xyClusterOfArraysToFlotFormat(data)];\r\n\r\n            /**\r\n            * **An array of objects (clusters) of arrays**\r\n            ```js\r\n            var data = [\r\n                {a: [a1, a2, a3], b: [b1, b2, b3]},\r\n                {c: [c1, c2, c3], d: [d1, d2, d3]}\r\n            ];\r\n            ```\r\n            Will be drawn as multiple XY plots, the first array in the object\r\n            (cluster) will hold the X coordinates and the second the Y coordinates.\r\n            This format is only recomended when you want to display XY data,\r\n            it's not particulary efficient or fast.\r\n            */\r\n            case DataTypesEnum.XYArrayOfClusterOfArrays:\r\n                return xyArrayOfClusterOfArraysToFlotFormat(data);\r\n\r\n            /**\r\n            * **An array of objects (clusters)**\r\n            ```js\r\n            var data = [\r\n                {x: a1, y: b1},\r\n                {x: a2, y: b2},\r\n                {x: a3, y: b3},\r\n            ];\r\n            ```\r\n            Will be drawn as a single XY plot, the first element in the cluster\r\n            will hold the X coordinates and the second the Y coordinates. This\r\n            format is only recomended when you want to display XY data, it's not\r\n            particulary efficient or fast.\r\n            */\r\n            case DataTypesEnum.XYArrayOfClusters:\r\n                return [xyArrayOfClustersToFlotFormat(data)];\r\n\r\n            /**\r\n            * **An array of array of objects (clusters)**\r\n            ```js\r\n            var data = [\r\n                [{x: a1, y: b1}, {x: a2, y: b2}, {x: a3, y: b3}],\r\n                [{x: c1, y: d1}, {x: c2, y: d2}, {x: c3, y: d3}]\r\n            ];\r\n            ```\r\n            Will be drawn as multiple XY plots, the first element in the cluster\r\n            will hold the X coordinates and the second the Y coordinates. This\r\n            format is only recomended when you want to display XY data, it's not\r\n            particulary efficient or fast.\r\n            */\r\n            case DataTypesEnum.XYArrayOfArrayOfClusters:\r\n                return xyArrayOfArrayOfClustersToFlotFormat(data);\r\n\r\n            /**\r\n            * **An 1D array of Complex Numbers**\r\n            ```js\r\n            var a1 = new NIComplex(1, 2);\r\n            var a2 = new NIComplex(2, 3);\r\n            var a3 = new NIComplex(3, 4);\r\n            var data = [a1, a2, a3]; // array of complex numbers\r\n            var data2 = ['1+2i', '2+3i', '3+4i']; // also accepted as input\r\n            ```\r\n            Will be drawn as a single plot.\r\n            */\r\n            case DataTypesEnum.oneDimensionComplexArray:\r\n                for (i = 0; i < data.length; i++) {\r\n                    dataValuesArray.push(ComplexNumber.prototype.parseFromString(data[i]));\r\n                }\r\n\r\n                return [dataValuesArray];\r\n\r\n            /**\r\n            * **A 2D array of Complex Numbers**\r\n            ```js\r\n            var a1 = new NIComplex(1, 2);\r\n            var a2 = new NIComplex(2, 3);\r\n            var b1 = new NIComplex(3, 4);\r\n            var b2 = new NIComplex(4, 5);\r\n            var data = [[a1, a2], [b1, b2]]; // arrays of complex numbers\r\n            var data2 = [['1+2i', '2+3i'], ['3+4i', '4+5i']]; // also accepted as input\r\n            ```\r\n            Will be drawn as multiple plots.\r\n            */\r\n            case DataTypesEnum.twoDimensionsComplexArray:\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    dataValuesArray = [];\r\n                    for (i = 0; i < data[j].length; i++) {\r\n                        dataValuesArray.push(ComplexNumber.prototype.parseFromString(data[j][i]));\r\n                    }\r\n\r\n                    dataValuesArray2D.push(dataValuesArray);\r\n                }\r\n\r\n                return dataValuesArray2D;\r\n            default:\r\n        }\r\n\r\n        return dataValuesArray2D || [dataValuesArray];\r\n    };\r\n}());\r\n","//****************************************\r\n// ChartDataPipeline\r\n// Utility functions that load LabVIEW datatypes allowed for charts into history\r\n// buffers\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline = function () {\r\n        // Private variables\r\n    };\r\n\r\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\r\n\r\n    var proto = NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline.prototype;\r\n\r\n    // Public prototype methods\r\n    proto.loadValueIntoHistoryBuffer = function (value, historyBuffer) {\r\n        switch (graphDataPipeline.prototype.inferDataType(value)) {\r\n            case '1DNumericArray':\r\n                historyBuffer.appendArray(value);\r\n                break;\r\n            case '2DNumericArray':\r\n                pushBuffersToHistoryBuffer(historyBuffer, value);\r\n                break;\r\n            case 'HistoryBuffer':\r\n                pushBuffersToHistoryBuffer(historyBuffer, value.data);\r\n                break;\r\n            case 'empty':\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    function pushBuffersToHistoryBuffer(historyBuffer, buffers) {\r\n        var width = buffers.length;\r\n        if (width === 0) {\r\n            // no data\r\n            return;\r\n        }\r\n        historyBuffer.setWidth(width);\r\n        for (var i = 0; i < buffers[0].length; i++) {\r\n            var col = [];\r\n            for (var j = 0; j < width; j++) {\r\n                col[j] = buffers[j][i];\r\n            }\r\n            historyBuffer.push(col);\r\n        }\r\n    }\r\n\r\n    proto.toFlot = function (chart, value, valueType) {\r\n        // the chart is not using the element value as data, but the history buffer.\r\n        // We return an array of empty data series with the length equal with the\r\n        // width of the history buffer\r\n        var res = [];\r\n        var width = chart.historyBuffer.width;\r\n        for (var i = 0; i < width; i++) {\r\n            res[i] = [];\r\n        }\r\n        return res;\r\n    }\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    var NINumericFormatters = window.NINumericFormatters;\r\n\r\n    // 'LVRelativeSeconds:Gx' or LVRelativeSeconds:0.##...#\r\n    // Ex: 'LVRelativeSeconds:N4'\r\n    // where N represents the Fixed Notation,\r\n    // G represents the Significant Digits Precision and\r\n    // x is a number representing the number of decimals/digits\r\n    var parseTickFormatterType = function(format) {\r\n        var colonMarkIndex, decimals, g, n,\r\n            unknownFormat = { type: 'default' },\r\n            parsedFormat = unknownFormat;\r\n\r\n        if (format.indexOf('LVSI') === 0) {\r\n            colonMarkIndex = 5;\r\n            var formatSubstring = format.slice(colonMarkIndex);\r\n            if (formatSubstring.indexOf('G') === -1 && formatSubstring.indexOf('N') === -1) {\r\n                if (formatSubstring.indexOf('#') !== -1 && formatSubstring.lastIndexOf('#') === formatSubstring.length - 1) {\r\n                    decimals = formatSubstring.lastIndexOf('#') - formatSubstring.indexOf('#') + 1;\r\n                    parsedFormat = { type: 'si', N: false, G: false, decimals: decimals };\r\n                } else if (formatSubstring === '0') {\r\n                    parsedFormat = { type: 'si', N: false, G: false, decimals: 0 };\r\n                } else {\r\n                    parsedFormat = { type: 'si', N: false, G: false, decimals: null };\r\n                }\r\n            } else {\r\n                decimals = parseInt(formatSubstring.slice(1));\r\n                n = formatSubstring.indexOf('N') === 0;\r\n                g = formatSubstring.indexOf('G') === 0;\r\n                parsedFormat = { type: 'si', N: n, G: g, decimals: decimals };\r\n            }\r\n        }\r\n\r\n        if (format.indexOf('LVRelativeSeconds') === 0) {\r\n            colonMarkIndex = 18;\r\n            var decFormatTypeSubstring = format.slice(colonMarkIndex);\r\n\r\n            if (decFormatTypeSubstring.indexOf('G') === -1 && decFormatTypeSubstring.indexOf('N') === -1) {\r\n                if (decFormatTypeSubstring.lastIndexOf('#') !== -1 && decFormatTypeSubstring.lastIndexOf('#') === decFormatTypeSubstring.length - 1) {\r\n                    decimals = decFormatTypeSubstring.lastIndexOf('#') - decFormatTypeSubstring.indexOf('#') + 1;\r\n                    parsedFormat = { type: 'dec', N: false, G: false, decimals: decimals };\r\n                } else if (decFormatTypeSubstring === '0') {\r\n                    parsedFormat = { type: 'dec', N: false, G: false, decimals: 0 };\r\n                } else {\r\n                    parsedFormat = unknownFormat;\r\n                }\r\n            } else {\r\n                decimals = parseInt(decFormatTypeSubstring.slice(1));\r\n                n = decFormatTypeSubstring.indexOf('N') === 0;\r\n                g = decFormatTypeSubstring.indexOf('G') === 0;\r\n                parsedFormat = { type: 'dec', N: n, G: g, decimals: g ? Math.min(decimals, 21) : decimals };\r\n            }\r\n        }\r\n\r\n        return parsedFormat;\r\n    };\r\n\r\n    var getTickFormatter = function(format) {\r\n        if (format.type === 'si' && format.G) {\r\n            return getSiSignificatDigitsFormatter(format);\r\n        } else if (format.type === 'si' && format.N) {\r\n            return getSiDecimalFormatter(format);\r\n        } else if (format.type === 'si' && typeof format.decimals === 'number') {\r\n            return getSiDecimalFormatter(format);\r\n        } else if (format.type === 'si' && format.decimals === null) {\r\n            return siTickFormatter;\r\n        } else if (format.type === 'dec' && format.G) {\r\n            return getDecPrecisionNotationFormatter(format.decimals);\r\n        } else if (format.type === 'dec' && format.N) {\r\n            return getDecFixedNotationFormatter(format.decimals);\r\n        } else if (format.type === 'dec' && format.decimals === 0) {\r\n            return getDecFixedNotationFormatter(0, true);\r\n        } else if (format.type === 'dec' && format.decimals >= 1) {\r\n            return getDecFixedNotationFormatter(format.decimals);\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    var getSiSignificatDigitsFormatter = function(format) {\r\n        return function siSignificantDigitsFormatter(num) {\r\n            var siValue = NINumericFormatters.prototype.toSiNotation(num, format.decimals),\r\n                value, extension;\r\n            if (isNaN(Number(siValue))) {\r\n                value = Number(siValue.slice(0, siValue.length - 1));\r\n                extension = siValue.slice(siValue.length - 1);\r\n            } else {\r\n                value = Number(siValue);\r\n                extension = '';\r\n            }\r\n            return NINumericFormatters.prototype.toDecPrecisionNotation(value, Math.min(format.decimals, 21)) + extension;\r\n        };\r\n    };\r\n\r\n    var getSiDecimalFormatter = function(format) {\r\n        return function siDecimalFormatter(num) {\r\n            return NINumericFormatters.prototype.toSiNotation(num, format.decimals);\r\n        };\r\n    };\r\n\r\n    var siTickFormatter = function (num, axis, precision, plot) {\r\n        var decimals = axis.tickDecimals,\r\n            log10AxisMin, croppedMin, croppedMax;\r\n\r\n        if (axis.tickDecimals !== axis.options.tickDecimals) {\r\n            // we recompute the precision given by flot by considering another axis range.\r\n            // For example, if axis.min=1000 and axis.max=1200 we recompute the numbers of ticks for min=1 and max=1.2 which gives us 2 decimals needed instead of 0\r\n            croppedMin = computeCroppedValue(axis.min);\r\n            log10AxisMin = axis.min !== 0 ? Math.floor(Math.log(Math.abs(axis.min)) * Math.LOG10E) : 0;\r\n            croppedMax = computeCroppedValue(axis.max, log10AxisMin);\r\n\r\n            decimals = num !== 0 ? Math.abs(plot.computeValuePrecision(croppedMin, croppedMax, axis.direction, axis.options.ticks)) : 0;\r\n        }\r\n\r\n        if (precision) {\r\n            var precisionDecimals = Math.abs(precision) <= 3 ? Math.abs(precision) + 1 : reduceNumberOfDecimals(num, precision, axis.max, axis.min);\r\n            if (precisionDecimals > decimals) {\r\n                //the precision of endpoints should not be smaller then the one used for major ticks\r\n                return NINumericFormatters.prototype.toSiNotation(num, fixDecimalCountForSmallNumbers(num, precisionDecimals));\r\n            }\r\n        }\r\n\r\n        return NINumericFormatters.prototype.toSiNotation(num, fixDecimalCountForSmallNumbers(num, decimals));\r\n    };\r\n\r\n    // Makes sure the number smaller than 1e-24 are not converted to zero\r\n    var fixDecimalCountForSmallNumbers = function(num, decimals) {\r\n        var exponent = Math.floor(Math.log(Math.abs(num)) * Math.LOG10E),\r\n            minSiExtensionExponent = -24;\r\n        if (exponent < minSiExtensionExponent - 1) {\r\n            decimals += Math.abs(minSiExtensionExponent - 1 - exponent);\r\n        }\r\n        return decimals;\r\n    }\r\n\r\n    var getDecPrecisionNotationFormatter = function(decimals) {\r\n        return function(num) {\r\n            return NINumericFormatters.prototype.toDecPrecisionNotation(num, Math.min(decimals, 21));\r\n        };\r\n    };\r\n\r\n    var getDecFixedNotationFormatter = function(decimals, dontRound) {\r\n        return function decFixedNotationFormatter(num) {\r\n            var value = dontRound ? num : roundUsing(Math.floor, num, decimals);\r\n            return NINumericFormatters.prototype.toDecFixedNotation(value, decimals);\r\n        };\r\n    };\r\n\r\n    //heuristic for recomputing the number of decimals to [|log10(|num|) + tickDecimals|]\r\n    //where tickDecimals is compunted based on axis.max-axis.min\r\n    var reduceNumberOfDecimals = function(num, tickDecimals, max, min) {\r\n        var log10Max = Math.log(Math.abs(max)) * Math.LOG10E,\r\n            log10Min = min !== 0 ? Math.log(Math.abs(min)) * Math.LOG10E : 0,\r\n            orderSizeDif = Math.floor(Math.abs(log10Max - log10Min)),\r\n            log10Value = num !== 0 ? Math.log(Math.abs(num)) * Math.LOG10E : 0,\r\n            //the precision computed in flot will be positive for small interval and negative otherwise\r\n            decimals = Math.abs(log10Value + tickDecimals);\r\n\r\n        //the range of axis is big so we need to reduce the no of decimals\r\n        if (orderSizeDif > 3) {\r\n            return Math.ceil(decimals * 3 / orderSizeDif);\r\n        }\r\n\r\n        return Math.ceil(decimals);\r\n    };\r\n\r\n    var computeCroppedValue = function(val, roundingPower) {\r\n        var log10Value = val !== 0 ? Math.floor(Math.log(Math.abs(val)) * Math.LOG10E) : 0,\r\n            exp = Math.pow(10, log10Value),\r\n            croppedVal = val;\r\n\r\n        if (roundingPower > 0) {\r\n            croppedVal /= Math.pow(10, Math.floor(roundingPower / 3) * 3);\r\n        } else croppedVal *= Math.pow(10, log10Value % 3) / exp;\r\n\r\n        return croppedVal;\r\n    }\r\n\r\n    var roundUsing = function(roundFunction, number, precisionDigits) {\r\n        var precision = Math.pow(10, precisionDigits);\r\n        var tempNumber = number * precision;\r\n        tempNumber = roundFunction(tempNumber);\r\n\r\n        return tempNumber / precision;\r\n    };\r\n\r\n    NINumericFormatters.parseTickFormatterType = parseTickFormatterType;\r\n    NINumericFormatters.getTickFormatter = getTickFormatter;\r\n})();\r\n","//****************************************\r\n// Cartesian Graph Base Prototype\r\n// DOM Registration: HTMLNICartesianGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n/**\r\n## Webcharts API methods\r\nThe following methods are available for ni-cartesian-graph, ni-chart and\r\nni-intensity-graph.\r\n\r\n**setData** is the prefered method to write data to a graph. The other\r\noption, writing to the *value* property of the element is only recommended\r\nfor rarely changed small datasets, since it consumes more memory and CPU\r\ndue to the serialization/deserialization needed.\r\n\r\n```js\r\n// graph needs to be ready before calling any methods on it\r\nvar graph = document.querySelector('#myGraph');\r\ngraph.setData([1, 2, 3, 4, 5]);\r\n```\r\n\r\n**onRecenterPlot** is used to perform a reset for webcharts. This includes\r\nresetting the offset of the axis and redrawing of the plot.\r\n\r\n```js\r\n// graph needs to be ready before calling any methods on it\r\nvar graph = document.querySelector('#myGraph');\r\ngraph.onRecenterPlot();\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\r\n\r\n    var plotsUpdatesEnabled = true;\r\n    var graphConfigPending = false;\r\n    var seriesLength = 0;\r\n    const defaultPlotColors = [\r\n        'rgba(123, 22, 26, 1)',\r\n        'rgba(0, 142, 228, 1)',\r\n        'rgba(226, 182, 131, 1)',\r\n        'rgba(183, 172, 31, 1)',\r\n        'rgba(174, 220, 239, 1)',\r\n        'rgba(160, 139, 176, 1)',\r\n        'rgba(127, 127, 127, 1)',\r\n        'rgba(60, 7, 38, 1)'\r\n    ];\r\n\r\n    class CartesianGraphBase extends window.JQX.BaseElement {\r\n        getSettings() {\r\n            return this.getSettingsWorkaround();\r\n        };\r\n\r\n        //this is useful for adding or changing the default settings (e.g. chart or ni-light-plot-legend)\r\n        getSettingsWorkaround() {\r\n            var settings = {\r\n                lines: {\r\n                    show: true,\r\n                    lineWidth: 1\r\n                },\r\n                series: {\r\n                    shadowSize: 0, // Drawing is faster without shadows\r\n                    points: {\r\n                        lineWidth: 1 // in pixels\r\n                        //,fill: false // it's way faster if we don't fill the shapes. TODO: enable this\r\n                    }\r\n                },\r\n                axisLabels: {\r\n                    show: true\r\n                },\r\n                xaxes: [{}],\r\n                yaxes: [{}],\r\n                zoom: {\r\n                    interactive: true,\r\n                    trigger: null\r\n                },\r\n                pan: {\r\n                    interactive: true,\r\n                    enableTouch: true\r\n                },\r\n                selection: {\r\n                    mode: null\r\n                },\r\n                grid: {},\r\n                colors: defaultPlotColors\r\n            };\r\n\r\n            return settings;\r\n        }\r\n\r\n        static get defaultPlotColors() {\r\n            return defaultPlotColors;\r\n        };\r\n\r\n        configureGraph() {\r\n            var i;\r\n            var cartesianGraphSettings = this.getSettings();\r\n            if (this.plotAreaMargin !== '') {\r\n                cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\r\n            }\r\n\r\n            // Apply Settings from host\r\n            cartesianGraphSettings.xaxes = [];\r\n            cartesianGraphSettings.yaxes = [];\r\n            cartesianGraphSettings.cursors = [];\r\n\r\n            for (i = 0; i < this.axes.length; i++) {\r\n                var axis = this.axes[i];\r\n                var a = axis.getViewConfig();\r\n\r\n                if (a) {\r\n                    if (a.position && ((a.position === 'left') || (a.position === 'right'))) {\r\n                        cartesianGraphSettings.yaxes.push(a);\r\n                    }\r\n\r\n                    if (a.position && ((a.position === 'top') || (a.position === 'bottom'))) {\r\n                        cartesianGraphSettings.xaxes.push(a);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (i = 0; i < this.cursors.length; i++) {\r\n                var cursor = this.cursors[i];\r\n                var c = cursor.getViewConfig();\r\n                cartesianGraphSettings.cursors.push(c);\r\n            }\r\n\r\n            if (this.graphTools) {\r\n                cartesianGraphSettings.zoom.interactive = this.graphTools.allowsScrollWheelZoom();\r\n                cartesianGraphSettings.pan.interactive = this.graphTools.allowsPan();\r\n                cartesianGraphSettings.selection.mode = this.graphTools.mode === 'zoom' ? 'smart' : null;\r\n            }\r\n\r\n            return cartesianGraphSettings;\r\n        };\r\n\r\n        updateGraphConfig() {\r\n            var childElement = this.graphdiv;\r\n            if (childElement === undefined) {\r\n                return; // not ready yet\r\n            }\r\n\r\n            var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(this.parsedValue));\r\n            var cartesianGraphSettings = this.configureGraph();\r\n            this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n            this.setGridStyle(this.gridEl, cartesianGraphSettings);\r\n\r\n            try {\r\n                this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n                var that = this;\r\n                this.graph.getCursors().forEach(function(cursor, i) {\r\n                    /* place a cookie on the cursor */\r\n                    cursor.cookie = that.cursors[i];\r\n                    that.cursors[i].setCursor(cursor);\r\n                });\r\n            } catch (error) {\r\n                NI_SUPPORT.log(error.message);\r\n            }\r\n        };\r\n\r\n        onCursorUpdates(event, cursordata) {\r\n            cursordata.forEach(function(cursor, i) {\r\n                cursor.target.cookie.updateCursorElement(cursordata[i]);\r\n            });\r\n        };\r\n\r\n        onRecenterPlot(event) {\r\n            this.parentElement.axes.forEach(function(axis) {\r\n                if (event.detail.axisTouched && axis.getFlotAxis() !== event.detail.axisTouched) {\r\n                    return;\r\n                }\r\n                if (axis.resetOffset) {\r\n                    axis.resetOffset();\r\n                }\r\n            });\r\n            this.parentElement.updateCartesianAxesFromFlot();\r\n        };\r\n\r\n        updateCartesianAxesFromFlot() {\r\n            this.axes.forEach(function(axis) {\r\n                if (axis instanceof JQX.CartesianAxis) {\r\n                    axis.syncWithFlot();\r\n                }\r\n            });\r\n        };\r\n\r\n        throttlePlotUpdates(throttle) {\r\n            plotsUpdatesEnabled = !throttle;\r\n            if (plotsUpdatesEnabled && graphConfigPending) {\r\n                this.updateGraphConfig(); // keep the graph in sync\r\n                graphConfigPending = false;\r\n            }\r\n        };\r\n\r\n        updateGraphConfigWhenPlotsUpdatesAreEnabled() {\r\n            if (plotsUpdatesEnabled) {\r\n                this.updateGraphConfig();\r\n                graphConfigPending = false;\r\n            } else {\r\n                graphConfigPending = true;\r\n            }\r\n        };\r\n\r\n        convertToFlotFormat(value) {\r\n            return graphDataPipeline.prototype.toFlot(this, value, this.valueType);\r\n        };\r\n\r\n        updatePlotName(index, name) {\r\n            if (name) {\r\n                if (this.plots[index]) {\r\n                    this.plots[index].label = name;\r\n                }\r\n            }\r\n        };\r\n\r\n        createData(plots, dataSeries) {\r\n            var plotConfig = [];\r\n\r\n            dataSeries.forEach(function(data, i) {\r\n                var plot = plots[i];\r\n                if (Array.isArray(data)) {\r\n                    data = {\r\n                        data: data\r\n                    };\r\n                }\r\n\r\n                if (plot) {\r\n                    plotConfig[i] = plot.getViewConfig();\r\n                    plotConfig[i].data = (plot.show) ? data.data : [];\r\n                    // TODO mix the properties in a better way\r\n                    plotConfig[i].flatdata = data.flatdata;\r\n                    plotConfig[i].start = data.start;\r\n                    plotConfig[i].step = data.step;\r\n                    plotConfig[i].decimate = data.decimate;\r\n                    plotConfig[i].decimatePoints = data.decimatePoints;\r\n                } else {\r\n                    plotConfig[i] = data;\r\n                }\r\n            });\r\n\r\n            return plotConfig;\r\n        };\r\n\r\n        setData(data) {\r\n            var graph = this.graph;\r\n\r\n            if (graph === undefined) {\r\n                return;\r\n            }\r\n\r\n            var dataSeries = this.convertToFlotFormat(data);\r\n            this.parsedValue = data;\r\n            graph.setData(this.createData(this.plots, dataSeries));\r\n            graph.setupGrid();\r\n            graph.draw();\r\n\r\n            if (dataSeries.length !== seriesLength) {\r\n                seriesLength = dataSeries.length;\r\n                this.notifyPlotLegend('ni-plot-count-changed', { element: this, plotCount: dataSeries.length });\r\n            }\r\n        };\r\n\r\n        /** ## Webcharts properties*/\r\n        static get properties() {\r\n            const properties = Object.assign({}, super.properties, {\r\n                'value': {\r\n                    value: [],\r\n                    type: 'object'\r\n                },\r\n\r\n                /** **graph-ref** - a graph id used to bind legends to the graph*/\r\n                'graphRef': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **plot-area-margin** - TODO - document this*/\r\n                'plotAreaMargin': {\r\n                    value: '',\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return properties;\r\n        };\r\n\r\n        created() {\r\n            super.created();\r\n            this.plots = [];\r\n            this.axes = [];\r\n            this.cursors = [];\r\n            this.plotLegend = null;\r\n            this.cursorLegend = null;\r\n            this.scaleLegend = null;\r\n            this.graphTools = null;\r\n            this.graphdiv = undefined;\r\n            this.tooltip = null;\r\n            this.tooltipHolder = null;\r\n            this.parsedValue = null;\r\n            this.addGraphItemListeners();\r\n        };\r\n\r\n        onResize(size) {\r\n            if (this.isVisibleElement(this)) {\r\n                if (this.graph === undefined) {\r\n                    this.createGraph();\r\n                }\r\n\r\n                var plot = this.graph;\r\n                plot.clearTextCache();\r\n                plot.resize();\r\n                plot.setupGrid();\r\n                plot.draw();\r\n            } else {\r\n                this.detachChildElement();\r\n            }\r\n        };\r\n\r\n        static get listeners() {\r\n            return {\r\n                'resize': 'onResize',\r\n                'resizeEventHack': 'onResize' // This event is fired by the LV Editor framework on resize\r\n            };\r\n        }\r\n\r\n        isVisibleElement(element) {\r\n            while (element !== null) {\r\n                if (getComputedStyle(element).display === 'none') {\r\n                    return false;\r\n                }\r\n                element = element.parentElement;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        createGraph() {\r\n            var that = this;\r\n\r\n            if (!this.isVisibleElement(that)) {\r\n                return;\r\n            }\r\n            var childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.className = 'webchart-drawing-layer';\r\n            this.appendChild(childElement);\r\n            var tooltipHolder = document.createElement('div');\r\n            tooltipHolder.style.width = '0px';\r\n            tooltipHolder.style.height = '0px';\r\n            tooltipHolder.style.position = 'relative';\r\n            tooltipHolder.className = 'ni-graph-tooltip-base';\r\n            var tooltip = document.createElement('div');\r\n            tooltip.id = 'tooltip' + NI_SUPPORT.uniqueId();\r\n            tooltip.className = 'ni-graph-tooltip';\r\n            tooltipHolder.appendChild(tooltip);\r\n            this.appendChild(tooltipHolder);\r\n            this.tooltip = tooltip;\r\n            this.tooltipHolder = tooltipHolder;\r\n            var fakeGrid = document.createElement('ni-grid-div');\r\n            fakeGrid.style.visibility = 'hidden';\r\n            this.appendChild(fakeGrid);\r\n            this.gridEl = fakeGrid;\r\n\r\n            this.graphdiv = childElement;\r\n\r\n            var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(this.parsedValue));\r\n            var cartesianGraphSettings = this.configureGraph();\r\n            this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n            this.setGridStyle(this.gridEl, cartesianGraphSettings);\r\n\r\n            try {\r\n                this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n            } catch (e) {\r\n                NI_SUPPORT.log('Failed to create a flot chart. Make sure that the placeholder element has a non-zero size !');\r\n            }\r\n\r\n            $(childElement).bind('plothover', function(event, pos, item) {\r\n                if (item && that.plots[item.seriesIndex]) {\r\n                    var x = item.datapoint[0],\r\n                        y = item.datapoint[1],\r\n                        hoverFormat = that.plots[item.seriesIndex].hoverFormat || '{0}, {1}',\r\n                        str = that.format(hoverFormat, x, y);\r\n\r\n                    $(tooltip).html(str)\r\n                        .css({\r\n                            top: item.pageY - $(tooltipHolder).offset().top + 5,\r\n                            left: item.pageX - $(tooltipHolder).offset().left + 5\r\n                        })\r\n                        .fadeIn(100);\r\n                } else {\r\n                    $(tooltip).hide();\r\n                }\r\n            });\r\n\r\n            $(childElement).bind('plothovercleanup', function() {\r\n                $(tooltip).hide();\r\n            });\r\n\r\n            try {\r\n                this.graph.getPlaceholder().bind('cursorupdates', this.onCursorUpdates);\r\n                this.graph.getPlaceholder().bind('re-center', this.onRecenterPlot);\r\n                this.graph.getCursors().forEach(function(cursor, i) {\r\n                    /* place a cookie on the cursor */\r\n                    cursor.cookie = that.cursors[i];\r\n                    that.cursors[i].setCursor(cursor);\r\n                });\r\n            } catch (e) {}\r\n        };\r\n\r\n        attached() {\r\n            super.attached();\r\n            this.parsedValue = this.value;\r\n            this.attachChildren();\r\n            this.createGraph();\r\n            this.attachLegends();\r\n        };\r\n\r\n        detached() {\r\n            super.detached();\r\n            this.detachChildElement();\r\n        }\r\n\r\n        detachChildElement() {\r\n            this.graph.destroy();\r\n            this.removeChild(this.graphdiv);\r\n            this.graphdiv = undefined;\r\n            this.removeChild(this.tooltipHolder);\r\n            this.tooltip = undefined;\r\n            this.tooltipHolder = undefined;\r\n            this.removeChild(this.gridEl);\r\n            this.gridEl = undefined;\r\n        }\r\n\r\n        addGraphItemListeners(childElements) {\r\n            var that = this,\r\n                pushNewPlot = function(graph, plots, newPlot) {\r\n                    var siblings = graph.getElementsByTagName('ni-cartesian-plot'),\r\n                        newOrderedPlotList = [];\r\n                    for (var i = 0; i < siblings.length; i++) {\r\n                        var sibling = siblings[i],\r\n                            alreadyPushed = plots.find(function(p) {\r\n                                return p === sibling;\r\n                            });\r\n                        if (alreadyPushed || sibling === newPlot) {\r\n                            newOrderedPlotList.push(sibling);\r\n                        }\r\n                    }\r\n                    return newOrderedPlotList;\r\n                };\r\n            that.addEventListener('ni-cartesian-plot-attached', function (evt) {\r\n                if (evt.target === that) {\r\n                    that.plots = pushNewPlot(that, that.plots, evt.detail.element);\r\n                    that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n                    that.notifyPlotLegend('ni-cartesian-plot-attached', evt.detail.element);\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-cartesian-plot-detached', function(evt) {\r\n                var i;\r\n\r\n                that.notifyPlotLegend('ni-cartesian-plot-detached', evt.detail.element);\r\n\r\n                if (evt.target === that) {\r\n                    for (i = 0; i < that.plots.length; i++) {\r\n                        if (that.plots[i] === evt.detail.element) {\r\n                            that.plots.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-cartesian-axis-attached', function (evt) {\r\n                if (evt.target === that) {\r\n                    that.axes.push(evt.detail.element);\r\n                    that.updateGraphConfig();\r\n                    that.notifyScaleLegend('ni-cartesian-axis-attached', evt.detail.element);\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-cartesian-axis-detached', function (evt) {\r\n                var i;\r\n\r\n                if (evt.target === that) {\r\n                    for (i = 0; i < that.axes.length; i++) {\r\n                        if (that.axes[i] === evt.detail.element) {\r\n                            that.axes.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    that.updateGraphConfig();\r\n                    that.notifyScaleLegend('ni-cartesian-axis-detached', evt.detail.element);\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-cursor-attached', function(evt) {\r\n                if (evt.target === that) {\r\n                    that.cursors.push(evt.detail.element);\r\n                    that.updateGraphConfig();\r\n                    that.notifyCursorLegend('ni-cursor-attached', evt.detail.element);\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-cursor-detached', function(evt) {\r\n                var i;\r\n\r\n                if (evt.target === that) {\r\n                    for (i = 0; i < that.cursors.length; i++) {\r\n                        if (that.cursors[i] === evt.detail.element) {\r\n                            that.cursors.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    that.updateGraphConfig();\r\n                    that.notifyCursorLegend('ni-cursor-detached', evt.detail.element);\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-axis-changed', function(evt) {\r\n                that.updateGraphConfig();\r\n                that.notifyScaleLegend('ni-axis-changed', evt.detail.element);\r\n            });\r\n\r\n            that.addEventListener('ni-axis-reset', function(evt) {\r\n                var axis = evt.detail.element,\r\n                    flotAxis = axis.getFlotAxis();\r\n                that.graph.recenter({axes: [ flotAxis ]});\r\n                that.notifyScaleLegend('ni-axis-changed', evt.detail.element);\r\n            });\r\n\r\n            that.addEventListener('ni-cursor-changed', function(evt) {\r\n                that.updateGraphConfig();\r\n                that.notifyCursorLegend('ni-cursor-changed', evt.detail.element);\r\n            });\r\n\r\n            that.addEventListener('ni-cartesian-plot-changed', function(evt) {\r\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n                that.notifyPlotLegend('ni-cartesian-plot-changed', evt.detail.element);\r\n            });\r\n\r\n            that.addEventListener('ni-cartesian-plot-renderer-changed', function(evt) {\r\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n                that.notifyPlotLegend('ni-cartesian-plot-renderer-changed', evt.detail.originalSource);\r\n            });\r\n\r\n            that.addEventListener('ni-cartesian-plot-renderer-attached', function(evt) {\r\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n                that.notifyPlotLegend('ni-cartesian-plot-renderer-attached', evt.detail.originalSource);\r\n            });\r\n\r\n            that.addEventListener('ni-cartesian-plot-renderer-detached', function(evt) {\r\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n                that.notifyPlotLegend('ni-cartesian-plot-renderer-detached', evt.detail.originalSource);\r\n            });\r\n\r\n            that.addEventListener('ni-graph-tools-changed', function() {\r\n                that.updateGraphConfig();\r\n            });\r\n        };\r\n\r\n        registerPlotLegend(plotLegend) {\r\n            this.plotLegend = plotLegend;\r\n        };\r\n\r\n        notifyPlotLegend(name, originalSource) {\r\n            var eventConfig;\r\n\r\n            if (this.plotLegend !== null) {\r\n                eventConfig = {\r\n                    bubbles: false,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this,\r\n                        originalSource: originalSource\r\n                    }\r\n                };\r\n\r\n                this.plotLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        registerCursorLegend(cursorLegend) {\r\n            var i;\r\n            this.cursorLegend = cursorLegend;\r\n            if (this.cursors.length > 0) {\r\n                for (i = 0; i < this.cursors.length; i++) {\r\n                    this.notifyCursorLegend('ni-cursor-attached', this.cursors[i]);\r\n                }\r\n            }\r\n        };\r\n\r\n        notifyCursorLegend(name, originalSource) {\r\n            var eventConfig;\r\n\r\n            if (this.cursorLegend !== null) {\r\n                eventConfig = {\r\n                    bubbles: false,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this,\r\n                        originalSource: originalSource\r\n                    }\r\n                };\r\n\r\n                this.cursorLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        registerScaleLegend(scaleLegend) {\r\n            var i;\r\n            this.scaleLegend = scaleLegend;\r\n            if (this.axes.length > 0) {\r\n                for (i = 0; i < this.axes.length; i++) {\r\n                    this.notifyScaleLegend('ni-cartesian-axis-attached', this.axes[i]);\r\n                }\r\n            }\r\n        };\r\n\r\n        notifyScaleLegend(name, originalSource) {\r\n            var eventConfig;\r\n\r\n            if (this.scaleLegend !== null) {\r\n                eventConfig = {\r\n                    bubbles: false,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this,\r\n                        originalSource: originalSource\r\n                    }\r\n                };\r\n\r\n                this.scaleLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        registerGraphTools(graphTools) {\r\n            var that = this;\r\n            this.graphTools = graphTools;\r\n\r\n            this.updateGraphConfig();\r\n\r\n            $(this.graphdiv).on('plotselected', function(event, ranges) {\r\n                that.notifyGraphTools('ni-cartesian-graph-box-selected', {\r\n                    ranges: ranges\r\n                });\r\n            });\r\n\r\n            $(this.graphdiv).on('plotpan', function(event, ranges) {\r\n                that.notifyGraphTools('ni-cartesian-graph-interaction', {\r\n                    ranges: ranges\r\n                });\r\n            });\r\n\r\n            $(this.graphdiv).on('plotzoom', function(event, ranges) {\r\n                that.notifyGraphTools('ni-cartesian-graph-interaction', {\r\n                    ranges: ranges\r\n                });\r\n            });\r\n        };\r\n\r\n        notifyGraphTools(name, originalSource) {\r\n            var eventConfig;\r\n\r\n            if (this.graphTools !== null) {\r\n                eventConfig = {\r\n                    bubbles: false,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this,\r\n                        originalSource: originalSource\r\n                    }\r\n                };\r\n\r\n                this.graphTools.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        attachChildren() {\r\n            var graphElement = this,\r\n                children = this.children,\r\n                tagsAndClasses = {\r\n                    'NI-COLOR-SCALE': window.JQX.ColorScale,\r\n                    'NI-CARTESIAN-PLOT': window.JQX.CartesianPlot,\r\n                    'NI-CURSOR': window.JQX.Cursor,\r\n                    'NI-CARTESIAN-AXIS': window.JQX.CartesianAxis\r\n                };\r\n\r\n            for (var i = 0; i < children.length; i++) {\r\n                var element = children[i];\r\n                if (tagsAndClasses[element.tagName] && element instanceof tagsAndClasses[element.tagName] && element.isReady) {\r\n                    element.attachToGraph(graphElement);\r\n                }\r\n            }\r\n        };\r\n\r\n        // find the graph legend elements that were created before the graph element and attach them\r\n        attachLegends() {\r\n            var graphElement = this,\r\n                legendTags = [\r\n                    'ni-plot-legend'.toUpperCase(),\r\n                    'ni-scale-legend'.toUpperCase(),\r\n                    'ni-cursor-legend'.toUpperCase(),\r\n                    'ni-graph-tools'.toUpperCase()\r\n                ],\r\n\r\n                children = this.parentElement.children,\r\n                myLegends = [];\r\n\r\n            for (var i = 0; i < children.length; i++) {\r\n                var element = children[i];\r\n                if ((legendTags.indexOf(element.tagName) !== -1) && (element.graphRef === this.graphRef || element.graphRef === this.niControlId)) {\r\n                    // this is a legend element that references this graph element\r\n                    myLegends.push(element);\r\n                }\r\n            }\r\n\r\n            myLegends.forEach(function(legend) {\r\n                if (legend.isReady && legend.attachToGraph) {\r\n                    legend.attachToGraph(graphElement);\r\n                }\r\n            });\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n            switch (propertyName) {\r\n                case 'value':\r\n                    this.setData(this.value);\r\n                    break;\r\n                case 'plotAreaMargin':\r\n                    this.updateGraphConfig();\r\n                    break;\r\n            }\r\n        };\r\n\r\n        format() {\r\n            var args = arguments;\r\n            var str = args[0];\r\n            return str.replace(/{(\\d+)}/g, function(match, number) {\r\n                var index = parseInt(number) + 1;\r\n                var item = args[index];\r\n\r\n                if (typeof item !== 'undefined') {\r\n                    var len1 = item.toFixed(2).length;\r\n                    var len2 = item.toExponential(2).length;\r\n                    if (len1 < len2) {\r\n                        return item.toFixed(2);\r\n                    } else {\r\n                        return item.toExponential(2);\r\n                    }\r\n                } else {\r\n                    return match;\r\n                }\r\n            });\r\n        };\r\n\r\n        setHover(graphData, graphSettings) {\r\n            var i,\r\n                isHoverable = false;\r\n\r\n            for (i = 0; i < graphData.length; i++) {\r\n                if (graphData[i].hoverable) {\r\n                    isHoverable = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (isHoverable === true) {\r\n                if (graphSettings.grid === undefined) {\r\n                    graphSettings.grid = {};\r\n                }\r\n\r\n                graphSettings.grid.hoverable = isHoverable;\r\n            } else {\r\n                if (this.tooltip !== null) {\r\n                    $(this.tooltip).hide();\r\n                }\r\n            }\r\n        };\r\n\r\n        setGridStyle(gridEl, graphSettings) {\r\n            var grid = graphSettings.grid;\r\n            var style = window.getComputedStyle(gridEl);\r\n            var borderStyle = style.borderStyle;\r\n\r\n            var borderBottomWidth = style.borderBottomWidth.replace('px', '');\r\n            var borderTopWidth = style.borderTopWidth.replace('px', '');\r\n            var borderLeftWidth = style.borderLeftWidth.replace('px', '');\r\n            var borderRightWidth = style.borderRightWidth.replace('px', '');\r\n            var borderWidth = {\r\n                top: Number(borderTopWidth),\r\n                bottom: Number(borderBottomWidth),\r\n                left: Number(borderLeftWidth),\r\n                right: Number(borderRightWidth)\r\n            };\r\n\r\n            var color = style.borderColor;\r\n            var bgColor = style.backgroundColor;\r\n\r\n            grid.borderWidth = (borderStyle === 'solid') ? borderWidth : 0;\r\n            grid.borderColor = color;\r\n            grid.color = style.color;\r\n            grid.backgroundColor = bgColor;\r\n        };\r\n\r\n        getYAxisIndexByNIControlID(id) {\r\n            var index = 0;\r\n\r\n            for (var i = 0; i < this.axes.length; i++) {\r\n                var axis = this.axes[i];\r\n                if ((axis.axisPosition === 'left') || (axis.axisPosition === 'right')) {\r\n                    index++;\r\n                    if (axis.axisRef === id || axis.niControlId === id) {\r\n                        return index;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return 1;\r\n        }\r\n\r\n        getXAxisIndexByNIControlID(id) {\r\n            var index = 0;\r\n\r\n            for (var i = 0; i < this.axes.length; i++) {\r\n                var axis = this.axes[i];\r\n                if ((axis.axisPosition === 'top') || (axis.axisPosition === 'bottom')) {\r\n                    index++;\r\n                    if (axis.axisRef === id || axis.niControlId === id) {\r\n                        return index;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return 1;\r\n        }\r\n\r\n        takeGraphSnapshot(canvasOrSvgSources, destinationCanvas) {\r\n            return this.graph.composeImages(canvasOrSvgSources, destinationCanvas);\r\n        }\r\n\r\n        template () {\r\n            return '';\r\n        }\r\n    };\r\n\r\n    Object.assign(window.NationalInstruments.HtmlVI.Elements, {\r\n        'CartesianGraphBase': CartesianGraphBase\r\n    });\r\n}());\r\n","//****************************************\r\n// Cartesian Graph Prototype\r\n// DOM Registration: HTMLNICartesianGraph\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-cartesian-graph\r\n\r\n> A custom element that allows to graph one or multiple data sets.\r\n\r\nAn ni-cartesian-graph is a declarative way, that uses custom elements, to add a graph\r\nto a web page. Specify your data sets using the value attribute and customize how\r\nthe data is renderended using nested custom elements such as *ni-cartesian-axis*,\r\n*ni-cartesian-plot*, *ni-cartesian-plot-renderer* or *ni-cursor*.\r\n\r\nExample showing how you can render a graph of prime number versus fibonacci numbers.\r\n```html\r\n<ni-cartesian-graph value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n  <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n  <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n  <ni-cartesian-plot show label=\"Prime Numbers\">\r\n    <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\r\n    </ni-cartesian-plot-renderer>\r\n  </ni-cartesian-plot>\r\n  <ni-cartesian-plot show label=\"Fibonacci Numbers\">\r\n    <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\r\n    </ni-cartesian-plot-renderer>\r\n  </ni-cartesian-plot>\r\n</ni-cartesian-graph>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    class CartesianGraph extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase {\r\n        /// include ./DataPipeline/niGraphDataPipeline.js\r\n    };\r\n\r\n    JQX('ni-cartesian-graph', CartesianGraph);\r\n}());\r\n","//****************************************\r\n// Chart custom element\r\n// DOM Registration: HTMLNIChart\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-chart\r\n\r\n> A custom element that allows to chart one or multiple data sets.\r\n\r\nThe difference between a graph and a chart is that a graph plots directly the data\r\nsets provided but the chart uses a buffer of historical values, called a\r\nHistoryBuffer for data handling.\r\n\r\nAs you append new values to the charts' History buffer the chart is updated as\r\nneeded, on the next browser animation frame.\r\n\r\nExample:\r\n\r\n```html\r\n<ni-chart id=\"chart1\" buffer-size=\"1024\">\r\n    <ni-cartesian-axis show label=\"Time\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n    <ni-cartesian-axis show label=\"Amplitude\" axis-position=\"left\"></ni-cartesian-axis>\r\n    <ni-cartesian-plot show label=\"Plot 1\">\r\n      <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"#a84716\"></ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n</ni-chart>\r\n\r\n<script>\r\n  var historyBuffer = $('#chart1').getHistoryBuffer();\r\n\r\n  // write 1000 values into the chart's history buffer\r\n  for (var i = 0; i < 10; i++) {\r\n    historyBuffer.push(Math.sin(i));\r\n    i += 0.01;\r\n  }\r\n</script>\r\n```\r\n\r\nThe HistoryBuffer API is described [here](historyBuffer.md).\r\n\r\n## Data types supported by ni-chart\r\n\r\nTo add data to the chart you need to write it into the history buffer. Remember to set\r\nthe width of the history buffer to be *equal with number of plots* you are writing.\r\n\r\nUse [history buffer's](historyBuffer.md) *setWidth* method to change the number of\r\ndata series in the chart.\r\n\r\nHere are some examples for adding numbers and arrays of numbers to the history buffer.\r\n\r\n* **Numbers**\r\n```js\r\n    var chart = document.querySelector('#myChart');\r\n    var hb = chart.getHistoryBuffer();\r\n\r\n    hb.push(5); // add 5 to the history buffer\r\n```\r\nThis will render a single plot\r\n\r\n* **multiple Numbers**\r\n```js\r\n    var chart = document.querySelector('#myChart');\r\n    var hb = chart.getHistoryBuffer();\r\n    hb.setWidth(3); // sets the width of the history buffer (number of plots)\r\n\r\n    hb.push([5, 7, 8]); // adds 5 to first data series,\r\n                        // 7 to the second one and 8 to the third one\r\n```\r\nThis will render 3 plots\r\n\r\n* **array of Numbers**\r\n```js\r\n    var chart = document.querySelector('#myChart');\r\n    var hb = chart.getHistoryBuffer();\r\n\r\n    hb.appendArray([5, 7, 8]); // add 5, 7 and 8 to first data series\r\n```\r\nThis will render a single plot.\r\n\r\n* **arrays of arrays of Numbers**\r\n```js\r\n    var chart = document.querySelector('#myChart');\r\n    var hb = chart.getHistoryBuffer();\r\n\r\n    hb.appendArray([[5, 7], [8, 9]]); // add 5 and 7 to first data series\r\n                                     // and 8 and 9 to the second one\r\n```\r\nThis will render two plots.\r\n\r\n* **analogWaveform**\r\n```js\r\n    var chart = document.querySelector('#myChart');\r\n    var hb = chart.getHistoryBuffer();\r\n    hb.setType('analogWaveform'); // or 'numeric' to switch the history buffer back to numeric data types\r\n\r\n    var aw = new NIAnalogWaveform({\r\n        t0: new NITimestamp(),\r\n        dt:0.001,\r\n        Y: [1, 2, 3, 5]\r\n    });\r\n\r\n    hb.push(aw); // push the analog waveform into the buffer\r\n```\r\nThis will render one plot of analog waveforms.\r\n\r\n* ** array of analogWaveforms**\r\n```js\r\n    var chart = document.querySelector('#myChart');\r\n    var hb = chart.getHistoryBuffer();\r\n    hb.setType('analogWaveform'); // or 'numeric' to switch the history buffer back to numeric data types\r\n    hb.setWidth(2);\r\n\r\n    var aw = new NIAnalogWaveform({\r\n        t0: new NITimestamp(),\r\n        dt:0.001,\r\n        Y: [1, 2, 3, 5]\r\n    });\r\n\r\n    var aw1 = new NIAnalogWaveform({\r\n        t0: new NITimestamp(),\r\n        dt:0.001,\r\n        Y: [6, 7, 8, 9]\r\n    });\r\n\r\n    hb.push([aw, aw1]); // push the analog waveforms into the buffer\r\n```\r\n\r\nThis will render two plots af analog waveforms.\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var ChartDataPipeline = NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline;\r\n\r\n    class Chart extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase {\r\n        /** ### ni-chart properties*/\r\n        static get properties() {\r\n            const properties = Object.assign({}, super.properties, {\r\n                /** **buffer-size** (number) - the size of the chart history buffer */\r\n                'bufferSize': {\r\n                    value: 1024,\r\n                    type: 'number'\r\n                }\r\n            });\r\n\r\n            return properties;\r\n        };\r\n\r\n        /** **value** - the default value to initialize the history buffer with\r\n\r\n        Supported formats:\r\n        * empty string for no default value\r\n        * 1D array for single plot charts: [1, 2, 3]\r\n        * 2D arrays for multiple plot charts: [[1, 11], [2, 12], [3, 13]]\r\n        * serialized history buffer: { valueType: 'HistoryBuffer', data: [[1, 2, 3], [11, 12, 13]] }\r\n\r\n        It is possible to specify special values like NaN or Infinity as strings: [1, 2, 'NaN', 'Infinity']\r\n\r\n         */\r\n\r\n        /** ### ni-chart methods*/\r\n\r\n        /** **setHistoryBuffer(historyBuffer)** - changes the internal history buffer\r\n        of the chart to the provided one*/\r\n        setHistoryBuffer(historyBuffer) {\r\n            this.historyBuffer = historyBuffer;\r\n        };\r\n\r\n        /** **getHistoryBuffer()** - returns a reference to the internal history\r\n        buffer of the chart*/\r\n        getHistoryBuffer() {\r\n            return this.historyBuffer;\r\n        };\r\n\r\n        ready() {\r\n            if (!this.historyBuffer) {\r\n                this.historyBuffer = new HistoryBuffer(this.bufferSize, 1);\r\n            }\r\n            if (this.value) {\r\n                ChartDataPipeline.prototype.loadValueIntoHistoryBuffer(this.value, this.historyBuffer);\r\n            }\r\n            super.ready();\r\n        };\r\n\r\n        createData(plots, dataSeries) {\r\n            var plotConfig = [];\r\n            var len = Math.max(dataSeries.length, plots.length);\r\n\r\n            for (var i = 0; i < len; i++) {\r\n                var data = dataSeries[i] || [];\r\n                var plot = plots[i];\r\n                if (Array.isArray(data)) {\r\n                    data = {\r\n                        data: data\r\n                    };\r\n                }\r\n\r\n                if (plot) {\r\n                    plotConfig[i] = plot.getViewConfig();\r\n                    plotConfig[i].data = (plot.show) ? data.data : [];\r\n                } else {\r\n                    plotConfig[i] = data;\r\n                }\r\n            }\r\n\r\n            return plotConfig;\r\n        };\r\n\r\n        convertToFlotFormat(value) {\r\n            return ChartDataPipeline.prototype.toFlot(this, value);\r\n        };\r\n\r\n        getSettings() {\r\n            return this.getSettingsWorkaround();\r\n        };\r\n\r\n        getSettingsWorkaround() {\r\n            var settings = super.getSettingsWorkaround();\r\n\r\n            settings.series.historyBuffer = this.historyBuffer;\r\n\r\n            return settings;\r\n        }\r\n    };\r\n\r\n    JQX('ni-chart', Chart);\r\n}());\r\n","//****************************************\r\n// IntensityGraph Custom Element\r\n// DOM Registration: HTMLNIIntensityGraph\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-intensity-graph\r\n\r\n> A custom element that allows to plot a 2D data set as a gradient map.\r\n\r\nAn ni-intensity-graph is a declarative way, that uses custom elements, to add an\r\nintensity graph to a web page. Specify your data sets using the value attribute\r\nand customize how the data is renderended using nested custom elements such as\r\n*ni-cartesian-axis*, *ni-color-scale*.\r\n\r\nExample:\r\n```html\r\n<ni-intensity-graph id=\"graph1\" value=\"[[0.1, 0.2], [0.3, 0.4], [0.5, 0.6]]\">\r\n    <ni-cartesian-axis label=\"X\" show show-label axis-position=\"bottom\" grid-lines></ni-cartesian-axis>\r\n    <ni-cartesian-axis label=\"Y\" show show-label axis-position=\"left\" grid-lines></ni-cartesian-axis>\r\n    <ni-color-scale label=\"Color Scale\" show show-label\r\n        markers='[{\"value\":0,\"color\":\"rgba(0,0,0,1)\"},{\"value\":50,\"color\":\"rgba(0,0,255,1)\"},{\"value\":100,\"color\":\"rgba(255,255,255,1)\"}]'\r\n        high-color=\"rgba(255,255,255,1)\" low-color=\"rgba(0,0,0,1)\">\r\n    </ni-color-scale>\r\n</ni-intensity-graph>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    class IntensityGraph extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase {\r\n        static get ColorScaleType() {\r\n            return $.plot.IntensityGraph.ColorScaleType;\r\n        }\r\n\r\n        dataRange() {\r\n            var parsedData = this.parsedData;\r\n\r\n            if (IntensityGraph === null || parsedData.length === 0) {\r\n                return {\r\n                    dataMin: 0,\r\n                    dataMax: 100\r\n                };\r\n            } else {\r\n                var tempMin = Math.min();\r\n                var tempMax = Math.max();\r\n                for (var i = 0; i < parsedData.length; i++) {\r\n                    var buf = parsedData[i];\r\n                    for (var j = 0; j < buf.length; j++) {\r\n                        if (buf[j] === -Infinity || buf[j] === Infinity || isNaN(buf[j])) {\r\n                            continue;\r\n                        }\r\n                        if (buf[j] > tempMax) {\r\n                            tempMax = buf[j];\r\n                        }\r\n\r\n                        if (buf[j] < tempMin) {\r\n                            tempMin = buf[j];\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (tempMin === Math.min()) {\r\n                    tempMin = 0;\r\n                }\r\n                if (tempMax === Math.max()) {\r\n                    tempMax = 100;\r\n                }\r\n\r\n                return {\r\n                    dataMin: tempMin,\r\n                    dataMax: tempMax\r\n                };\r\n            }\r\n        }\r\n\r\n        created() {\r\n            super.created();\r\n\r\n            this.autoScaleColor = false;\r\n            this.parsedData = null;\r\n        }\r\n\r\n        getSettings() {\r\n            var settings = {\r\n                series: {\r\n                    intensitygraph: {\r\n                        show: true\r\n                    }\r\n                },\r\n                axisLabels: {\r\n                    show: true\r\n                },\r\n                xaxes: [{}],\r\n                yaxes: [{}],\r\n                zoom: {\r\n                    interactive: true,\r\n                    trigger: null\r\n                },\r\n                pan: {\r\n                    interactive: true,\r\n                    enableTouch: true\r\n                },\r\n                selection: {\r\n                    mode: null\r\n                },\r\n                grid: {}\r\n            };\r\n\r\n            return settings;\r\n        }\r\n\r\n        configureGraph() {\r\n            var i, j, gradient = [];\r\n            var colorScaleMin, colorScaleMax;\r\n\r\n            var cartesianGraphSettings = super.configureGraph();\r\n\r\n            if (this.plotAreaMargin !== '') {\r\n                cartesianGraphSettings.grid.margin = this.plotAreaMargin;\r\n            }\r\n\r\n            var data = this.value;\r\n            cartesianGraphSettings.series.intensitygraph.data = data.length > 0 ? data : this.defaultData();\r\n\r\n            for (i = 0; i < this.axes.length; i++) {\r\n                var axis = this.axes[i];\r\n                var a = axis.getViewConfig();\r\n\r\n                if (a && a.type === JQX.IntensityGraph.ColorScaleType) {\r\n                    var markers = JSON.parse(a.markers);\r\n                    for (j = 0; j < markers.length; j++) {\r\n                        gradient[j] = {\r\n                            value: markers[j].value,\r\n                            color: markers[j].color\r\n                        };\r\n                    }\r\n\r\n                    if (a.autoScale === 'none') {\r\n                        colorScaleMin = markers[0].value;\r\n                        colorScaleMax = markers[markers.length - 1].value;\r\n                    } else {\r\n                        this.autoScaleColor = true;\r\n                        var range = this.dataRange();\r\n                        colorScaleMax = range.dataMax;\r\n                        colorScaleMin = range.dataMin;\r\n                    }\r\n\r\n                    cartesianGraphSettings.series.intensitygraph.min = colorScaleMin;\r\n                    cartesianGraphSettings.series.intensitygraph.max = colorScaleMax;\r\n                    cartesianGraphSettings.series.intensitygraph.gradient = gradient;\r\n                    cartesianGraphSettings.series.intensitygraph.lowColor = a.lowColor;\r\n                    cartesianGraphSettings.series.intensitygraph.highColor = a.highColor;\r\n\r\n                    for (j = 0; j < cartesianGraphSettings.yaxes.length; j++) {\r\n                        if (cartesianGraphSettings.yaxes[j].type === JQX.IntensityGraph.ColorScaleType) {\r\n                            cartesianGraphSettings.yaxes[j].min = colorScaleMin;\r\n                            cartesianGraphSettings.yaxes[j].max = colorScaleMax;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.graphTools) {\r\n                cartesianGraphSettings.zoom.interactive = this.graphTools.allowsScrollWheelZoom();\r\n                cartesianGraphSettings.pan.interactive = this.graphTools.allowsPan();\r\n                cartesianGraphSettings.selection.mode = this.graphTools.mode === 'zoom' ? 'smart' : null;\r\n            }\r\n\r\n            return cartesianGraphSettings;\r\n        }\r\n\r\n        attached() {\r\n            super.attached();\r\n            this.updateCartesianAxesFromFlot();\r\n        }\r\n\r\n        updateColorScaleLimits() {\r\n            var plot = this.graph;\r\n            if (plot) {\r\n                var colorScaleAxis = plot.getYAxes().filter(function(axis) { return axis.options.type === JQX.IntensityGraph.ColorScaleType; })[0];\r\n                //check if colorscale is on autoScale and update min and max\r\n                if (colorScaleAxis && colorScaleAxis.options.autoScale !== 'none') {\r\n                    var range = this.dataRange();\r\n                    colorScaleAxis.options.min = range.dataMin;\r\n                    colorScaleAxis.options.max = range.dataMax;\r\n                }\r\n            }\r\n        }\r\n\r\n        defaultData() {\r\n            return [\r\n                []\r\n            ];\r\n        }\r\n\r\n        createData(plots, data) {\r\n            // the data is placed in the config not the series because it does not match the series data type (and converting it might be expensive)\r\n            var graphdata = data.length > 0 ? data : this.defaultData(),\r\n                firstYAxisIndex = this.axes\r\n                    .filter(a => a.axisPosition === 'left' || a.axisPosition === 'right')\r\n                    .findIndex(a => a.tagName === 'NI-CARTESIAN-AXIS'),\r\n                flotFirstYAxisIndex = firstYAxisIndex === -1 ? undefined : (firstYAxisIndex + 1),\r\n                plotData = {\r\n                    data: graphdata,\r\n                    //xaxis: will be automatically determined\r\n                    yaxis: flotFirstYAxisIndex\r\n                };\r\n\r\n            this.parsedData = graphdata;\r\n            this.updateColorScaleLimits();\r\n\r\n            return [plotData];\r\n        }\r\n\r\n        convertToFlotFormat (data) {\r\n            return data;\r\n        }\r\n    }\r\n\r\n    JQX('ni-intensity-graph', IntensityGraph);\r\n}());\r\n","/*jslint nomen: true, devel:true*/\r\n//****************************************\r\n// Cartesian Axis Custom Element\r\n// DOM Registration: HTMLNICartesianAxis\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-cartesian-axis\r\n\r\n> Add axes to a graph.\r\n\r\n```html\r\n<ni-cartesian-graph>\r\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 1\" axis-position='bottom'>\r\n  </ni-cartesian-axis>\r\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 2\" axis-position='top'>\r\n  </ni-cartesian-axis>\r\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 3\" axis-position='left'>\r\n  </ni-cartesian-axis>\r\n</ni-cartesian-graph>\r\n```\r\nMultiple vertical and horizontal axes can be added to a graph and configured.\r\n\r\nAxes can be placed to the right, left and on top or bottom of a graph, can use a\r\nlogarithmic scale if desired and can show time. A relative time format is supported\r\nalong with the absolute time format.\r\n\r\nThe minimum and maximum value of an axis can be specified. Autoscaling according\r\nto the data ranges dispayed is also possible.\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var NINumericFormatters = window.NINumericFormatters;\r\n\r\n    var escapeHtmlString = function(string) {\r\n        var entityMap = {\r\n            '&': '&amp;',\r\n            '<': '&lt;',\r\n            '>': '&gt;',\r\n            '\"': '&quot;',\r\n            \"'\": '&apos;',\r\n            '/': '&#x2F;',\r\n            '`': '&#x60;'\r\n        };\r\n\r\n        return String(string).replace(/[&<>\"'`/]/g, function fromEntityMap (s) {\r\n            return entityMap[s];\r\n        });\r\n    };\r\n\r\n    var isTimeAxis = function(format) {\r\n        return (format.indexOf('LVTime') === 0) || (format.indexOf('LVRelativeTime') === 0);\r\n    };\r\n\r\n    var toFlotTimeFormat = function(format) {\r\n        if (format.indexOf('LVTime') === 0) {\r\n            return '%A';\r\n        }\r\n\r\n        if (format.indexOf('LVRelativeTime') === 0) {\r\n            return '%r';\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    var getDefaultAutoScale = function (axis, scaletype) {\r\n        if (scaletype === \"auto\") {\r\n            if (axis._parentGraph.nodeName === \"NI-INTENSITY-GRAPH\") {\r\n                return \"exact\";\r\n            } else {\r\n                if (axis._parentGraph.nodeName === \"NI-CHART\") {\r\n                    return (axis.axisPosition === \"bottom\" || axis.axisPosition === \"top\")\r\n                        ? \"sliding-window\"\r\n                        : \"loose\";\r\n                }\r\n\r\n                return (axis.axisPosition === \"bottom\" || axis.axisPosition === \"top\")\r\n                    ? \"exact\"\r\n                    : \"loose\";\r\n            }\r\n        }\r\n\r\n        return scaletype;\r\n    };\r\n\r\n    var getWindowSize = function (axis) {\r\n        if (axis._parentGraph.nodeName === \"NI-CHART\" && (axis.axisPosition === \"bottom\" || axis.axisPosition === \"top\")) {\r\n            var windowSize = (axis._defaultMax - axis._defaultMin);\r\n            return (windowSize > 1 ? windowSize : 1024);\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    class CartesianAxis extends window.JQX.BaseElement {\r\n        /**### ni-cartesian-axis properties*/\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n\r\n                /** **axis-ref** - an axis id used to bind plots to the axes. Default: ''*/\r\n                'axisRef': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **show** (boolean) - if true the axis will be visible. Default: false*/\r\n                'show': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **label** (string) - the name of the axis. Default: '' */\r\n                'label': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /**\r\n                **axis-position** (string) - the position of the axis. Default: 'left'\r\n                 Accepted values: 'top', 'bottom', 'left' and 'right'\r\n                */\r\n                'axisPosition': {\r\n                    value: 'left',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **show-label** (boolean) - if true the axis label will be visible.\r\n                Default: false */\r\n                'showLabel': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **minimum** (number) - the minimum axis value. Default: 0*/\r\n                'minimum': {\r\n                    value: 0,\r\n                    type: 'number'\r\n                },\r\n\r\n                /** **maximum** (number) - the maximum axis value. Default: 1*/\r\n                'maximum': {\r\n                    value: 1,\r\n                    type: 'number'\r\n                },\r\n\r\n                /** **auto-scale** (string) - if 'exact' or 'loose' the axis will adapt to the data\r\n                ranges of the plots assigned to that axis. if 'none', the axis will adapt to the\r\n                minimum and maximum options. For 'growexact' and 'growloose' the axis will adapt only when\r\n                the new data value is bigger than the old one. Default: 'auto'*/\r\n                'autoScale': {\r\n                    value: 'auto',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **log-scale** (boolean) - if true the axis will be a log axis. Default: false*/\r\n                'logScale': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /**\r\n                **format** (string) - the format of the tick labels. Default: ''\r\n                Possible values: 'LVSI, 'LVTime', 'LVRelativeTime', 'LVRelativeSeconds'.\r\n                Examples:\r\n\r\n                |format|value(s)|formatted value(s)|\r\n                |------|----:|--------------:|\r\n                |_not specified_|0.1234567|0.1234567|\r\n                |LVSI|0.1234567|123.4567m|\r\n                |LVSI:0|0.1234567|123m|\r\n                |LVSI:0.###|0.1234567|123.457m|\r\n                |LVSI:G3|0.1234567|123m|\r\n                |LVSI:G3|1.234567|1.23|\r\n                |LVSI:N3|0.1234567|123.457m|\r\n                |LVTime|0|12:00:00 AM 1/1/0001|\r\n                |LVTime|300|12:05:00 AM 1/1/0001|\r\n                |LVRelativeTime|0, 300, 600|00:00:00, 00:05:00, 00:10:00|\r\n                |LVRelativeTime|300, 600, 900|00:00:00, 00:05:00, 00:10:00|\r\n                |LVRelativeSeconds:300|300|300.0|\r\n                |LVRelativeSeconds:0.###|0.12345678|0.123|\r\n                |LVRelativeSeconds:G3|0.12345678|0.123|\r\n                |LVRelativeSeconds:G3|1.2345678|1.23|\r\n                |LVRelativeSeconds:N3|1234.5678|1234.567|\r\n\r\n                The actual starting time corresponding to the 0 value for the 'LVTime' format\r\n                may vary depending on the time zone.\r\n\r\n                The first value of each axis using the 'LVRelativeTime' format is considered\r\n                the starting point for that axis and it will always be formatted as 00:00:00.\r\n\r\n                The actual number of decimals may be larger than specified for the endpoints.\r\n                When the range of an axis using the 'LVRelativeTime' format is smaller than 1\r\n                minute then the milliseconds will be displayed as well.\r\n\r\n                Other items which are displaying values, like the cursors or cursor legend,\r\n                will use this format as well.\r\n                */\r\n                'format': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **show-tick-labels** (string) - which of the tick labels are visible.\r\n                Possible values: 'none', 'endpoints', 'major' and 'all'. Default: 'all'.\r\n                For 'endpoints' only the minimum and the maximum values will be visible\r\n                at the edges of the axis. To make some intermediary values visible use\r\n                'major', and 'all' to show all of them.*/\r\n                'showTickLabels': {\r\n                    value: 'all',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **grid-lines** (boolean) - if true the grid lines for the axis will\r\n                be visible. Default: false*/\r\n                'gridLines': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **show-ticks** (boolean) - if true the tick lines for the axis will\r\n                be visible. A tick line is a short line which connects the tick label with\r\n                the axis. Default: false*/\r\n                'showTicks': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **show-minor-ticks** (boolean) - if true the minor tick lines for the axis\r\n                will be visible. Minor tick lines are short lines (half of the tick line\r\n                length) which subdivide the interval between tick lines in five intervals.\r\n                Default: false*/\r\n                'showMinorTicks': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **pan** (string) - what type of panning is allowed for the axis.\r\n                Possible values: 'none', 'axis', 'plot', 'all'. Default: 'all'.\r\n                For 'axis' panning can be done only when the mouse/touch is over the axis,\r\n                while for 'plot', the panning is done only if the entire plot is panned. */\r\n                pan: {\r\n                    value: 'all',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **zoom** (string) - what type of panning is allowed for the axis.\r\n                Possible values: 'none', 'axis', 'plot', 'all'. Default: 'all'.\r\n                For 'axis' zooming can be done only when the mouse/touch is over the axis,\r\n                while for 'plot', the zooming is done only if the entire plot is zommed. */\r\n                zoom: {\r\n                    value: 'all',\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        };\r\n\r\n        created() {\r\n            super.created();\r\n\r\n            this._defaultMin = this.minimum;\r\n            this._defaultMax = this.maximum;\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        sendEventToParentGraph(name) {\r\n            var eventConfig;\r\n\r\n            if (this._parentGraph !== undefined) {\r\n                eventConfig = {\r\n                    bubbles: false,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this\r\n                    }\r\n                };\r\n\r\n                this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        attached() {\r\n            super.attached();\r\n\r\n            if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase && this.parentElement.isReady) {\r\n                this.attachToGraph(this.parentElement);\r\n            } else {\r\n                this._parentGraph = undefined;\r\n            }\r\n            this._defaultMin = this.minimum;\r\n            this._defaultMax = this.maximum;\r\n        };\r\n\r\n        attachToGraph(graph) {\r\n            if (!this._parentGraph) {\r\n                this._parentGraph = graph;\r\n                this.sendEventToParentGraph('ni-cartesian-axis-attached');\r\n            }\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            this.sendEventToParentGraph('ni-axis-changed');\r\n        };\r\n\r\n        detached() {\r\n            super.detached();\r\n\r\n            this.sendEventToParentGraph('ni-cartesian-axis-detached');\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        setFont(fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\r\n            this.style.fontSize = fontSize;\r\n            this.style.fontFamily = fontFamily;\r\n            this.style.fontWeight = fontWeight;\r\n            this.style.fontStyle = fontStyle;\r\n            this.style.textDecoration = textDecoration;\r\n\r\n            this.sendEventToParentGraph('ni-axis-changed');\r\n        };\r\n\r\n        // here we transform the configuration from the one used by the custom element to the one understood by Flot\r\n        getViewConfig() {\r\n            var currStyle = window.getComputedStyle(this),\r\n                grow = (/grow/).test(this.autoScale),\r\n                scaletype = grow ? this.autoScale.replace(/grow/, '') : this.autoScale;\r\n\r\n            var flotConfig = {\r\n                axisLabel: this.showLabel ? escapeHtmlString(this.label) : undefined,\r\n                show: this.show,\r\n                position: this.axisPosition,\r\n                min: this.minimum,\r\n                max: this.maximum,\r\n                autoScale: getDefaultAutoScale(this, scaletype),\r\n                windowSize: getWindowSize(this),\r\n                growOnly: grow,\r\n                mode: this.logScale ? 'log' : 'linear',\r\n                element: this,\r\n                format: isTimeAxis(this.format) ? 'time' : null,\r\n                timeformat: toFlotTimeFormat(this.format),\r\n                tickFormatter: NINumericFormatters.getTickFormatter(NINumericFormatters.parseTickFormatterType(this.format)),\r\n                showTickLabels: this.showTickLabels,\r\n                gridLines: this.gridLines,\r\n                showTicks: this.showTicks,\r\n                showMinorTicks: this.showMinorTicks,\r\n                color: currStyle.color,\r\n                offset: this._navigationOffset || {below: 0, above: 0},\r\n                font: {\r\n                    size: parseFloat(currStyle.fontSize),\r\n                    style: currStyle.fontStyle,\r\n                    weight: currStyle.fontWeight,\r\n                    family: currStyle.fontFamily,\r\n                    color: 'inherit'\r\n                },\r\n                axisZoom: this.zoom === 'axis' || this.zoom === 'all',\r\n                plotZoom: this.zoom === 'plot' || this.zoom === 'all',\r\n                axisPan: this.pan === 'axis' || this.pan === 'all',\r\n                plotPan: this.pan === 'plot' || this.pan === 'all'\r\n            };\r\n\r\n            return flotConfig;\r\n        };\r\n\r\n        // get the flot axis coresponding to this element\r\n        getFlotAxis() {\r\n            var graph = this._parentGraph.graph;\r\n            var axes = graph.getAxes();\r\n            var that = this;\r\n\r\n            var key = Object.keys(axes).filter(function (axis) {\r\n                return axes[axis].options.element === that;\r\n            })[0];\r\n\r\n            return axes[key];\r\n        };\r\n\r\n        // set the axis min and max to the data min and max\r\n        resetOffset() {\r\n            var axis = this.getFlotAxis(),\r\n                flot = this._parentGraph.graph,\r\n                allSeries = flot.getData(),\r\n                ranges = allSeries\r\n                    .filter(function(series) {\r\n                        return series.xaxis === axis || series.yaxis === axis;\r\n                    })\r\n                    .map(function(series) {\r\n                        return flot.computeRangeForDataSeries(series, true);\r\n                    }),\r\n                defaultRange = {\r\n                    xmin: Number.POSITIVE_INFINITY,\r\n                    ymin: Number.POSITIVE_INFINITY,\r\n                    xmax: Number.NEGATIVE_INFINITY,\r\n                    ymax: Number.NEGATIVE_INFINITY\r\n                },\r\n                range = ranges.reduce(function(p, c) {\r\n                    return {\r\n                        xmin: Math.min(p.xmin, c.xmin),\r\n                        ymin: Math.min(p.ymin, c.ymin),\r\n                        xmax: Math.max(p.xmax, c.xmax),\r\n                        ymax: Math.max(p.ymax, c.ymax)\r\n                    };\r\n                }, defaultRange);\r\n\r\n            this._navigationOffset = axis.options.offset = {below: 0, above: 0};\r\n\r\n            var min = axis.direction === 'x' ? range.xmin : range.ymin;\r\n            var max = axis.direction === 'x' ? range.xmax : range.ymax;\r\n\r\n            this.minimum = min !== Number.POSITIVE_INFINITY ? min : this._defaultMin;\r\n            this.maximum = max !== Number.NEGATIVE_INFINITY ? max : this._defaultMax;\r\n\r\n            this.sendEventToParentGraph('ni-axis-reset');\r\n        };\r\n\r\n        // called after an user interacts with the plot so the attributes of the element are in sync with the plot\r\n        syncWithFlot() {\r\n            var axis = this.getFlotAxis();\r\n\r\n            if (typeof axis.options.min === 'number') {\r\n                this.minimum = axis.options.min;\r\n                this.maximum = axis.options.max;\r\n            }\r\n\r\n            if (typeof axis.options.offset === 'object') {\r\n                this._navigationOffset = {\r\n                    below: axis.options.offset.below,\r\n                    above: axis.options.offset.above\r\n                };\r\n            }\r\n\r\n            if (this._parentGraph !== undefined) {\r\n                this._parentGraph.notifyScaleLegend('ni-axis-changed', this);\r\n            }\r\n        };\r\n\r\n        template() {\r\n            return '';\r\n        }\r\n    };\r\n\r\n    JQX('ni-cartesian-axis', CartesianAxis);\r\n}());\r\n","/*jslint nomen: true, devel:true*/\r\n//****************************************\r\n// Color scale Custom Element\r\n// DOM Registration: HTMLNIColorScale\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-color-scale\r\n\r\n> A color scale added to an intensity graph is used to configure the color\r\ngradients.\r\n\r\n```html\r\n<ni-intensity-graph>\r\n  <ni-cartesian-axis ...></ni-cartesian-axis>\r\n  <ni-cartesian-axis ...></ni-cartesian-axis>\r\n  <ni-color-scale show show-label label=\"Color Scale\" low-color=\"blue\" high-color=\"red\">\r\n  </ni-color-scale>\r\n</ni-intensity-graph>\r\n```\r\n\r\nA single color scale can be added to an intensity graph to visualize and control\r\nthe maping from values to the color gradient displayed.\r\n\r\nColor scales are only supported by intensity graphs, when added to other types of\r\nwebcharts they do nothing.\r\n\r\nThe color gradients are described by an array of stops, for example this:\r\n\r\n```js\r\n[\r\n{\"value\":0,\"color\":\"rgba(0,0,0,1)\"},\r\n{\"value\":0.5,\"color\":\"rgba(0,0,255,1)\"},\r\n{\"value\":1,\"color\":\"rgba(255,255,255,1)\"}\r\n]\r\n```\r\n\r\ndescribes a color gradient going from black at the stop with the value 0, to\r\nblue at the stop with the value 0.5 and then to white at the stop with the value\r\n1.\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    class ColorScale extends window.JQX.BaseElement {\r\n        /** ### ni-color-scale properties*/\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n\r\n                /** **label** (string) - the name of the color scale. Default: '' */\r\n                'label': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **show** (boolean) - if true the color scale will be visible. Default: false */\r\n                'show': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **show-label** (boolean) - if true the color scale label will be visible. Default: false */\r\n                'showLabel': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **axis-position** (string) - the position of the color scale. Default: 'right'.\r\n                Accepted values: *'left'*, *'right'* */\r\n                'axisPosition': {\r\n                    value: 'right',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **show-tick-labels** (string) - which of the tick labels are visible.\r\n                Possible values: 'none', 'endpoints', 'major' and 'all'. Default: 'all'.\r\n                For 'endpoints' only the minimum and the maximum values will be visible\r\n                at the edges of the axis. To make some intermediary values visible use\r\n                'major', and 'all' to show all of them.*/\r\n                'showTickLabels': {\r\n                    value: 'all',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **high-color** (string) - the color assigned to the values bigger than\r\n                the color scale maximum. Default: '#ffffff'.\r\n                Accepted values: a CSS color string*/\r\n                'highColor': {\r\n                    value: '#ffffff',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **low-color** (string) - the color assigned to the values smaller than\r\n                the color scale minimum. Default: '#000000'.\r\n                Accepted values: a CSS color string*/\r\n                'lowColor': {\r\n                    value: '#000000',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **markers** (string) - the color gradient used to map values to colorScaleAxis.\r\n\r\n                Default: ''.\r\n                TODO: document the gradient format */\r\n                'markers': {\r\n                    // http://colorbrewer2.org/#type=sequential&scheme=Blues&n=3\r\n                    value: `[{\r\n                        \"value\": 0,\r\n                        \"color\": \"#3182bd\"\r\n                    }, {\r\n                        \"value\": 50,\r\n                        \"color\": \"#9ecae1\"\r\n                    }, {\r\n                        \"value\": 100,\r\n                        \"color\": \"#deebf7\"\r\n                    }]`,\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **auto-scale** (string) - if 'exact' the color gradient will strech to adapt to the\r\n                range of the data set provided. Default: 'auto'*/\r\n                'autoScale': {\r\n                    value: 'auto',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **minimum** (number) - the minimum axis value. Default: 0*/\r\n                'minimum': {\r\n                    value: 0,\r\n                    type: 'number'\r\n                },\r\n\r\n                /** **maximum** (number) - the maximum axis value. Default: 1*/\r\n                'maximum': {\r\n                    value: 1,\r\n                    type: 'number'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        };\r\n\r\n        created() {\r\n            super.created();\r\n\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        sendEventToParentGraph(name) {\r\n            var eventConfig;\r\n\r\n            if (this._parentGraph !== undefined) {\r\n                eventConfig = {\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this\r\n                    }\r\n                };\r\n\r\n                this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        attached() {\r\n            super.attached();\r\n\r\n            if (this.parentElement instanceof JQX.IntensityGraph && this.parentElement.isReady) {\r\n                this.attachToGraph(this.parentElement);\r\n            } else {\r\n                this._parentGraph = undefined;\r\n            }\r\n        };\r\n\r\n        attachToGraph(graph) {\r\n            if (!this._parentGraph) {\r\n                this._parentGraph = this.parentElement;\r\n                this.sendEventToParentGraph('ni-cartesian-axis-attached');\r\n            }\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            this.sendEventToParentGraph('ni-axis-changed');\r\n        };\r\n\r\n        detached() {\r\n            super.detached();\r\n\r\n            this.sendEventToParentGraph('ni-cartesian-axis-detached');\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        setFont(fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\r\n            this.style.fontSize = fontSize;\r\n            this.style.fontFamily = fontFamily;\r\n            this.style.fontWeight = fontWeight;\r\n            this.style.fontStyle = fontStyle;\r\n            this.style.textDecoration = textDecoration;\r\n\r\n            this.sendEventToParentGraph('ni-axis-changed');\r\n        };\r\n\r\n        // getViewConfig transforms the configuration from the one used by the custom element to the one understood by Flot */\r\n        getViewConfig() {\r\n            var currStyle = window.getComputedStyle(this),\r\n                grow = (/grow/).test(this.autoScale),\r\n                autoScale = grow ? this.autoScale.replace(/grow/, '') : this.autoScale;\r\n\r\n            var flotConfig = {\r\n                type: JQX.IntensityGraph.ColorScaleType,\r\n                axisLabel: this.showLabel ? this.label : undefined,\r\n                show: this.show,\r\n                autoScale: ((autoScale === \"auto\") ? \"none\" : autoScale),\r\n                growOnly: grow,\r\n                min: this.minimum,\r\n                max: this.maximum,\r\n                position: this.axisPosition,\r\n                lowColor: this.lowColor,\r\n                highColor: this.highColor,\r\n                markers: this.markers,\r\n                showTickLabels: this.showTickLabels,\r\n                font: {\r\n                    size: parseFloat(currStyle.fontSize),\r\n                    style: currStyle.fontStyle,\r\n                    weight: currStyle.fontWeight,\r\n                    family: currStyle.fontFamily,\r\n                    color: 'inherit'\r\n                },\r\n                axisZoom: false,\r\n                plotZoom: false,\r\n                axisPan: false,\r\n                plotPan: false,\r\n                gridLines: false\r\n            };\r\n\r\n            return flotConfig;\r\n        };\r\n\r\n        template() {\r\n            return '';\r\n        }\r\n\r\n        // get the flot axis coresponding to this element\r\n        getFlotAxis() {\r\n            if (this._parentGraph) {\r\n                var colorScaleAxis = this._parentGraph.graph\r\n                    .getYAxes()\r\n                    .filter(function(axis) {\r\n                        return axis.options.type === JQX.IntensityGraph.ColorScaleType;\r\n                    })[0];\r\n                return colorScaleAxis;\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-color-scale', ColorScale);\r\n}());\r\n","/*jslint nomen: true, devel:true*/\r\n//****************************************\r\n// Cartesian Plot\r\n// DOM Registration: HTMLNICartesianPlot\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-cartesian-plot\r\n\r\n> A custom element that, along with a nested ni-cartesian-plot-renderer describes\r\nthe way a data plot is rendered.\r\n\r\nA plot is the graphic representation of a data set. A graph or chart can show\r\nsimultaneously multiple data sets (plots). To customize how a data set, or plot\r\nis rendered use ni-cartesian-plot elements nested inside a graph or chart\r\nelement.\r\n\r\n```html\r\n<ni-cartesian-graph>\r\n  <ni-cartesian-axis axis-ref=\"axis1ref\" show axis-position=\"bottom\"></ni-cartesian-axis>\r\n  <ni-cartesian-axis axis-ref=\"axis2ref\" show axis-position=\"left\"></ni-cartesian-axis>\r\n  <ni-cartesian-plot show label=\"plot 1\" xaxis=\"axis1ref\" yaxis=\"axis2ref\">\r\n    add an ni-cartesian-plot-renderer here\r\n  </ni-cartesian-plot>\r\n</ni-cartesian-graph>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    // Static Private Variables\r\n    var defaultPlotConfig = {\r\n        lines: {\r\n            show: false\r\n        }\r\n    };\r\n\r\n    class CartesianPlot extends window.JQX.BaseElement {\r\n        /** ### ni-cartesian-plot properties */\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n\r\n                /** **show** (boolean) - if true the plot will be shown. Default: false */\r\n                'show': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **label** (string) - the name of the plot. Default: '' */\r\n                'label': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **xaxis** (string) - the X axis that this plot will use. Default: ''.\r\n                Accepted values: an axis-ref. In case an xaxis with the specified axis-ref\r\n                is not found the first xaxis is used*/\r\n                'xaxis': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **yaxis** (string) - the Y axis that this plot will use. Default: ''.\r\n                Accepted values: an axis-ref. In case an yaxis with the specified axis-ref\r\n                is not found the first yaxis is used*/\r\n                'yaxis': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **enable-hover** (boolean) - if true, when the mouse hovers close to a point on the plot\r\n                or a tap on a point is done, a tooltip with the point value will be shown */\r\n                'enableHover': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **hover-format** (string) - specifies the format of the text shown in the tooltip.*/\r\n                'hoverFormat': {\r\n                    value: '',\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        };\r\n\r\n        /*\r\n        Reset the autoScale of axis.\r\n        Options can have the following fields: axisRef, autoScale, minimum, maximum;\r\n        */\r\n        reset(options) {\r\n            var axes,\r\n                allAxes = this._parentGraph.axes;\r\n\r\n            if (options.axisRef) {\r\n                axes = allAxes.filter(function (a) {\r\n                    return a.axisRef === options.axisRef;\r\n                });\r\n            }\r\n\r\n            if (!axes) {\r\n                axes = allAxes;\r\n            }\r\n\r\n            if (options.autoScale !== 'none') {\r\n                axes.forEach(function(axis) {\r\n                    axis.autoScale = options.autoScale;\r\n                    axis.resetOffset();\r\n                });\r\n            } else {\r\n                if (options.minimum && options.maximum) {\r\n                    axes.forEach(function(axis) {\r\n                        axis.minimum = options.minimum;\r\n                        axis.maximum = options.maximum;\r\n                        axis.sendEventToParentGraph('ni-axis-changed');\r\n                    });\r\n                } else {\r\n                    axes.forEach(function(axis) {\r\n                        axis.autoScale = options.autoScale;\r\n                        axis.resetOffset();\r\n                        var flotAxis = axis.getFlotAxis();\r\n                        flotAxis.min = axis.minimum;\r\n                        flotAxis.max = axis.maximum;\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        created() {\r\n            super.created();\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        sendEventToParentGraph (name, originalSource) {\r\n            var eventConfig;\r\n\r\n            if (this._parentGraph !== undefined) {\r\n                eventConfig = {\r\n                    bubbles: false,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this,\r\n                        originalSource: originalSource\r\n                    }\r\n                };\r\n\r\n                this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        attached () {\r\n            super.attached();\r\n\r\n            if ((this.parentElement instanceof JQX.CartesianGraph || this.parentElement instanceof JQX.Chart) &&\r\n                this.parentElement.isReady) {\r\n                this.attachToGraph(this.parentElement);\r\n            } else {\r\n                this._parentGraph = undefined;\r\n            }\r\n        };\r\n\r\n        attachToGraph(graph) {\r\n            if (!this._parentGraph) {\r\n                this._parentGraph = graph;\r\n                this.addPlotItemListeners();\r\n                this.attachChildren();\r\n                this.sendEventToParentGraph('ni-cartesian-plot-attached');\r\n            }\r\n        };\r\n\r\n        attachChildren() {\r\n            var graphElement = this,\r\n                children = this.children;\r\n\r\n            for (var i = 0; i < children.length; i++) {\r\n                var element = children[i];\r\n                if (element.tagName === 'NI-CARTESIAN-PLOT-RENDERER' && element instanceof window.JQX.CartesianPlotRenderer && element.isReady) {\r\n                    element.attachToPlot(graphElement);\r\n                }\r\n            }\r\n        };\r\n\r\n        addPlotItemListeners () {\r\n            var that = this;\r\n            that.addEventListener('ni-cartesian-plot-renderer-attached', function(evt) {\r\n                if (evt.target === that) {\r\n                    this.plotRenderer = evt.detail.element;\r\n                    this.sendEventToParentGraph('ni-cartesian-plot-renderer-attached', evt.detail.element);\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-cartesian-plot-renderer-detached', function(evt) {\r\n                if (evt.target === that) {\r\n                    this.plotRenderer = undefined;\r\n                    this.sendEventToParentGraph('ni-cartesian-plot-renderer-detached', evt.detail.element);\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-cartesian-plot-renderer-changed', function(evt) {\r\n                if (evt.target === that) {\r\n                    this.sendEventToParentGraph('ni-cartesian-plot-renderer-changed', evt.detail.element);\r\n                }\r\n            });\r\n        };\r\n\r\n        detached () {\r\n            super.detached();\r\n\r\n            this.sendEventToParentGraph('ni-cartesian-plot-detached');\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            this.sendEventToParentGraph('ni-cartesian-plot-changed');\r\n        };\r\n\r\n        getViewConfig () {\r\n            var plotConfig = defaultPlotConfig;\r\n            if (this.plotRenderer !== undefined && this.show === true) {\r\n                plotConfig = this.plotRenderer.getViewConfig();\r\n            }\r\n\r\n            plotConfig.label = this.label;\r\n            plotConfig.hoverable = this.enableHover;\r\n            plotConfig.xaxis = this._parentGraph.getXAxisIndexByNIControlID(this.xaxis);\r\n            plotConfig.yaxis = this._parentGraph.getYAxisIndexByNIControlID(this.yaxis);\r\n\r\n            return plotConfig;\r\n        };\r\n\r\n        template () {\r\n            return '';\r\n        }\r\n    };\r\n\r\n    JQX('ni-cartesian-plot', CartesianPlot);\r\n}());\r\n","/*jslint nomen: true, devel:true*/\r\n//****************************************\r\n// Cartesian Plot Renderer\r\n// DOM Registration: HTMLNICartesianPlotRenderer\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-cartesian-plot-renderer\r\n\r\n> Describes the way a plot is rendered\r\n\r\nThe four ways to render a plot are the line renderer, the area fill renderer,\r\nthe points renderer and the bar renderer. You can combine these in any way you\r\nlike for a single plot and different plots can have different renderers.\r\n\r\nThe fastest one is the line renderer and this is the recomended one for large\r\ndata sets and if you care about performance.\r\n\r\nThe render can be further customized by using the renderer properties.\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var toFillTowards = function(baseLine) {\r\n        switch (baseLine) {\r\n            case 'zero':\r\n                return 0;\r\n            case 'infinity':\r\n                return Infinity;\r\n            case 'positiveinfinity':\r\n                return Infinity;\r\n            case '-infinity':\r\n                return -Infinity;\r\n            case 'negativeinfinity':\r\n                return -Infinity;\r\n            default:\r\n                return undefined;\r\n        }\r\n    };\r\n\r\n    var areaFillOpacity = 0.6;\r\n\r\n    class CartesianPlotRenderer extends window.JQX.BaseElement {\r\n        /** ### ni-cartesian-plot-renderer properties */\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n\r\n                /** **line-stroke** (string) - the color of the line drawn. Default: 'auto'.\r\n                Accepted values: a CSS color string, an empty string or 'auto'. If an empty string\r\n                is passed the line rendering for the plot is disabled. If 'auto' is passed a color\r\n                will be automatically assigned to the plot.\r\n                */\r\n                'lineStroke': {\r\n                    value: 'auto',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **line-width** (number) - the width of the line. Use 1 for maximum\r\n                performance as thicker lines can be slower, depending on the browser and\r\n                the graphic card used. Default: 1*/\r\n                'lineWidth': {\r\n                    value: 1,\r\n                    type: 'number'\r\n                },\r\n\r\n                /** **line-style** (string) - the style of the line drawn. Default: 'solid'.\r\n                Accepted values: *'solid'*, *'dot'*, *'mediumdash'*, *'dashdot'* and *'largedash'*\r\n                */\r\n                'lineStyle': {\r\n                    value: 'solid',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **area-fill** (string) - the color of the area fill drawn under/over\r\n                the line. Default: ''.\r\n                Accepted values: a CSS color string, an empty string or auto. If an empty string\r\n                is passed the area fill for the plot is disabled. If 'auto' is passed a color\r\n                will be automatically assigned to the fill.\r\n                */\r\n                'areaFill': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /**\r\n                **area-base-line** (string) - determines the direction the area fill.\r\n                Default: 'zero'. Accepted values:\r\n\r\n                * 'zero': fill the line towards 0\r\n                * '-infinity': fill the line towards -Infinity.\r\n                * 'infinity': fill the line towards Infinity.\r\n                */\r\n                'areaBaseLine': {\r\n                    value: 'zero',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **bar-fill** (string) - the color of the bars drawn. Default: ''.\r\n                Accepted values: a CSS color string, an empty string or auto. If an empty\r\n                string is passed the bars rendering for the plot is disabled. If 'auto'\r\n                is passed a color will be automatically assigned to the bars.\r\n                */\r\n                'barFill': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /**\r\n                **bar-base-line** (string) - determines the direction the bar fill.\r\n                Default: 'zero'. Accepted values:\r\n\r\n                * 'zero': fill the line towards 0\r\n                * '-infinity': fill the line towards -Infinity.\r\n                * 'infinity': fill the line towards Infinity.\r\n                */\r\n                'barBaseLine': {\r\n                    value: 'zero',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **point-color** (string) - the color of the points drawn. Default: ''.\r\n                Accepted values: a CSS color string, an empty string or auto. If an empty\r\n                string is passed the points rendering for the plot is disabled. If 'auto'\r\n                is passed a color will be automatically assigned to the points.\r\n                */\r\n                'pointColor': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **point-size** (number) - the size of the points drawn. Default: 5.*/\r\n                'pointSize': {\r\n                    value: 5,\r\n                    type: 'number'\r\n                },\r\n\r\n                /** **point-shape** (string) - determines the shape of the points.\r\n                Default: 'ellipse'. Accepted values: 'ellipse', 'square', 'diamond',\r\n                'triangle', 'cross'\r\n                */\r\n                'pointShape': {\r\n                    value: 'ellipse',\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        };\r\n\r\n        created() {\r\n            super.created();\r\n\r\n            // Public Instance Properties\r\n            // None\r\n\r\n            // Private Instance Properties\r\n            this._parentPlot = undefined;\r\n        };\r\n\r\n        sendEventToParentPlot(name) {\r\n            var eventConfig;\r\n\r\n            if (this._parentPlot !== undefined) {\r\n                eventConfig = {\r\n                    bubbles: false,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this\r\n                    }\r\n                };\r\n\r\n                this._parentPlot.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        attached() {\r\n            super.attached();\r\n\r\n            if (this.parentElement instanceof JQX.CartesianPlot && this.parentElement.isReady) {\r\n                this.attachToPlot(this.parentElement);\r\n            } else {\r\n                this._parentPlot = undefined;\r\n            }\r\n        };\r\n\r\n        attachToPlot(plot) {\r\n            this._parentPlot = plot;\r\n            this.sendEventToParentPlot('ni-cartesian-plot-renderer-attached');\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            this.sendEventToParentPlot('ni-cartesian-plot-renderer-changed');\r\n        };\r\n\r\n        detached() {\r\n            super.detached();\r\n\r\n            this.sendEventToParentPlot('ni-cartesian-plot-renderer-detached');\r\n        };\r\n\r\n        toFlotLineStyle(style) {\r\n            switch (style) {\r\n                case 'solid':\r\n                    return undefined;\r\n                case 'dot':\r\n                    return [this.lineWidth, this.lineWidth * 2];\r\n                case 'mediumdash':\r\n                    return [this.lineWidth * 3, this.lineWidth * 2];\r\n                case 'dashdot':\r\n                    return [this.lineWidth * 3, this.lineWidth * 2, this.lineWidth, this.lineWidth * 2];\r\n                case 'largedash':\r\n                    return [this.lineWidth * 5, this.lineWidth * 3];\r\n                default:\r\n                    return undefined;\r\n            }\r\n        };\r\n\r\n        getColor() {\r\n            var color = this.lineStroke || this.pointColor || this.areaFill || this.barFill;\r\n            if (color === 'auto') {\r\n                return null;\r\n            }\r\n\r\n            return color;\r\n        };\r\n\r\n        getViewConfig() {\r\n            return {\r\n                color: this.getColor(),\r\n                lines: {\r\n                    show: this.lineStroke !== '' || this.areaFill !== '',\r\n                    lineWidth: this.lineWidth,\r\n                    fill: this.areaFill !== '' ? areaFillOpacity : false,\r\n                    zero: false,\r\n                    fillTowards: toFillTowards(this.areaBaseLine),\r\n                    dashes: this.toFlotLineStyle(this.lineStyle)\r\n                },\r\n                points: {\r\n                    show: this.pointColor !== '',\r\n                    radius: this.pointSize ? this.pointSize / 2 : 2,\r\n                    symbol: this.pointShape\r\n                },\r\n                bars: {\r\n                    show: this.barFill !== '',\r\n                    barWidth: 0.75, // TODO this is only valid if the distance between points is 1\r\n                    align: 'center',\r\n                    zero: false,\r\n                    fillTowards: toFillTowards(this.barBaseLine)\r\n                }\r\n            };\r\n        };\r\n\r\n        template () {\r\n            return '';\r\n        }\r\n    };\r\n\r\n    JQX('ni-cartesian-plot-renderer', CartesianPlotRenderer);\r\n}());\r\n","//****************************************\r\n// Cursor Custom Element\r\n// DOM Registration: HTMLNICursor\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-cursor\r\n\r\n> Add cursors to a graph.\r\n\r\nSometimes you want to take a measurement off a graph you have made. Cursors allow\r\nyou to do that.\r\n\r\n```html\r\n<ni-cartesian-graph>\r\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 1\" axis-position='bottom'>\r\n  </ni-cartesian-axis>\r\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 2\" axis-position='top'>\r\n  </ni-cartesian-axis>\r\n  <ni-cursor label=\"Cursor 1\" show show-label snap-to-plot=\"0\"></ni-cursor>\r\n</ni-cartesian-graph>\r\n```\r\nMultiple cursors can be added to a graph and configured.\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    class Cursor extends window.JQX.BaseElement {\r\n        /** ### ni-cursor properties*/\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n\r\n                /** **show** (boolean) - if true the cursor will be visible. Default: false*/\r\n                'show': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **label** (string) - the label of the cursor. Default: ''*/\r\n                'label': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **show-label** (boolean) - if true the cursor label will be visible.\r\n                Default: false*/\r\n                'showLabel': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /**\r\n                **target-shape** (string) - the shape of cursor. Default: 'ellipse'.\r\n                Accepted values: 'ellipse', 'square', 'diamond', 'triangle', 'cross'*/\r\n                'targetShape': {\r\n                    value: 'ellipse',\r\n                    type: 'string'\r\n                },\r\n\r\n                /**\r\n                **crosshair-style** (string) - the shape of crosshair. Default: 'both'.\r\n                Accepted values: 'both', 'vertical', 'horizontal', 'none'*/\r\n                'crosshairStyle': {\r\n                    value: 'both',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **show-value** (boolean) - if true the coordinates of the cursor will\r\n                be visible. Default: false*/\r\n                'showValue': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **snap-to-plot** (number) - the number of the plot or -1 to snap to any plot.\r\n                Default: undefined (no snapping)*/\r\n                'snapToPlot': {\r\n                    value: undefined,\r\n                    type: 'number?'\r\n                },\r\n\r\n                /** **interpolate** (boolean) - if true the cursor will do a linear interpolation\r\n                between points when modiffying position. Default: false\r\n                */\r\n                'interpolate': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n\r\n                /** **xaxis** (string) - the X axis that this cursor will use when snap-to-plot is undefined.\r\n                Default: ''. Accepted values: an axis-ref. In case an xaxis with the specified axis-ref\r\n                is not found the first xaxis is used*/\r\n                'xaxis': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **yaxis** (string) - the Y axis that this cursor will use when snap-to-plot is undefined.\r\n                Default: ''. Accepted values: an axis-ref. In case an yaxis with the specified axis-ref\r\n                is not found the first yaxis is used*/\r\n                'yaxis': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **x** (number) - the x target coordinate of the cursor. This coordinate\r\n                is relative to the visible area of the graph, in the interval 0 to 1.\r\n                0 is on the left edge and 1 on the one to the right.\r\n                Default: 0.5*/\r\n                'x': {\r\n                    value: 0.5,\r\n                    type: 'number'\r\n                },\r\n\r\n                /** **y** (number) - the y target coordinate of the cursor. This coordinate\r\n                is relative to the visible area of the graph, in the interval 0 to 1.\r\n                0 is on the bottom edge and 1 on the top one.\r\n                Default: 0.5*/\r\n                'y': {\r\n                    value: 0.5,\r\n                    type: 'number'\r\n                },\r\n\r\n                /** **font-family** (string) - the font used for cursor label and values.\r\n                Default: 'sans-serif'*/\r\n                'fontFamily': {\r\n                    value: 'sans-serif',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **font-size** (string) - the font size used for cursor label and values.\r\n                Default: '10px'*/\r\n                'fontSize': {\r\n                    value: '10px',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **font-style** (string) - the font style used for cursor label and values.\r\n                Default: ''*/\r\n                'fontStyle': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n\r\n                /** **show-thumbs** (string) - the visibility of thumbs and axis on which they appear.\r\n                Default: 'none'. Accepted values: 'r', 'l', 'b', 't', 'none'*/\r\n                'showThumbs': {\r\n                    value: 'none',\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        };\r\n\r\n        created() {\r\n            super.created();\r\n            this.cursor = null;\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        sendEventToParentGraph(name) {\r\n            var eventConfig;\r\n\r\n            if (this._parentGraph !== undefined) {\r\n                eventConfig = {\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this\r\n                    }\r\n                };\r\n\r\n                this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        attached() {\r\n            super.attached();\r\n\r\n            if ((this.parentElement instanceof JQX.CartesianGraph || this.parentElement instanceof JQX.Chart) &&\r\n                this.parentElement.isReady) {\r\n                this.attachToGraph(this.parentElement);\r\n            } else {\r\n                this._parentGraph = undefined;\r\n            }\r\n        };\r\n\r\n        attachToGraph(graph) {\r\n            if (!this._parentGraph) {\r\n                this._parentGraph = graph;\r\n                this.sendEventToParentGraph('ni-cursor-attached');\r\n            }\r\n        };\r\n\r\n        /** TODO: clean up and document the events generated by cursors*/\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            this.sendEventToParentGraph('ni-cursor-changed');\r\n        };\r\n\r\n        detached() {\r\n            super.detached();\r\n\r\n            this.sendEventToParentGraph('ni-cursor-detached');\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        setCursor(cursor) {\r\n            this.cursor = cursor;\r\n        };\r\n\r\n        updateCursorElement(data) {\r\n            this.x = this.cursor.position.relativeX;\r\n            this.y = this.cursor.position.relativeY;\r\n            if (this._parentGraph) {\r\n                $(this).trigger('cursorUpdated', data);\r\n            }\r\n        };\r\n\r\n        getViewConfig () {\r\n            var style = window.getComputedStyle(this);\r\n            var crosshairStyle = this.crosshairStyle;\r\n            var mode;\r\n\r\n            if (crosshairStyle === 'both') {\r\n                mode = 'xy';\r\n            } else if (crosshairStyle === 'horizontal') {\r\n                mode = 'y';\r\n            } else if (crosshairStyle === 'vertical') {\r\n                mode = 'x';\r\n            } else if (crosshairStyle === 'none') {\r\n                mode = '';\r\n            } else {\r\n                mode = null;\r\n            }\r\n\r\n            return {\r\n                show: this.show,\r\n                showLabel: this.showLabel,\r\n                showValues: this.showValue,\r\n                name: this.label,\r\n                snapToPlot: this.snapToPlot,\r\n                interpolate: this.interpolate,\r\n                defaultxaxis: this._parentGraph.getXAxisIndexByNIControlID(this.xaxis),\r\n                defaultyaxis: this._parentGraph.getYAxisIndexByNIControlID(this.yaxis),\r\n                mode: mode,\r\n                symbol: this.targetShape,\r\n                color: style.color,\r\n                fontSize: style.fontSize,\r\n                fontFamily: style.fontFamily,\r\n                fontStyle: style.fontStyle,\r\n                fontWeight: style.fontWeight,\r\n                position: {\r\n                    relativeX: this.x,\r\n                    relativeY: this.y\r\n                },\r\n                showThumbs: this.showThumbs\r\n            };\r\n        };\r\n\r\n        setFont(fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\r\n            this.style.fontSize = fontSize;\r\n            this.style.fontFamily = fontFamily;\r\n            this.style.fontWeight = fontWeight;\r\n            this.style.textDecoration = textDecoration;\r\n\r\n            this.sendEventToParentGraph('ni-cursor-changed');\r\n        };\r\n\r\n        setColor(color) {\r\n            this.style.color = color;\r\n            this.sendEventToParentGraph('ni-cursor-changed');\r\n        }\r\n\r\n        template() {\r\n            return '';\r\n        }\r\n    };\r\n\r\n    JQX('ni-cursor', Cursor);\r\n}());\r\n","/**\r\n# TypedWebCharts Plugin\r\n\r\n> Allows setting data types to WebCharts.\r\n\r\nThe information of the data type will be used to optimize setting\r\nor pushing new data to the WebCharts.\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph value=\"[[1, 2, 3, 4, 5]]\" ni-type=\"{&quot;name&quot;:&quot;Array&quot;,&quot;rank&quot;:1,&quot;subtype&quot;:{&quot;name&quot;:&quot;Double&quot;}}\">\r\n</ni-cartesian-graph>\r\n```\r\n\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var DataPipeline = NationalInstruments.HtmlVI.DataPipeline,\r\n        TypedHistoryBuffer = NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer;\r\n\r\n    /** ## ni-cartesian-graph module */\r\n    class NITypedCartesianGraphModule {\r\n        static get properties() {\r\n            const properties = {\r\n                /** **ni-type** - the data type of the values being written to the\r\n                value property or setData() method */\r\n                'niType': {\r\n                    value: undefined,\r\n                    type: 'string?',\r\n                    observer: 'setNIType'\r\n                }\r\n            };\r\n            return properties;\r\n        }\r\n\r\n        static get moduleName() {\r\n            return 'NITypedCartesianGraphModule';\r\n        }\r\n\r\n        setNIType(oldValue, newValue) {\r\n            this.ownerElement.valueTypeNeedsUpdate = true;\r\n        }\r\n\r\n        created() {\r\n            this.ownerElement.valueType = DataPipeline.DataTypesEnum.unknown;\r\n            this.ownerElement.valueTypeNeedsUpdate = false;\r\n        }\r\n\r\n        attached() {\r\n            this.ownerElement.valueType = DataPipeline.inferDataTypeFromNIType(createNIType(this.ownerElement.niType));\r\n            this.ownerElement.valueTypeNeedsUpdate = false;\r\n        }\r\n\r\n        setData(data) {\r\n            if (this.ownerElement.valueTypeNeedsUpdate) {\r\n                this.ownerElement.valueType = DataPipeline.inferDataTypeFromNIType(createNIType(this.ownerElement.niType));\r\n                this.ownerElement.valueTypeNeedsUpdate = false;\r\n            }\r\n            window.NationalInstruments.HtmlVI.Elements.CartesianGraphBase.prototype.setData.call(this.ownerElement, data)\r\n        }\r\n    }\r\n\r\n    /** ## ni-cartesian-graph module */\r\n    class NITypedChartModule {\r\n        static get properties() {\r\n            const properties = {\r\n                /** **ni-type** - the data type of the values being pushed to the history buffer. */\r\n                'niType': {\r\n                    value: undefined,\r\n                    type: 'string?',\r\n                    observer: 'setNIType'\r\n                }\r\n            };\r\n            return properties;\r\n        }\r\n\r\n        static get moduleName() {\r\n            return 'NITypedChartModule';\r\n        }\r\n\r\n        setNIType(oldValue, newValue) {\r\n            setNITypeToHistoryBuffer(this.ownerElement.historyBuffer, this.ownerElement.niType);\r\n        }\r\n\r\n        ready() {\r\n            this.ownerElement.historyBuffer = new TypedHistoryBuffer(this.ownerElement.bufferSize, 1);\r\n            setNITypeToHistoryBuffer(this.ownerElement.historyBuffer, this.ownerElement.niType);\r\n        }\r\n\r\n        setHistoryBuffer(historyBuffer) {\r\n            this.ownerElement.historyBuffer = historyBuffer;\r\n            setNITypeToHistoryBuffer(this.ownerElement.historyBuffer, this.ownerElement.niType);\r\n        }\r\n    }\r\n\r\n    /** ## ni-intensity-graph module */\r\n    class NITypedIntensityGraphModule {\r\n        static get properties() {\r\n            const properties = {\r\n                /** **ni-type** - for now this is not used */\r\n                'niType': {\r\n                    value: NITypes.DOUBLE.makeArray(2).toJSON(),\r\n                    type: 'string?'\r\n                }\r\n            };\r\n            return properties;\r\n        }\r\n\r\n        static get moduleName() {\r\n            return 'NITypedIntensityGraphModule';\r\n        }\r\n    }\r\n\r\n    function createNIType(descriptor) {\r\n        var niType = null;\r\n        try {\r\n            if (descriptor) {\r\n                niType = new NIType(descriptor);\r\n            }\r\n        } catch (err) {}\r\n        return niType;\r\n    }\r\n\r\n    function setNITypeToHistoryBuffer(historyBuffer, niTypeStr) {\r\n        if (typeof historyBuffer.setNIType === 'function') {\r\n            historyBuffer.setNIType(createNIType(niTypeStr));\r\n        }\r\n    };\r\n\r\n    JQX.Elements.whenRegistered('ni-cartesian-graph', function(proto) {\r\n        proto.addModule(NITypedCartesianGraphModule);\r\n    });\r\n\r\n    JQX.Elements.whenRegistered('ni-chart', function(proto) {\r\n        proto.addModule(NITypedChartModule);\r\n    });\r\n\r\n    JQX.Elements.whenRegistered('ni-intensity-graph', function(proto) {\r\n        proto.addModule(NITypedIntensityGraphModule);\r\n    });\r\n}());\r\n"]}