{"version":3,"sources":["ni-legend-helpers.js","ni-plot-legend.js","ni-plot-legend-helpers.js","ni-plot-legend-item-display.js","ni-cursor-legend.js","ni-cursor-legend-item-display.js","ni-cursor-legend-helpers.js","ni-scale-legend.js","ni-scale-legend-helpers.js","ni-graph-tools.js"],"names":["NI_SUPPORT","NationalInstruments","HtmlVI","NISupport","$","Globals","jQuery","Elements","LegendHelpers","helpers","legendItemDisplay","this","child","proto","prototype","addButtons","menuItem","div","index","btn","current","that","children","forEach","document","createElement","type","className","jqxToggleButton","toggled","cssClass","classList","add","on","handleClick","name","updateShape","state","getState","undefined","appendChild","addComboBox","iconWidth","i","selectedIndex","init","jqxDropDownList","width","dropDownHeight","length","text","i18n","tag","substring","id","html","event","args","item","label","getTextElementByColor","color","hex","element","bgDelta","r","g","b","foreColor","css","addClass","addColorBox","dropList","append","colorbox","jqxColorPicker","height","colorMode","e","jqxDropDownButton","parsedColor","parse","jqx","rgb","addCheckBox","jqxCheckBox","checked","PlotLegend","parent","inheritFromParent","createLegendRow","legend","createRow","tbl","nPlots","addRenderer","removeLegendRow","removeRow","clearRenderer","addAllProperties","targetPrototype","call","addProperty","propertyName","defaultValue","fireEvent","addNonSignalingProperty","createdCallback","currentExpander","PlotLegendHelpers","plotLegendItemDisplay","PlotLegendItemDisplay","uihelpers","deferLegendUpdates","plotAdded","plotRemoved","syncPlotLegendWithGraph","graph","querySelector","graphName","graphPlots","plots","createRows","throttlePlotUpdates","enableThrottling","attachToGraph","graphElement","isReady","registerPlotLegend","attachedCallback","childElement","firstCall","isInEditMode","style","overflowX","overflowY","addEventListener","clearCache","evt","source","detail","originalSource","getIndex","updatePlotName","getPlotName","rendererToIndex","tr","exp","header","content","plotName","p","span","createHeaderDisplay","createTextNode","jqxExpander","expanded","disabled","expandAnimationDuration","collapseAnimationDuration","initContent","loadContent","expander","applyFont","titles","find","j","td1","td2","menu","row","removeHeaderDisplay","removeChild","setFont","fontSize","fontFamily","fontWeight","fontStyle","textDecoration","firstElementChild","jqrefContent","jqrefItemTitle","jqrefItemContentTitle","font-size","font-family","font-weight","font-style","propertyUpdated","each","defineElementInfo","Visual","defaultPlotColors","lineStyleValues","dot","dashdot","mediumdash","largedash","solid","renderers","getPlot","plot","childNodes","localName","_parentGraph","indexOf","getRenderer","renderer","lastElementChild","itemName","arg","initialColor","lineStroke","pointColor","barFill","areaFill","lineWidth","pointShape","lineStyle","areaBaseLine","enableHover","getPlotColorFromRenderer","getPlotColor","getLineWidth","getLineShape","lineShape","getLineStyle","getPointShape","pointTypes","creator","createEllipseShape","createRectangleShape","createDiamondShape","createCrossShape","createPlusShape","lineTypes","createLine","createFillArea","createBars","createPoints","shapes","svgns","svg","createElementNS","setAttribute","setAttributeNS","shapesGroup","createLineTypes","splice","shape","line","fill","bar","group","points","x","y","pointGroups","center","size","path","updateLinesAttributes","updatePointVisibility","currentLineShape","currentPointShape","updateVisibility","CursorLegend","table","selectedRow","addButton","deleteButton","centerButton","currentRow","currentBtn","observer","CursorLegendHelpers","cursorLegendItemDisplay","CursorLegendItemDisplay","cursorAdded","cursor","cursorPositionChanged","updatePosition","cursorNumber","niControlId","xEl","yEl","textValue","formatCursorPosition","innerText","xTextValue","yTextValue","cursorRemoved","eq","remove","clearShape","cursorChanged","updateName","updateVisible","removeClass","registerCursorLegend","uniqueId","buttonsRow","jqxButton","addCursor","createMainRow","createDetailsRow","display","td0","td3","td4","button","showHideButton","visible","parseFloat","createDetailsItem","title","class","subtable","td","colSpan","getMenuItem","jqrefItemName","jqrefItemX","jqrefItemY","jqrefItemDetails","items","addShapes","push","makeShape","makeCursorCross","crosshairStyle","makeLine","rect","circle","targetShape","cursorColor","x1","y1","x2","y2","firstChild","cursors","defaultCursorName","show","showValue","nextCursorName","changed","Error","data","getCursor","maxIndex","parseInt","deleteCursor","snapToData","getTargetShape","getCrosshair","ScaleLegend","nScales","ScaleLegendHelpers","scaleAdded","addScale","scaleRemoved","scale","toRemove","clearScale","registerScaleLegend","scaleToIndex","labels","lockButtons","first","setLockBackground","btnLock","btnScaleOnce","scaleName","prop","scales","getScale","autoScale","initialAutoscale","scaleOnce","setupGrid","draw","GraphTools","ModeEnum","Object","freeze","LOCKED","PAN","ZOOM","MODE_ENUM","navigationStates","registerGraphTools","updateCartesianAxesFromFlot","axes","axis","JQX","CartesianAxis","syncWithFlot","ranges","getXAxes","_","opts","options","min","xaxis","from","max","to","getYAxes","yaxis","clearSelection","CartesianGraphBase","setNavButtonsState","locked","pan","zoom","navNone","btnPan","btnZoom","setMode","mode","states","apply","btnZoomOut","allowsScrollWheelZoom","allowsPan","sendEventToParentGraph","eventConfig","bubbles","cancelable","dispatchEvent","CustomEvent"],"mappings":"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","file":"webcharts-legends.min.js","sourcesContent":["//****************************************\n// Legend Helpers Prototype\n// DOM Registration: Not an element\n// National Instruments Copyright 2015\n//****************************************\n\n(function () {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var $ = NationalInstruments.Globals.jQuery;\n\n    // Constructor Function\n    NationalInstruments.HtmlVI.Elements.LegendHelpers = function (helpers, legendItemDisplay) {\n        this.helpers = helpers;\n        this.legendItemDisplay = legendItemDisplay;\n    };\n\n    // Static Public Variables\n    // None\n\n    var child = NationalInstruments.HtmlVI.Elements.LegendHelpers;\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.addButtons = function (menuItem, div, index) {\n        var that = this;\n        var btn, current;\n        menuItem.children.forEach(function (children) {\n            btn = document.createElement('button');\n            btn.type = 'button';\n            btn.className = 'ni-button';\n            $(btn).jqxToggleButton({ toggled: false });\n            if (children.cssClass !== '') {\n                btn.classList.add(children.cssClass);\n            }\n\n            $(btn).on('click', function () {\n                if (this !== current) {\n                    $(current).jqxToggleButton('toggle');\n                    current = this;\n                }\n\n                that.helpers.handleClick(children.name, null, index);\n                that.legendItemDisplay.updateShape(index);\n            });\n            var state = that.helpers.getState(children.name, index);\n            if (state !== undefined) {\n                $(btn).jqxToggleButton({ 'toggled': state });\n                if (state === true) {\n                    current = btn;\n                }\n            }\n\n            div.appendChild(btn);\n        });\n    };\n\n    proto.addComboBox = function (menuItem, div, index, iconWidth) {\n        var that = this;\n        var i, selectedIndex = 0, init = true;\n        $(div).jqxDropDownList(\n                {\n                    width: '100%',\n                    dropDownHeight: menuItem.children.length * 26\n                });\n        for (i = 0; i < menuItem.children.length; i++) {\n            var text = NI_SUPPORT.i18n(menuItem.children[i].tag);\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\n                text = menuItem.name;\n            }\n\n            $(div).jqxDropDownList('addItem', { id: menuItem.children[i].name, html: '<div style=\"width: 100%\"><span class=\"ni-selector-title\">' + text + '</span><div class=\"ni-selector-icon ' + menuItem.children[i].cssClass + '\"' + ' style=\"background-size: ' + iconWidth + 'px 16px; width: ' + (iconWidth + 4) + 'px; \"></div></div>' });\n            var itemState = this.helpers.getState(menuItem.children[i].name, index);\n            if (itemState === true) {\n                selectedIndex = i;\n            }\n        }\n\n        $(div).on('select', function (event) {\n            var args = event.args;\n            if (init === true) {\n                return;\n            }\n\n            that.helpers.handleClick(args.item.label.id, null, index);\n            that.legendItemDisplay.updateShape(index);\n        });\n        $(div).jqxDropDownList({ 'selectedIndex': selectedIndex });\n        init = false;\n    };\n\n    proto.getTextElementByColor = function (color) {\n        if (color === 'transparent' || color.hex === '') {\n            return $('<div class=\"ni-colorbox-content\">transparent</div>');\n        }\n\n        var element = $('<div class=\"ni-colorbox-content\">#' + color.hex + '</div>');\n        var nThreshold = 105;\n        var bgDelta = (color.r * 0.299) + (color.g * 0.587) + (color.b * 0.114);\n        var foreColor = (255 - bgDelta < nThreshold) ? 'Black' : 'White';\n        element.css('color', foreColor);\n        element.css('background', '#' + color.hex);\n        element.addClass('jqx-rc-all');\n        return element;\n    };\n\n    proto.addColorBox = function (menuItem, div, index) {\n        var that = this;\n        var dropList = document.createElement('div');\n        $(div).append(dropList);\n        var colorbox = document.createElement('div');\n        colorbox.className = 'legend-colorbox-colorbox';\n        dropList.appendChild(colorbox);\n        $(colorbox).jqxColorPicker({\n            width: '200px', height: '220px',\n            colorMode: 'hue'\n        });\n        $(colorbox).on('colorchange', function (e) {\n            $(div).jqxDropDownButton('setContent', that.getTextElementByColor(e.args.color));\n            that.helpers.handleClick(menuItem.name, e.args.color, index);\n            that.legendItemDisplay.updateShape(index);\n        });\n        $(div).jqxDropDownButton(\n            { width: 'inherit'}\n            );\n        var color = this.helpers.getState(menuItem.name, index);\n\n        var parsedColor = $.color.parse(color);\n\n        $(div).jqxDropDownButton('setContent', this.getTextElementByColor(new $.jqx.color({ rgb: parsedColor })));\n    };\n\n    proto.addCheckBox = function (menuItem, div, index) {\n        var that = this;\n        var btn = $(div).jqxCheckBox();\n        btn.className = 'legend-checkbox';\n        $(btn).on('change', function (e) {\n            that.helpers.handleClick(menuItem.name, e.args.checked, index);\n        });\n        var state = that.helpers.getState(menuItem.name, index);\n        if (state !== undefined) {\n            $(btn).jqxCheckBox({ checked: state });\n        }\n    };\n}());\n","//****************************************\n// Plot Legend Prototype\n// DOM Registration: No\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.PlotLegend = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var $ = NationalInstruments.Globals.jQuery;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n\n    // Static Private Functions\n\n    // create a view for a new plot at the end of the legend.\n    var createLegendRow = function (legend) {\n        legend.createRow(legend.tbl, legend.nPlots);\n        legend.helpers.addRenderer(legend.nPlots);\n        legend.nPlots++;\n    };\n\n    // remove the view for the plot at the specified index\n    var removeLegendRow = function (legend, index) {\n        legend.removeRow(legend.tbl, index);\n        legend.helpers.clearRenderer(index);\n        legend.nPlots--;\n    };\n\n    // Public Prototype Methods\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'graphName',\n            defaultValue: '',\n            fireEvent: false,\n            addNonSignalingProperty: false\n        });\n        proto.addProperty(targetPrototype, {\n            propertyName: 'isInEditMode',\n            defaultValue: false,\n            fireEvent: false,\n            addNonSignalingProperty: false\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.tbl = undefined;\n        this.nPlots = 0;\n        this.currentExpander = null;\n        this.helpers = new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers();\n        this.plotLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers);\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.plotLegendItemDisplay);\n        this.deferLegendUpdates = false;\n\n        // Private Instance Properties\n        // None\n    };\n\n    // respond to a plot add (unless the updates are defered)\n    proto.plotAdded = function () {\n        if (!this.deferLegendUpdates) {\n            createLegendRow(this);\n        }\n    };\n\n    // respond to a plot remove (unless the updates are defered)\n    proto.plotRemoved = function (index) {\n        if (!this.deferLegendUpdates) {\n            removeLegendRow(this, index);\n        }\n    };\n\n    // call syncPlotLegendWithGraph from time to time, when the updates are defered, to\n    // synchronize the legend with the current state of the plots in the graph.\n    proto.syncPlotLegendWithGraph = function () {\n        if (this.deferLegendUpdates) {\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n            if (!graph) {\n                return;\n            }\n\n            var graphPlots = graph.plots.length;\n\n            while (graphPlots < this.nPlots) {\n                var index = this.nPlots - 1;\n                removeLegendRow(this, index);\n            }\n\n            while (graphPlots > this.nPlots) {\n                createLegendRow(this);\n            }\n        }\n    };\n\n    proto.createRows = function () {\n        var i;\n        for (i = 0; i < this.nPlots; i++) {\n            this.createRow(this.tbl, i);\n        }\n    };\n\n    proto.throttlePlotUpdates = function (enableThrottling) {\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n        if (graph !== null) {\n            graph.throttlePlotUpdates(enableThrottling);\n            this.deferLegendUpdates = enableThrottling;\n        }\n    };\n\n    proto.attachToGraph = function (graphElement) {\n        if (graphElement.isReady) {\n            this.nPlots = graphElement.plots.length;\n            this.createRows();\n            graphElement.registerPlotLegend(this);\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this),\n            childElement,\n            that = this;\n\n        if (firstCall === true) {\n            this.helpers.graphName = this.graphName;\n            this.helpers.isInEditMode = this.isInEditMode;\n            childElement = document.createElement('div');\n            childElement.style.width = '100%';\n            childElement.style.height = '100%';\n            childElement.style.overflowX = 'auto';\n            childElement.style.overflowY = 'hidden';\n            this.appendChild(childElement);\n            this.tbl = document.createElement('table');\n            this.tbl.style.width = '100%';\n            this.tbl.style.height = '100%';\n            childElement.appendChild(this.tbl);\n\n            this.addEventListener('ni-cartesian-plot-attached', function () {\n                that.plotAdded();\n                that.helpers.clearCache(); // clears the renderer cache\n            });\n\n            this.addEventListener('ni-cartesian-plot-detached', function (evt) {\n                var index;\n                var source = evt.detail.originalSource;\n                index = that.helpers.getIndex(source);\n\n                that.plotRemoved(index);\n                that.helpers.clearCache(); // clears the renderer cache\n            });\n\n            this.addEventListener('ni-cartesian-plot-changed', function (evt) {\n                var index;\n                var source = evt.detail.originalSource;\n                index = that.helpers.getIndex(source);\n                that.updatePlotName(index, that.helpers.getPlotName(index));\n            });\n\n            this.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\n                var index;\n                var source = evt.detail.originalSource;\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we gat a plot as a source\n                that.plotLegendItemDisplay.updateShape(index);\n            });\n\n            this.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\n                var index;\n                var source = evt.detail.originalSource;\n\n                that.helpers.clearCache(); // clears the renderers cache\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we got a plot as a source\n                that.plotLegendItemDisplay.updateShape(index);\n            });\n\n            this.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\n                var index;\n                var source = evt.detail.originalSource;\n\n                that.helpers.clearCache(); // clears the renderers cache\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we got a plot as a source\n                that.plotLegendItemDisplay.updateShape(index);\n            });\n\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n\n            if (graph !== null) {\n                this.attachToGraph(graph);\n            }\n        }\n\n        return firstCall;\n    };\n\n    proto.createRow = function (tbl, index) {\n        var that = this;\n        var tr, exp, header, content, div, plotName, p, span;\n\n        tr = document.createElement('tr');\n        tbl.appendChild(tr);\n        exp = document.createElement('div');\n        exp.id = 'expander' + index;\n        exp.className = 'ni-plot-legend-box';\n        tr.appendChild(exp);\n        header = document.createElement('div');\n        header.id = 'header' + index;\n        header.className = 'ni-master-row';\n        exp.appendChild(header);\n\n        div = document.createElement('div');\n        div.className = 'ni-plot-display';\n        header.appendChild(div);\n        this.plotLegendItemDisplay.createHeaderDisplay(div, index);\n        this.plotLegendItemDisplay.updateShape(index);\n\n        span = document.createElement('span');\n        span.className = 'ni-plot-title';\n        plotName = this.helpers.getPlotName(index);\n\n        p = document.createTextNode(plotName);\n        span.appendChild(p);\n        header.appendChild(span);\n\n        content = document.createElement('div');\n        content.id = 'content' + index;\n        content.className = 'ni-details-box';\n        exp.appendChild(content);\n        $(exp).jqxExpander({\n            expanded: false,\n            disabled: this.isInEditMode,\n            expandAnimationDuration: 50,\n            collapseAnimationDuration: 50,\n            initContent: function () {\n                that.loadContent(content, index);\n            }\n        });\n        $(exp).on('expanded', function () {\n            if (this !== that.currentExpander) {\n                var expander = that.currentExpander;\n                that.currentExpander = this;\n                if (expander !== null) {\n                    $(expander).jqxExpander({ expanded: false });\n                }\n            }\n        });\n        this.applyFont();\n    };\n\n    proto.updatePlotName = function (index, name) {\n        var titles = $(this.tbl).find('.ni-plot-title');\n        $(titles[index]).text(name);\n    };\n\n    proto.loadContent = function (content, index) {\n        var tbl, tr, j, span, p, td1, td2, div;\n        content.style.height = ((this.helpers.menu.length + 1) * 30) + 10 + 'px';\n        tbl = document.createElement('table');\n        tbl.className = 'ni-details';\n        content.appendChild(tbl);\n\n        for (j = 0; j < this.helpers.menu.length; j++) {\n            var menuItem = this.helpers.menu[j];\n            tr = document.createElement('tr');\n            tr.className = 'ni-details-row ' + (menuItem.cssClass || '');\n            tbl.appendChild(tr);\n            td1 = document.createElement('td');\n            td1.className = 'ni-detail-row-title-box';\n            tr.appendChild(td1);\n            span = document.createElement('span');\n            span.className = 'ni-detail-row-title';\n            td1.appendChild(span);\n            var text = NI_SUPPORT.i18n(menuItem.tag);\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\n                text = menuItem.name + '!';\n            }\n\n            p = document.createTextNode(text);\n            span.appendChild(p);\n            td2 = document.createElement('td');\n            td2.className = 'ni-details-row-operations-box';\n            tr.appendChild(td2);\n            switch (menuItem.type) {\n                case 'buttons':\n                    this.uihelpers.addButtons(menuItem, td2, index);\n                    break;\n                case 'combobox':\n                    div = document.createElement('div');\n                    div.className = 'ni-selector';\n                    td2.appendChild(div);\n                    this.uihelpers.addComboBox(menuItem, div, index, 60);\n                    break;\n                case 'colorbox':\n                    div = document.createElement('div');\n                    div.className = 'ni-colorbox-selector ni-selector';\n                    td2.appendChild(div);\n                    this.uihelpers.addColorBox(menuItem, div, index);\n                    break;\n                case 'checkbox':\n                    div = document.createElement('div');\n                    div.className = 'ni-hover-box';\n                    td2.appendChild(div);\n                    this.uihelpers.addCheckBox(menuItem, div, index);\n                    break;\n            }\n        }\n    };\n\n    proto.removeRow = function (tbl, index) {\n        var row = tbl.children[index];\n        this.plotLegendItemDisplay.removeHeaderDisplay(null, index);\n        if (row !== null && row !== undefined) {\n            tbl.removeChild(row);\n        }\n    };\n\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle, textDecoration);\n\n        var childElement = this.firstElementChild,\n            jqrefContent = $(childElement).find(' .jqx-widget-content'),\n            jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\n            jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\n\n        jqrefContent.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemTitle.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemContentTitle.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n    };\n\n    proto.applyFont = function () {\n        var childElement = this.firstElementChild,\n            jqrefContent = $(childElement).find(' .jqx-widget-content'),\n            jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\n            jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\n\n        var fontSize = $(this).css('font-size');\n        var fontFamily = $(this).css('font-family');\n        var fontWeight = $(this).css('font-weight');\n        var fontStyle = $(this).css('font-style');\n        jqrefContent.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemTitle.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemContentTitle.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        switch (propertyName) {\n            case 'graphName':\n                // should never change\n                this.helpers.graphName = this.graphName;\n                break;\n            case 'isInEditMode':\n                // this changes once after the element is created\n                this.helpers.isInEditMode = this.isInEditMode;\n                $(this.tbl).find('.ni-plot-legend-box').each(function () {\n                    $(this).jqxExpander({ disabled: this.isInEditMode });\n                });\n                break;\n            default:\n                break;\n        }\n    };\n\n    proto.defineElementInfo(proto, 'ni-plot-legend', 'HTMLNIPlotLegend');\n}(NationalInstruments.HtmlVI.Elements.PlotLegend, NationalInstruments.HtmlVI.Elements.Visual));\n","//****************************************\n// Plot Legend Helpers Prototype\n// DOM Registration: Not an element\n// National Instruments Copyright 2015\n//****************************************\n\n(function () {\n    'use strict';\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    // Constructor Function\n    NationalInstruments.HtmlVI.Elements.PlotLegendHelpers = function () {\n        this.graphName = '';\n        this.isInEditMode = false;\n        this.defaultPlotColors = [\n           'rgba(123, 22, 26, 1)',\n           'rgba(0, 142, 228, 1)',\n           'rgba(226, 182, 131, 1)',\n           'rgba(183, 172, 31, 1)',\n           'rgba(174, 220, 239, 1)',\n           'rgba(160, 139, 176, 1)',\n           'rgba(127, 127, 127, 1)',\n           'rgba(60, 7, 38, 1)'\n        ];\n\n        // values that are used for the dasharray attribute of the line\n        this.lineStyleValues = {\n            dot: '1, 2',\n            dashdot: '3, 3, 1, 3',\n            mediumdash: '3, 3',\n            largedash: '5, 4',\n            solid: '0'\n        };\n        this.renderers = [];\n    };\n\n    // Static Public Variables\n    // None\n\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendHelpers;\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.menu = [\n        {\n            name: 'Plot Style', tag: 'msg_plotstyle', type: 'buttons', children: [\n                { name: 'Line', tag: 'msg_line', cssClass: 'ni-line-style-icon' },\n                { name: 'Point', tag: 'msg_point', cssClass: 'ni-point-style-icon' },\n                { name: 'Line & Point', tag: 'msg_lineandpoint', cssClass: 'ni-line-and-point-style-icon' },\n                { name: 'Bar', tag: 'msg_bar', cssClass: 'ni-bar-style-icon' },\n                { name: 'Fill', tag: 'msg_fill', cssClass: 'ni-fill-style-icon' }\n            ]\n        },\n        {\n            name: 'Point Style', tag: 'msg_pointstyle', type: 'buttons', children: [\n                { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\n                { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\n                { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\n                { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\n                { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\n            ]\n        },\n        {\n            name: 'Line Width', tag: 'msg_linewidth', cssClass: 'line_width', type: 'combobox', children: [\n                { name: 'No line', tag: 'msg_noline', cssClass: '' },\n                { name: '1-pixel', tag: 'msg_1pixel', cssClass: 'ni-1-pixel-line-width-icon' },\n                { name: '2-pixels', tag: 'msg_2pixels', cssClass: 'ni-2-pixels-line-width-icon' },\n                { name: '3-pixels', tag: 'msg_3pixels', cssClass: 'ni-3-pixels-line-width-icon' },\n                { name: '4-pixels', tag: 'msg_4pixels', cssClass: 'ni-4-pixels-line-width-icon' },\n                { name: '5-pixels', tag: 'msg_5pixels', cssClass: 'ni-5-pixels-line-width-icon' }\n            ]\n        },\n        {\n            name: 'Line Style', tag: 'msg_linestyle', cssClass: 'line_style', type: 'combobox', children: [\n                { name: 'No style', tag: 'msg_nostyle', cssClass: '' },\n                { name: 'Solid', tag: 'msg_solid', cssClass: 'ni-solid-line-style-icon' },\n                { name: 'Dot', tag: 'msg_dot', cssClass: 'ni-dot-line-style-icon' },\n                { name: 'Dot-dash', tag: 'msg_dashdot', cssClass: 'ni-dot-dash-line-style-icon' },\n                { name: 'Medium dash', tag: 'msg_mediumdash', cssClass: 'ni-medium-dash-line-style-icon' },\n                { name: 'Large dash', tag: 'msg_largedash', cssClass: 'ni-large-dash-line-style-icon' }\n            ]\n        },\n        {\n            name: 'Fill Baseline', tag: 'msg_fillbaseline', type: 'buttons', children: [\n                { name: 'Zero', tag: 'msg_zero', cssClass: 'ni-fill-to-zero-style-icon' },\n                { name: '-Inf', tag: 'msg_neginf', cssClass: 'ni-fill-base-line-negative-infinity-icon' },\n                { name: 'Inf', tag: 'msg_inf', cssClass: 'ni-fill-base-line-positive-infinity-icon' }\n            ]\n        },\n        {\n            name: 'Color', tag: 'msg_color', type: 'colorbox', children: [\n            ]\n        },\n        {\n            name: 'Hover', tag: 'msg_hover', cssClass: 'hover', type: 'checkbox', children: [\n\n            ]\n        }\n    ];\n\n    proto.addRenderer = function () {\n    };\n\n    proto.clearRenderer = function (index) {\n        this.renderers[index] = null;\n    };\n\n    proto.clearCache = function () {\n        for (var i = 0; i < this.renderers.length; i++) {\n            this.renderers[i] = null;\n        }\n    };\n\n    proto.getPlot = function (index) {\n        var i = 0;\n        var plot = null;\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n\n        if (graph !== null) {\n            for (child in graph.childNodes) {\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\n                    if (i === index) {\n                        plot = graph.childNodes[child];\n                        break;\n                    }\n\n                    i++;\n                }\n            }\n        }\n\n        return plot;\n    };\n\n    proto.getIndex = function (plot) {\n        var index, graph;\n        // graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n        graph = plot._parentGraph;\n        if (graph !== null) {\n            index = graph.plots.indexOf(plot);\n        }\n\n        return index;\n    };\n\n    proto.getPlotName = function (index) {\n        var plot = this.getPlot(index);\n\n        if (plot && (typeof plot.label === 'string')) {\n            return plot.label;\n        } else {\n            return NI_SUPPORT.i18n('msg_defaultplotname');\n        }\n    };\n\n    proto.getRenderer = function (index) {\n        var plot = null;\n        var renderer = null;\n        if (this.renderers[index] === null || this.renderers[index] === undefined) {\n            plot = this.getPlot(index);\n\n            if (plot !== null) {\n                renderer = plot.lastElementChild;\n            }\n\n            if (renderer === null) {\n                return null;\n            }\n\n            this.renderers[index] = renderer;\n        }\n\n        return this.renderers[index];\n    };\n\n    proto.rendererToIndex = function (renderer) {\n        var i = 0, index, graph, child, currentRenderer;\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n        if (graph !== null) {\n            for (child in graph.childNodes) {\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\n                    currentRenderer = graph.childNodes[child].lastElementChild;\n                    if (currentRenderer === renderer) {\n                        index = i;\n                        break;\n                    }\n\n                    i++;\n                }\n            }\n        }\n\n        return index;\n    };\n\n    proto.handleClick = function (itemName, arg, index) {\n        if (this.isInEditMode !== true) {\n            var initialColor = '';\n            var plot;\n            var renderer = this.getRenderer(index);\n            if (renderer === null) {\n                return;\n            }\n\n            if (renderer.lineStroke !== '') {\n                initialColor = renderer.lineStroke;\n            }\n\n            if (renderer.pointColor !== '') {\n                initialColor = renderer.pointColor;\n            }\n\n            if (renderer.barFill !== '') {\n                initialColor = renderer.barFill;\n            }\n\n            if (renderer.areaFill !== '') {\n                initialColor = renderer.areaFill;\n            }\n\n            switch (itemName) {\n                case 'No line':\n                    renderer.lineWidth = 0;\n                    break;\n                case '1-pixel':\n                    renderer.lineWidth = 1;\n                    break;\n                case '2-pixels':\n                    renderer.lineWidth = 2;\n                    break;\n                case '3-pixels':\n                    renderer.lineWidth = 3;\n                    break;\n                case '4-pixels':\n                    renderer.lineWidth = 4;\n                    break;\n                case '5-pixels':\n                    renderer.lineWidth = 5;\n                    break;\n                case 'Line':\n                    renderer.lineStroke = initialColor;\n                    renderer.pointColor = '';\n                    renderer.barFill = '';\n                    renderer.areaFill = '';\n                    break;\n                case 'Point':\n                    renderer.lineStroke = '';\n                    renderer.pointColor = initialColor;\n                    renderer.barFill = '';\n                    renderer.areaFill = '';\n                    break;\n                case 'Line & Point':\n                    renderer.lineStroke = initialColor;\n                    renderer.pointColor = initialColor;\n                    renderer.barFill = '';\n                    renderer.areaFill = '';\n                    break;\n                case 'Bar':\n                    renderer.lineStroke = '';\n                    renderer.pointColor = '';\n                    renderer.barFill = initialColor;\n                    renderer.areaFill = '';\n                    break;\n                case 'Fill':\n                    renderer.lineStroke = '';\n                    renderer.pointColor = '';\n                    renderer.barFill = '';\n                    renderer.areaFill = initialColor;\n                    break;\n                case 'Ellipse':\n                    renderer.pointShape = 'ellipse';\n                    break;\n                case 'Rectangle':\n                    renderer.pointShape = 'rectangle';\n                    break;\n                case 'Diamond':\n                    renderer.pointShape = 'diamond';\n                    break;\n                case 'Cross':\n                    renderer.pointShape = 'cross';\n                    break;\n                case 'Plus':\n                    renderer.pointShape = 'plus';\n                    break;\n                case 'No style':\n                    renderer.lineStyle = '';\n                    break;\n                case 'Solid':\n                    renderer.lineStyle = 'solid';\n                    break;\n                case 'Dot':\n                    renderer.lineStyle = 'dot';\n                    break;\n                case 'Dot-dash':\n                    renderer.lineStyle = 'dashdot';\n                    break;\n                case 'Medium dash':\n                    renderer.lineStyle = 'mediumdash';\n                    break;\n                case 'Large dash':\n                    renderer.lineStyle = 'largedash';\n                    break;\n                case 'Zero':\n                    renderer.areaBaseLine = 'zero';\n                    break;\n                case '-Inf':\n                    renderer.areaBaseLine = 'negativeinfinity';\n                    break;\n                case 'Inf':\n                    renderer.areaBaseLine = 'positiveinfinity';\n                    break;\n                case 'Color':\n                    if (renderer.lineStroke !== '') {\n                        renderer.lineStroke = '#' + arg.hex;\n                    } else if (renderer.pointColor !== '') {\n                        renderer.pointColor = '#' + arg.hex;\n                    } else if (renderer.barFill !== '') {\n                        renderer.barFill = '#' + arg.hex;\n                    } else if (renderer.areaFill !== '') {\n                        renderer.areaFill = '#' + arg.hex;\n                    }\n\n                    break;\n                case 'Hover':\n                    plot = this.getPlot(index);\n                    plot.enableHover = arg;\n                    break;\n            }\n        }\n    };\n\n    proto.getState = function (itemName, index) {\n        var plot;\n        var renderer = this.getRenderer(index);\n        if (renderer === null) {\n            return undefined;\n        }\n\n        var state;\n        switch (itemName) {\n            case 'No line':\n                state = renderer.lineWidth === 0;\n                break;\n            case '1-pixel':\n                state = renderer.lineWidth === 1;\n                break;\n            case '2-pixels':\n                state = renderer.lineWidth === 2;\n                break;\n            case '3-pixels':\n                state = renderer.lineWidth === 3;\n                break;\n            case '4-pixels':\n                state = renderer.lineWidth === 4;\n                break;\n            case '5-pixels':\n                state = renderer.lineWidth === 5;\n                break;\n            case 'Line':\n                state = renderer.lineStroke !== '' && renderer.pointColor === '';\n                break;\n            case 'Point':\n                state = renderer.lineStroke === '' && renderer.pointColor !== '';\n                break;\n            case 'Line & Point':\n                state = renderer.lineStroke !== '' && renderer.pointColor !== '';\n                break;\n            case 'Bar':\n                state = renderer.barFill !== '';\n                break;\n            case 'Fill':\n                state = renderer.areaFill !== '';\n                break;\n            case 'Ellipse':\n                state = renderer.pointShape === 'ellipse';\n                break;\n            case 'Rectangle':\n                state = renderer.pointShape === 'rectangle';\n                break;\n            case 'Diamond':\n                state = renderer.pointShape === 'diamond';\n                break;\n            case 'Cross':\n                state = renderer.pointShape === 'cross';\n                break;\n            case 'Plus':\n                state = renderer.pointShape === 'plus';\n                break;\n            case 'No style':\n                state = renderer.lineStyle === '';\n                break;\n            case 'Solid':\n                state = renderer.lineStyle === 'solid';\n                break;\n            case 'Dot':\n                state = renderer.lineStyle === 'dot';\n                break;\n            case 'Dot-dash':\n                state = renderer.lineStyle === 'dashdot';\n                break;\n            case 'Medium dash':\n                state = renderer.lineStyle === 'mediumdash';\n                break;\n            case 'Large dash':\n                state = renderer.lineStyle === 'largedash';\n                break;\n            case 'Zero':\n                state = renderer.areaBaseLine === 'zero' || renderer.areaBaseLine === '';\n                break;\n            case '-Inf':\n                state = renderer.areaBaseLine === 'negativeinfinity';\n                break;\n            case 'Inf':\n                state = renderer.areaBaseLine === 'positiveinfinity';\n                break;\n            case 'Color':\n                state = this.getPlotColorFromRenderer(renderer);\n                break;\n            case 'Hover':\n                plot = this.getPlot(index);\n                state = plot.enableHover;\n                break;\n        }\n\n        return state;\n    };\n\n    proto.getPlotColor = function (index) {\n        var renderer = this.getRenderer(index);\n        if (renderer !== null) {\n            return this.getPlotColorFromRenderer(renderer);\n        }\n\n        return this.defaultPlotColors[index % this.defaultPlotColors.length];\n    };\n\n    proto.getPlotColorFromRenderer = function (renderer) {\n        var state = 'rgba(0, 0, 0, 1)';\n        if (renderer.lineStroke !== '') {\n            state = renderer.lineStroke;\n        } else if (renderer.pointColor !== '') {\n            state = renderer.pointColor;\n        } else if (renderer.barFill !== '') {\n            state = renderer.barFill;\n        } else if (renderer.areaFill !== '') {\n            state = renderer.areaFill;\n        }\n\n        return state;\n    };\n\n    proto.getLineWidth = function (index) {\n        var renderer = this.getRenderer(index);\n        if (renderer !== null) {\n            return renderer.lineWidth;\n        }\n\n        // Return the default line width if there is no renderer.\n        return 1;\n    };\n\n    proto.getLineShape = function (index) {\n        var lineShape = 'line';\n        var renderer = this.getRenderer(index);\n        if (renderer !== null) {\n            if (renderer.lineStroke !== '' && renderer.pointColor === '') {\n                lineShape = 'line';\n            } else if (renderer.lineStroke === '' && renderer.pointColor !== '') {\n                lineShape = 'points';\n            } else if (renderer.lineStroke !== '' && renderer.pointColor !== '') {\n                lineShape = 'line & point';\n            } else if (renderer.barFill !== '') {\n                lineShape = 'bar';\n            } else if (renderer.areaFill !== '') {\n                lineShape = 'fill';\n            }\n        }\n\n        // Return the default line shape if there is no renderer.\n        return lineShape;\n    };\n\n    proto.getLineStyle = function (index) {\n        var renderer = this.getRenderer(index);\n        if (renderer !== null) {\n            switch (renderer.lineStyle) {\n                case 'dot':\n                    return this.lineStyleValues.dot;\n                case 'dashdot':\n                    return this.lineStyleValues.dashdot;\n                case 'mediumdash':\n                    return this.lineStyleValues.mediumdash;\n                case 'largedash':\n                    return this.lineStyleValues.largedash;\n                default:\n                    return this.lineStyleValues.solid;\n            }\n        }\n\n        return '0';\n    };\n\n    proto.getPointShape = function (index) {\n        var renderer = this.getRenderer(index);\n        if (renderer !== null) {\n            return renderer.pointShape;\n        }\n\n        // Return the default point shape if there is no renderer.\n        return 'ellipse';\n    };\n\n}());\n","//****************************************\n// Plot Legend Prototype\n// DOM Registration: Not an element\n// National Instruments Copyright 2015\n//****************************************\n\n(function () {\n    'use strict';\n\n    // Constructor Function\n    NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay = function (helpers) {\n        this.pointTypes = [\n           { name: 'ellipse', creator: createEllipseShape },\n           { name: 'rectangle', creator: createRectangleShape },\n           { name: 'diamond', creator: createDiamondShape },\n           { name: 'cross', creator: createCrossShape },\n           { name: 'plus', creator: createPlusShape }\n        ];\n\n        this.lineTypes = [\n            { name: 'line', creator: createLine },\n            { name: 'fill', creator: createFillArea },\n            { name: 'bar', creator: createBars },\n            { name: 'points', creator: createPoints }\n        ];\n\n        this.shapes = [];\n        this.helpers = helpers;\n    };\n\n    // Static Public Variables\n    // None\n\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay;\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.createHeaderDisplay = function (div, index) {\n        var svgns, svg;\n        svgns = 'http://www.w3.org/2000/svg';\n        svg = document.createElementNS(svgns, 'svg');\n        svg.setAttribute('width', '16');\n        svg.setAttribute('height', '16');\n        svg.setAttribute('viewBox', '0,0,16,16');\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\n        div.appendChild(svg);\n\n        var shapesGroup = document.createElementNS(svgns, 'g');\n        var that = this;\n        svg.appendChild(shapesGroup);\n        this.shapes[index] = {};\n        this.shapes[index].shapesGroup = shapesGroup;\n\n        createLineTypes(index, shapesGroup, svgns, that);\n        shapesGroup.setAttribute('stroke', 'rgba(255, 0, 0, 1)');\n    };\n\n    proto.removeHeaderDisplay = function (div, index) {\n        this.shapes.splice(index, 1);\n    };\n\n    var createLineTypes = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\n        var i;\n\n        for (i = 0; i < plotLegendItemDisplay.lineTypes.length; i++) {\n            plotLegendItemDisplay.lineTypes[i].creator(index, shapesGroup, svgns, plotLegendItemDisplay);\n        }\n    };\n\n    var createLine = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\n        var shape = document.createElementNS(svgns, 'polyline');\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0');\n        shape.setAttribute('fill', 'none');\n        shape.setAttribute('stroke-width', plotLegendItemDisplay.helpers.getLineWidth(index));\n        shape.setAttribute('stroke-dasharray', plotLegendItemDisplay.helpers.getLineStyle(index));\n\n        shapesGroup.appendChild(shape);\n        plotLegendItemDisplay.shapes[index].shapesGroup.line = shape;\n    };\n\n    var createFillArea = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\n        var shape = document.createElementNS(svgns, 'polyline');\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0, 15,15, 0,15');\n        shape.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\n        shape.setAttribute('stroke-width', plotLegendItemDisplay.helpers.getLineWidth(index));\n        shape.setAttribute('visibility', 'hidden');\n\n        shapesGroup.appendChild(shape);\n        plotLegendItemDisplay.shapes[index].shapesGroup.fill = shape;\n    };\n\n    var createBars = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\n        var shape = document.createElementNS(svgns, 'polyline');\n        shape.setAttribute('points', '1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5');\n        shape.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\n        shape.setAttribute('stroke-width', 1);\n        shape.setAttribute('visibility', 'hidden');\n\n        shapesGroup.appendChild(shape);\n        plotLegendItemDisplay.shapes[index].shapesGroup.bar = shape;\n    };\n\n    var createPoints = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\n        var i, j;\n        var group;\n        var points = [\n            { x: 0.5, y: 15.5 },\n            { x: 10.5, y: 10.5 },\n            { x: 5.5, y: 5.5 },\n            { x: 15.5, y: 0.5 }\n        ];\n        var shape;\n\n        var pointGroups = document.createElementNS(svgns, 'g');\n        plotLegendItemDisplay.shapes[index].shapesGroup.points = pointGroups;\n        for (j = 0; j < plotLegendItemDisplay.pointTypes.length; j++) {\n            group = document.createElementNS(svgns, 'g');\n            for (i = 0; i < 4; i++) {\n                shape = plotLegendItemDisplay.pointTypes[j].creator(svgns, points[i], 4);\n                group.appendChild(shape);\n            }\n\n            group.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\n            group.setAttribute('stroke-width', 1);\n            group.setAttribute('visibility', 'hidden');\n            pointGroups.appendChild(group);\n            plotLegendItemDisplay.shapes[index].shapesGroup.points[plotLegendItemDisplay.pointTypes[j].name] = group;\n        }\n\n        shapesGroup.appendChild(pointGroups);\n    };\n\n    var createEllipseShape = function (svgns, center, size) {\n        var shape = document.createElementNS(svgns, 'circle');\n        shape.setAttribute('cx', center.x);\n        shape.setAttribute('cy', center.y);\n        shape.setAttribute('r', size / 2);\n        return shape;\n    };\n\n    var createRectangleShape = function (svgns, center, size) {\n        var shape = document.createElementNS(svgns, 'rect');\n        shape.setAttribute('x', center.x - size / 2);\n        shape.setAttribute('y', center.y - size / 2);\n        shape.setAttribute('width', size);\n        shape.setAttribute('height', size);\n        return shape;\n    };\n\n    var createDiamondShape = function (svgns, center, size) {\n        var shape = document.createElementNS(svgns, 'path');\n        var path = 'M' + (center.x - size / 2) + ',' + center.y;\n        path += ' L' + center.x + ',' + (center.y - size / 2);\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\n        path += ' L' + center.x + ',' + (center.y + size / 2);\n        path += ' Z';\n        shape.setAttribute('d', path);\n        return shape;\n    };\n\n    var createCrossShape = function (svgns, center, size) {\n        var shape = document.createElementNS(svgns, 'path');\n        var path = 'M' + (center.x - size / 2) + ',' + (center.y - size / 2);\n        path += ' L' + (center.x + size / 2) + ',' + (center.y + size / 2);\n        path += 'M' + (center.x + size / 2) + ',' + (center.y - size / 2);\n        path += ' L' + (center.x - size / 2) + ',' + (center.y + size / 2);\n        shape.setAttribute('d', path);\n        return shape;\n    };\n\n    var createPlusShape = function (svgns, center, size) {\n        var shape = document.createElementNS(svgns, 'path');\n        var path = 'M' + center.x + ',' + (center.y - size / 2);\n        path += ' L' + center.x + ',' + (center.y + size / 2);\n        path += 'M' + (center.x - size / 2) + ',' + center.y;\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\n        shape.setAttribute('d', path);\n        return shape;\n    };\n\n    proto.updateLinesAttributes = function (index, group, color) {\n        var lineShape = this.helpers.getLineShape(index);\n\n        if (lineShape === 'line' || lineShape === 'line & point') {\n            group.line.setAttribute('stroke-width', this.helpers.getLineWidth(index));\n            group.line.setAttribute('stroke-dasharray', this.helpers.getLineStyle(index));\n        }\n\n        group.fill.setAttribute('fill', color);\n        group.bar.setAttribute('fill', color);\n        for (var i = 0; i < this.pointTypes.length; i++) {\n            group.points[this.pointTypes[i].name].setAttribute('fill', color);\n        }\n\n    };\n\n    proto.updatePointVisibility = function (index, group, currentLineShape) {\n        var currentPointShape = this.helpers.getPointShape(index);\n        for (var j = 0; j < this.pointTypes.length; j++) {\n            if (currentPointShape === this.pointTypes[j].name && (currentLineShape === 'line & point' || currentLineShape === 'points')) {\n                group.points[this.pointTypes[j].name].setAttribute('visibility', 'visible');\n            } else {\n                group.points[this.pointTypes[j].name].setAttribute('visibility', 'hidden');\n            }\n\n        }\n\n    };\n\n    proto.updateVisibility = function (index, group) {\n        var currentLineShape = this.helpers.getLineShape(index);\n\n        for (var i = 0; i < this.lineTypes.length; i++) {\n            if (currentLineShape === this.lineTypes[i].name) {\n                group[this.lineTypes[i].name].setAttribute('visibility', 'visible');\n            } else {\n                group[this.lineTypes[i].name].setAttribute('visibility', 'hidden');\n            }\n        }\n\n        if (currentLineShape === 'line & point') {\n            group.line.setAttribute('visibility', 'visible');\n            group.points.setAttribute('visibility', 'visible');\n        }\n\n        this.updatePointVisibility(index, group, currentLineShape);\n    };\n\n    proto.updateShape = function (index) {\n        var shape = this.shapes[index];\n\n        if (shape === undefined || shape === null) {\n            return;\n        }\n\n        var color = this.helpers.getPlotColor(index);\n\n        this.updateLinesAttributes(index, shape.shapesGroup, color);\n        this.updateVisibility(index, shape.shapesGroup);\n        shape.shapesGroup.setAttribute('stroke', color);\n    };\n}());\n","//****************************************\n// Cursor Legend Prototype\n// DOM Registration: No\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.CursorLegend = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var $ = NationalInstruments.Globals.jQuery;\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'graphName',\n            defaultValue: '',\n            fireEvent: false,\n            addNonSignalingProperty: false\n        });\n        proto.addProperty(targetPrototype, {\n            propertyName: 'isInEditMode',\n            defaultValue: false,\n            fireEvent: false,\n            addNonSignalingProperty: false\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.table = undefined;\n        this.selectedRow = null;\n        this.addButton = null;\n        this.deleteButton = null;\n        this.centerButton = null;\n        this.currentRow = null;\n        this.currentBtn = null;\n        this.observer = null;\n        this.helpers = new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers();\n        this.cursorLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers);\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.cursorLegendItemDisplay);\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.cursorAdded = function (cursor) {\n        var that = this;\n\n        that.createRow(that.table, cursor);\n        that.helpers.cursorAdded(cursor);\n        //cursor.label = that.helpers.nextCursorName();\n        that.helpers.cursorPositionChanged(cursor, function (x, y) {\n            that.updatePosition(cursor, x, y);\n        });\n    };\n\n    proto.updatePosition = function (cursor, x, y) {\n        var cursorNumber = cursor.niControlId,\n            xEl = this.querySelector('#x_' + cursorNumber),\n            yEl = this.querySelector('#y_' + cursorNumber),\n            plot = cursor._parentGraph.graph,\n            textValue = plot.formatCursorPosition(plot, cursor.cursor);\n\n        if (xEl !== null && x !== undefined) {\n            xEl.innerText = textValue.xTextValue;\n        }\n\n        if (yEl !== null && y !== undefined) {\n            yEl.innerText = textValue.yTextValue;\n        }\n    };\n\n    // cursor can be removed at runtime or edit time from legend, or at edit time from right rail\n    proto.cursorRemoved = function (cursor) {\n        var index = this.helpers.getIndex(cursor);\n        if (index >= 0) {\n            $(this).find('.ni-master-row').eq(index).remove();\n            $(this).find('.ni-details-box').eq(index).remove();\n            this.cursorLegendItemDisplay.clearShape(index);\n            this.helpers.cursorRemoved(cursor);\n        }\n    };\n\n    proto.cursorChanged = function (cursor) {\n        this.cursorLegendItemDisplay.updateShape(cursor);\n        this.updateName(cursor);\n        this.updateVisible(cursor);\n    };\n\n    proto.updateName = function (cursor) {\n        $('#name_' + cursor.niControlId).text(this.helpers.getState('name', cursor));\n    };\n\n    proto.updateVisible = function (cursor) {\n        var visible = this.helpers.getState('visible', cursor);\n        if (visible) {\n            $('#visible_' + cursor.niControlId).removeClass('ni-visibility-off-icon').addClass('ni-visibility-on-icon');\n        } else {\n            $('#visible_' + cursor.niControlId).removeClass('ni-visibility-on-icon').addClass('ni-visibility-off-icon');\n        }\n    };\n\n    proto.attachToGraph = function (graphElement) {\n        if (graphElement.isReady) {\n            graphElement.registerCursorLegend(this);\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this),\n            that = this;\n\n        if (firstCall === true) {\n            that.helpers.graphName = that.graphName;\n            that.helpers.isInEditMode = that.isInEditMode;\n            var div = document.createElement('div');\n            div.style.width = '100%';\n            div.style.height = '100%';\n            div.id = 'div' + NI_SUPPORT.uniqueId();\n            that.appendChild(div);\n            that.table = document.createElement('table');\n            that.table.className = 'ni-cursors-box';\n            div.appendChild(that.table);\n\n            var buttonsRow = document.createElement('div');\n            div.appendChild(buttonsRow);\n\n            var add = document.createElement('button');\n            add.className = 'ni-add-icon ni-command-button';\n            $(add).jqxButton();\n            buttonsRow.appendChild(add);\n            that.addButton = add;\n            $(add).on('click', function () {\n                that.helpers.addCursor();\n            });\n\n            that.addEventListener('ni-cursor-attached', function (evt) {\n                that.cursorAdded(evt.detail.originalSource);\n            });\n            that.addEventListener('ni-cursor-detached', function (evt) {\n                that.cursorRemoved(evt.detail.originalSource);\n            });\n            that.addEventListener('ni-cursor-changed', function (evt) {\n                that.cursorChanged(evt.detail.originalSource);\n            });\n\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n\n            if (graph !== null) {\n                this.attachToGraph(graph);\n            }\n        }\n\n        return firstCall;\n    };\n\n    proto.createRow = function (table, cursor) {\n        var that = this;\n        var btn = that.createMainRow(table, cursor);\n        var row = that.createDetailsRow(table, cursor);\n        $(btn).on('click', function () {\n            if (that.currentRow !== row) {\n                var currentRow = that.currentRow;\n                var currentBtn = that.currentBtn;\n                row.style.display = 'table-row';\n                that.currentRow = row;\n                btn.classList.remove('ni-closed-icon');\n                btn.classList.add('ni-open-icon');\n                that.currentBtn = btn;\n                if (currentRow !== null) {\n                    currentRow.style.display = 'none';\n                }\n\n                if (currentBtn !== null) {\n                    currentBtn.classList.remove('ni-open-icon');\n                    currentBtn.classList.add('ni-closed-icon');\n                }\n            } else {\n                row.style.display = 'none';\n                btn.classList.remove('ni-open-icon');\n                btn.classList.add('ni-closed-icon');\n                that.currentRow = null;\n                that.currentBtn = null;\n            }\n        });\n        that.applyFont();\n    };\n\n    proto.createMainRow = function (table, cursor) {\n        var that = this;\n        var cursorNumber;\n        cursorNumber = cursor.niControlId;\n\n        var tr, td0, td1, td2, td3, td4, span, p, display, button, showHideButton, visible;\n        tr = document.createElement('tr');\n        tr.className = 'ni-master-row';\n        table.appendChild(tr);\n\n        td0 = document.createElement('td');\n        td0.className = 'ni-expand-box';\n        tr.appendChild(td0);\n        showHideButton = document.createElement('input');\n        showHideButton.className = 'ni-expand-button ni-closed-icon';\n        showHideButton.type = 'button';\n        showHideButton.id = 'details_' + cursorNumber;\n        td0.appendChild(showHideButton);\n        $(showHideButton).jqxButton({ width: 20, height: 20, disabled: that.isInEditMode });\n\n        td1 = document.createElement('td');\n        td1.className = 'ni-cursor-box';\n        tr.appendChild(td1);\n        display = that.cursorLegendItemDisplay.createHeaderDisplay(cursor);\n        if (display !== null) {\n            display.id = 'display_' + cursorNumber;\n            td1.appendChild(display);\n        }\n\n        span = document.createElement('span');\n        span.className = 'ni-cursor-title';\n        span.id = 'name_' + cursorNumber;\n        p = document.createTextNode(that.helpers.getState('name', cursor));\n        span.appendChild(p);\n        td1.appendChild(span);\n\n        td2 = document.createElement('td');\n        td2.className = 'ni-x-box';\n        tr.appendChild(td2);\n        span = document.createElement('span');\n        span.className = 'ni-x-title';\n        span.id = 'x_' + cursorNumber;\n        p = document.createTextNode(parseFloat(that.helpers.getState('x', cursor)));\n        span.appendChild(p);\n        td2.appendChild(span);\n\n        td3 = document.createElement('td');\n        td3.className = 'ni-y-box';\n        tr.appendChild(td3);\n        span = document.createElement('span');\n        span.className = 'ni-y-title';\n        span.id = 'y_' + cursorNumber;\n        p = document.createTextNode(parseFloat(that.helpers.getState('y', cursor)));\n        span.appendChild(p);\n        td3.appendChild(span);\n\n        td4 = document.createElement('td');\n        td4.className = 'ni-actions-box';\n        tr.appendChild(td4);\n\n        button = document.createElement('input');\n        button.className = 'ni-delete-icon ni-action-button';\n        button.type = 'button';\n        button.id = 'delete' + cursorNumber;\n        td4.appendChild(button);\n        $(button).on('click', function () {\n            that.helpers.handleClick('delete', '', cursor);\n        });\n        $(button).jqxToggleButton({ disabled: that.isInEditMode });\n\n        button = document.createElement('input');\n        button.className = 'ni-center-icon ni-action-button';\n        button.type = 'button';\n        button.id = 'center' + cursorNumber;\n        td4.appendChild(button);\n        $(button).on('click', function () {\n            that.helpers.handleClick('center', '', cursor);\n        });\n        $(button).jqxButton({\n            disabled: that.isInEditMode\n        });\n\n        button = document.createElement('input');\n        button.className = 'ni-snap-icon ni-action-button';\n        button.type = 'button';\n        button.id = 'snap_' + cursorNumber;\n        td4.appendChild(button);\n        $(button).on('click', function () {\n            that.helpers.handleClick('snap', '', cursor);\n        });\n        $(button).jqxToggleButton({\n            disabled: that.isInEditMode\n        });\n\n        button = document.createElement('input');\n        button.className = 'ni-visibility-button ni-action-button';\n        button.type = 'button';\n        button.id = 'visible_' + cursorNumber;\n        visible = that.helpers.getState('visible', cursor);\n        if (visible) {\n            button.classList.add('ni-visibility-on-icon');\n        } else {\n            button.classList.add('ni-visibility-off-icon');\n        }\n\n        $(button).on('click', function () {\n            that.helpers.handleClick('visible', '', cursor);\n        });\n\n        td4.appendChild(button);\n        $(button).jqxToggleButton({ disabled: that.isInEditMode });\n\n        return showHideButton;\n    };\n\n    proto.createDetailsItem = function (table, title, className) {\n        var tr, td1, td2, div, span, p;\n        tr = document.createElement('tr');\n        tr.className = 'ni-details-row';\n        table.appendChild(tr);\n\n        td1 = document.createElement('td');\n        td1.className = 'ni-details-row-title-box';\n        tr.appendChild(td1);\n        span = document.createElement('span');\n        span.class = 'ni-details-row-title';\n        td1.appendChild(span);\n        p = document.createTextNode(title);\n        span.appendChild(p);\n\n        td2 = document.createElement('td');\n        td2.className = 'ni-details-row-control-box';\n        tr.appendChild(td2);\n        div = document.createElement('div');\n        div.className = className;\n        td2.appendChild(div);\n        return div;\n    };\n\n    proto.createDetailsRow = function (table, cursor) {\n        var subtable, tr, td, div;\n\n        tr = document.createElement('tr');\n        tr.className = 'ni-details-box';\n        tr.style.display = 'none';\n        table.appendChild(tr);\n\n        td = document.createElement('td');\n        td.colSpan = 5;\n        tr.appendChild(td);\n\n        subtable = document.createElement('table');\n        subtable.className = 'ni-details';\n        td.appendChild(subtable);\n\n        div = this.createDetailsItem(subtable, 'Color', 'ni-colorbox-selector ni-selector');\n        this.uihelpers.addColorBox({ name: 'Color' }, div, cursor);\n\n        div = this.createDetailsItem(subtable, 'Shape', 'ni-shape-selector ni-selector');\n        this.uihelpers.addComboBox(this.helpers.getMenuItem('shape'), div, cursor, 16);\n\n        div = this.createDetailsItem(subtable, 'Crosshair', 'ni-crosshair-selector ni-selector');\n        this.uihelpers.addComboBox(this.helpers.getMenuItem('crosshair'), div, cursor, 16);\n\n        return tr;\n    };\n\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle, textDecoration);\n\n        var childElement = this.firstElementChild,\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\n            jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\n            jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\n            jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\n            jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\n\n        jqrefContent.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemName.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemX.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemY.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemDetails.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n    };\n\n    proto.applyFont = function () {\n        var childElement = this.firstElementChild,\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\n            jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\n            jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\n            jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\n            jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\n\n        var fontSize = $(this).css('font-size');\n        var fontFamily = $(this).css('font-family');\n        var fontWeight = $(this).css('font-weight');\n        var fontStyle = $(this).css('font-style');\n        jqrefContent.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemName.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemX.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemY.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n        jqrefItemDetails.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        switch (propertyName) {\n            case 'graphName':\n                // should never change\n                this.helpers.graphName = this.graphName;\n                break;\n            case 'isInEditMode':\n                // this changes once after the element is created\n                this.helpers.isInEditMode = this.isInEditMode;\n                if (this.addButton !== null) {\n                    this.addButton.disabled = this.isInEditMode;\n                }\n\n                if (this.deleteButton !== null) {\n                    this.deleteButton.disabled = this.isInEditMode;\n                }\n\n                if (this.centerButton !== null) {\n                    this.centerButton.disabled = this.isInEditMode;\n                }\n\n                $(this.table).find('.ni-expand-button').each(function () {\n                    $(this).jqxButton({ disabled: this.isInEditMode });\n                });\n\n                $(this.table).find('.ni-visibility-button').each(function () {\n                    $(this).jqxToggleButton({ disabled: this.isInEditMode });\n                });\n\n                $(this.table).find('.ni-snap-icon').each(function () {\n                    $(this).jqxToggleButton({ disabled: this.isInEditMode });\n                });\n\n                break;\n            default:\n                break;\n        }\n    };\n\n    proto.defineElementInfo(proto, 'ni-cursor-legend', 'HTMLNICursorLegend');\n}(NationalInstruments.HtmlVI.Elements.CursorLegend, NationalInstruments.HtmlVI.Elements.Visual));\n","//****************************************\n// Plot Legend Prototype\n// DOM Registration: Not an element\n// National Instruments Copyright 2015\n//****************************************\n\n(function () {\n    'use strict';\n\n    // Constructor Function\n    NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay = function (helpers) {\n\n        this.helpers = helpers;\n        this.items = [];\n    };\n\n    // Static Public Variables\n    // None\n\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay;\n    var proto = child.prototype;\n\n    // Static Private Variables\n    var svgns = 'http://www.w3.org/2000/svg';\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.clearShape = function (index) {\n        this.items.splice(index, 1);\n    };\n\n    //Methods\n    proto.createHeaderDisplay = function (cursor) {\n        var svg;\n        if (cursor === undefined) {\n            return null;\n        }\n\n        svg = document.createElementNS(svgns, 'svg');\n        svg.setAttribute('class', 'ni-cursor-display');\n        svg.setAttribute('width', '16');\n        svg.setAttribute('height', '16');\n        svg.setAttribute('viewBox', '0,0,16,16');\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\n        this.addShapes(cursor, svg, svgns);\n        this.items.push(svg);\n        return svg;\n    };\n\n    proto.addShapes = function (cursor, svg, svgns) {\n        this.makeShape(cursor, svg, svgns);\n        this.makeCursorCross(cursor, svg, svgns);\n    };\n\n    proto.makeCursorCross = function (cursor, svg, svgns) {\n        var crosshair = cursor.crosshairStyle;\n\n        switch (crosshair) {\n            case 'none':\n                break;\n            case 'vertical':\n                this.makeLine(cursor, svg, svgns, '8', '1', '8', '4');\n                this.makeLine(cursor, svg, svgns, '8', '12', '8', '15');\n                break;\n            case 'horizontal':\n                this.makeLine(cursor, svg, svgns, '12', '8', '15', '8');\n                this.makeLine(cursor, svg, svgns, '1', '8', '4', '8');\n                break;\n            default:\n                this.makeLine(cursor, svg, svgns, '8', '1', '8', '4');\n                this.makeLine(cursor, svg, svgns, '12', '8', '15', '8');\n                this.makeLine(cursor, svg, svgns, '8', '12', '8', '15');\n                this.makeLine(cursor, svg, svgns, '1', '8', '4', '8');\n                break;\n        }\n    };\n\n    proto.makeShape = function (cursor, svg, svgns) {\n        var rect, circle;\n        var shape = cursor.targetShape;\n        var color = cursor.cursorColor;\n        switch (shape) {\n            case 'ellipse':\n                circle = document.createElementNS(svgns, 'circle');\n                circle.setAttribute('cx', '8');\n                circle.setAttribute('cy', '8');\n                circle.setAttribute('r', '4');\n                circle.setAttribute('stroke', color);\n                circle.setAttribute('stroke-width', '1');\n                circle.setAttribute('fill', 'rgba(0, 0, 0, 0)');\n                svg.appendChild(circle);\n                break;\n            case 'rectangle':\n                rect = document.createElementNS(svgns, 'rect');\n                rect.setAttribute('x', '4');\n                rect.setAttribute('y', '4');\n                rect.setAttribute('width', '8');\n                rect.setAttribute('height', '8');\n                rect.setAttribute('stroke', color);\n                rect.setAttribute('stroke-width', '1');\n                rect.setAttribute('fill', 'rgba(0, 0, 0, 0)');\n                svg.appendChild(rect);\n                break;\n            case 'diamond':\n                this.makeLine(cursor, svg, svgns, '8', '4', '12', '8');\n                this.makeLine(cursor, svg, svgns, '12', '8', '8', '12');\n                this.makeLine(cursor, svg, svgns, '8', '12', '4', '8');\n                this.makeLine(cursor, svg, svgns, '4', '8', '8', '4');\n                break;\n            case 'cross':\n                this.makeLine(cursor, svg, svgns, '4', '4', '12', '12');\n                this.makeLine(cursor, svg, svgns, '4', '12', '12', '4');\n                break;\n            case 'plus':\n                this.makeLine(cursor, svg, svgns, '8', '4', '8', '12');\n                this.makeLine(cursor, svg, svgns, '4', '8', '12', '8');\n                break;\n        }\n    };\n\n    proto.makeLine = function (cursor, svg, svgns, x1, y1, x2, y2) {\n        var line = document.createElementNS(svgns, 'line');\n        line.setAttribute('x1', x1);\n        line.setAttribute('y1', y1);\n        line.setAttribute('x2', x2);\n        line.setAttribute('y2', y2);\n        line.setAttribute('stroke', cursor.cursorColor);\n        line.setAttribute('stroke-width', 1);\n        svg.appendChild(line);\n    };\n\n    proto.updateShape = function (cursor) {\n        var index = this.helpers.getIndex(cursor);\n        var svg = this.items[index];\n\n        if (cursor === undefined) {\n            return null;\n        }\n\n        if (svg === undefined) {\n            return null;\n        }\n\n        while (svg.firstChild) {\n            svg.removeChild(svg.firstChild);\n        }\n\n        this.addShapes(cursor, svg, svgns);\n    };\n}());\n","//****************************************\n// Plot Legend Helpers Prototype\n// DOM Registration: Not an element\n// National Instruments Copyright 2015\n//****************************************\n\n(function () {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var $ = NationalInstruments.Globals.jQuery;\n\n    // Constructor Function\n    NationalInstruments.HtmlVI.Elements.CursorLegendHelpers = function () {\n        this.graphName = '';\n        this.isInEditMode = false;\n        this.cursors = [];\n        this.defaultCursorName = NI_SUPPORT.i18n('msg_defaultcursorname');\n    };\n\n    // Static Public Variables\n    // None\n\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendHelpers;\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.getMenuItem = function (name) {\n        if (name === 'shape') {\n            return {\n                name: 'Target Shape', tag: 'msg_targetshape', children: [\n                    { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\n                    { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\n                    { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\n                    { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\n                    { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\n                ]\n            };\n        } else if (name === 'crosshair') {\n            return {\n                name: 'Crosshair Style', tag: 'msg_crosshairstyle', children: [\n                    { name: 'No style', tag: 'msg_nostyle', cssClass: 'ni-no-crosshair-icon' },\n                    { name: 'Vertical', tag: 'msg_vertical', cssClass: 'ni-vertical-crosshair-icon' },\n                    { name: 'Horizontal', tag: 'msg_horizontal', cssClass: 'ni-horizontal-crosshair-icon' },\n                    { name: 'Both', tag: 'msg_both', cssClass: 'ni-both-crosshair-icon' }\n                ]\n            };\n        }\n    };\n\n    proto.cursorAdded = function (cursor) {\n        var i;\n        for (i = 0; i < this.cursors.length; i++) {\n            if (this.cursors[i].niControlId === cursor.niControlId) {\n                return; // its already in the list\n            }\n        }\n\n        this.cursors.push(cursor);\n    };\n\n    // if cursor is not already removed from the list then remove it\n    proto.cursorRemoved = function (cursor) {\n        var i;\n        for (i = 0; i < this.cursors.length; i++) {\n            if (this.cursors[i].niControlId === cursor.niControlId) {\n                this.cursors.splice(i, 1);\n                return;\n            }\n        }\n    };\n\n    proto.addCursor = function () {\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n        var cursor = document.createElement('ni-cursor');\n        cursor.niControlId = NI_SUPPORT.uniqueId();\n        cursor.show = true;\n        cursor.showValue = true;\n        this.cursors.push(cursor);\n        cursor.label = this.nextCursorName();\n        graph.appendChild(cursor);\n    };\n\n    proto.cursorPositionChanged = function (cursor, changed) {\n\n        // TODO mraj is undefined an expected value?\n        if (cursor === undefined) {\n            throw new Error('cursor is undefined');\n        }\n\n        $(cursor).on('cursorUpdated', function (e, data) {\n            changed(data.x, data.y);\n        });\n    };\n\n    proto.getCursor = function (index) {\n        var i = 0;\n        var graph;\n        var cursor = null;\n        var child;\n        if (this.cursors[index] === null || this.cursors[index] === undefined) {\n            graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n            if (graph !== null) {\n                for (child in graph.childNodes) {\n                    if (graph.childNodes[child].localName === 'ni-cursor') {\n                        if (i === index) {\n                            cursor = graph.childNodes[child];\n                            break;\n                        }\n\n                        i++;\n                    }\n                }\n            }\n\n            if (cursor !== null) {\n                this.cursors[index] = cursor;\n            }\n        }\n\n        return this.cursors[index];\n    };\n\n    proto.nextCursorName = function () {\n        var maxIndex = 0, i, cursor;\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n        if (graph !== null) {\n            for (child in graph.childNodes) {\n                if (graph.childNodes[child].localName === 'ni-cursor') {\n                    cursor = graph.childNodes[child];\n                    i = parseInt(cursor.label.substring(this.defaultCursorName.length));\n                    if (i > maxIndex) {\n                        maxIndex = i;\n                    }\n                }\n            }\n        }\n\n        return this.defaultCursorName + ' ' + (maxIndex + 1);\n    };\n\n    proto.deleteCursor = function (cursor) {\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n        if (cursor !== null && cursor !== undefined) {\n            graph.removeChild(cursor);\n        }\n    };\n\n    proto.getIndex = function (cursor) {\n        var i, index = -1;\n        for (i = 0; i < this.cursors.length; i++) {\n            if (this.cursors[i] !== null && cursor.niControlId === this.cursors[i].niControlId) {\n                index = i;\n            }\n        }\n\n        return index;\n    };\n\n    proto.handleClick = function (itemName, arg, cursor) {\n        if (cursor === null && cursor === undefined) {\n            return;\n        }\n\n        switch (itemName) {\n            case 'name':\n                break;\n            case 'x':\n                break;\n            case 'y':\n                break;\n            case 'visible':\n                cursor.show = !cursor.show;\n                break;\n            case 'snap':\n                cursor.snapToData = !cursor.snapToData;\n                break;\n            case 'center':\n                cursor.x = 0.5;\n                cursor.y = 0.5;\n                break;\n            case 'delete':\n                this.deleteCursor(cursor);\n                break;\n            case 'Ellipse':\n                cursor.targetShape = 'ellipse';\n                break;\n            case 'Rectangle':\n                cursor.targetShape = 'rectangle';\n                break;\n            case 'Diamond':\n                cursor.targetShape = 'diamond';\n                break;\n            case 'Cross':\n                cursor.targetShape = 'cross';\n                break;\n            case 'Plus':\n                cursor.targetShape = 'plus';\n                break;\n            case 'No style':\n                cursor.crosshairStyle = 'none';\n                break;\n            case 'Vertical':\n                cursor.crosshairStyle = 'vertical';\n                break;\n            case 'Horizontal':\n                cursor.crosshairStyle = 'horizontal';\n                break;\n            case 'Both':\n                cursor.crosshairStyle = 'both';\n                break;\n            case 'Color':\n                cursor.cursorColor = '#' + arg.hex;\n                break;\n        }\n    };\n\n    proto.getState = function (itemName, cursor) {\n        if (cursor === null || cursor === undefined) {\n            return undefined;\n        }\n\n        var state;\n        switch (itemName) {\n            case 'name':\n                state = cursor.label;\n                break;\n            case 'x':\n                state = cursor.x;\n                break;\n            case 'y':\n                state = cursor.y;\n                break;\n            case 'visible':\n                state = cursor.show;\n                break;\n            case 'snap':\n                state = cursor.snapToData;\n                break;\n            case 'center':\n                break;\n            case 'delete':\n                break;\n            case 'Ellipse':\n                state = cursor.targetShape === 'ellipse';\n                break;\n            case 'Rectangle':\n                state = cursor.targetShape === 'rectangle';\n                break;\n            case 'Diamond':\n                state = cursor.targetShape === 'diamond';\n                break;\n            case 'Cross':\n                state = cursor.targetShape === 'cross';\n                break;\n            case 'Plus':\n                state = cursor.targetShape === 'plus';\n                break;\n            case 'No style':\n                state = cursor.crosshairStyle === 'none';\n                break;\n            case 'Vertical':\n                state = cursor.crosshairStyle === 'vertical';\n                break;\n            case 'Horizontal':\n                state = cursor.crosshairStyle === 'horizontal';\n                break;\n            case 'Both':\n                state = cursor.crosshairStyle === 'both';\n                break;\n            case 'Color':\n                state = cursor.cursorColor;\n                break;\n        }\n\n        return state;\n    };\n\n    proto.getTargetShape = function (index) {\n        var cursor = this.getCursor(index);\n        if (cursor !== null && cursor !== undefined) {\n            return cursor.targetShape;\n        }\n\n        return 'ellipse';\n    };\n\n    proto.getCrosshair = function (index) {\n        var cursor = this.getCursor(index);\n        if (cursor !== null && cursor !== undefined) {\n            return cursor.crosshairStyle;\n        }\n    };\n}());\n","//****************************************\n// Scale Legend Prototype\n// DOM Registration: No\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.ScaleLegend = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var $ = NationalInstruments.Globals.jQuery;\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'graphName',\n            defaultValue: '',\n            fireEvent: false,\n            addNonSignalingProperty: false\n        });\n        proto.addProperty(targetPrototype, {\n            propertyName: 'isInEditMode',\n            defaultValue: false,\n            fireEvent: false,\n            addNonSignalingProperty: false\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.tbl = undefined;\n        this.nScales = 0;\n        this.currentExpander = null;\n        this.helpers = new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers();\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, null);\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.scaleAdded = function () {\n        this.createRow(this.tbl, this.nScales);\n        this.helpers.addScale(this.nScales);\n        this.nScales++;\n    };\n\n    proto.scaleRemoved = function (scale) {\n        var tr, td, text, i, j, index, toRemove = null;\n        j = 0;\n        for (i = 0; i < this.tbl.childNodes.length; i++) {\n            if (this.tbl.childNodes[i].localName === 'tr') {\n                tr = this.tbl.childNodes[i];\n                td = tr.childNodes[0];\n                text = td.innerText;\n                if (text === scale.label) {\n                    toRemove = tr;\n                    index = j;\n                    break;\n                }\n            }\n\n            j++;\n        }\n\n        if (toRemove !== null) {\n            this.tbl.removeChild(toRemove);\n            this.helpers.clearScale(index);\n        }\n\n        this.nScales--;\n    };\n\n    proto.createRows = function () {\n        var i;\n        for (i = 0; i < this.nScales; i++) {\n            this.createRow(this.tbl, i);\n        }\n    };\n\n    proto.attachToGraph = function (graphElement) {\n        if (graphElement.isReady) {\n            graphElement.registerScaleLegend(this);\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this),\n            childElement,\n            that = this;\n\n        if (firstCall === true) {\n            this.helpers.graphName = this.graphName;\n            this.helpers.isInEditMode = this.isInEditMode;\n            childElement = document.createElement('div');\n            childElement.style.width = '100%';\n            childElement.style.height = '100%';\n            this.appendChild(childElement);\n            this.tbl = document.createElement('table');\n            this.tbl.className = 'ni-scale-legend-box';\n            childElement.appendChild(this.tbl);\n            this.addEventListener('ni-cartesian-axis-attached', function () {\n                that.scaleAdded();\n            });\n            this.addEventListener('ni-cartesian-axis-detached', function (evt) {\n                that.scaleRemoved(evt.detail.originalSource);\n            });\n            this.addEventListener('ni-axis-changed', function (evt) {\n                var scale = evt.detail.originalSource;\n                var index = that.helpers.scaleToIndex(scale);\n                var labels = $(this.tbl).find('.ni-row-title');\n                var lockButtons = $(this.tbl).find('.ni-lock-button');\n                $(labels[index]).first().text(scale.label);\n                this.setLockBackground(lockButtons[index], false, index);\n            });\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n\n            if (graph !== null) {\n                this.attachToGraph(graph);\n            }\n        }\n\n        return firstCall;\n    };\n\n    proto.createRow = function (tbl, index) {\n        var that = this;\n        var tr, td1, td2, td3, span, p, btnLock, btnScaleOnce;\n\n        tr = document.createElement('tr');\n        tbl.appendChild(tr);\n        td1 = document.createElement('td');\n        td1.className = 'ni-row-title-box';\n        tr.appendChild(td1);\n        span = document.createElement('span');\n        span.className = 'ni-row-title';\n        td1.appendChild(span);\n        var scaleName = that.helpers.getState('name', index);\n        p = document.createTextNode(scaleName);\n        span.appendChild(p);\n\n        td2 = document.createElement('td');\n        td2.className = 'ni-lock-box';\n        tr.appendChild(td2);\n        btnLock = document.createElement('button');\n        btnLock.type = 'button';\n        btnLock.className = 'ni-lock-button ni-button';\n        $(btnLock).jqxToggleButton();\n        $(btnLock).jqxToggleButton({ disabled: !this.helpers.getState('canLock', index) });\n        $(btnLock).on('click', function () {\n            that.helpers.handleClick('lock', index);\n            that.setLockBackground(btnLock, false, index);\n        });\n        that.setLockBackground(btnLock, true, index);\n        td2.appendChild(btnLock);\n\n        td3 = document.createElement('td');\n        td3.className = 'ni-scale-once-box';\n        tr.appendChild(td3);\n        btnScaleOnce = document.createElement('button');\n        btnScaleOnce.type = 'button';\n        btnScaleOnce.className = 'ni-scale-once-icon ni-button';\n        $(btnScaleOnce).on('click', function () {\n            that.helpers.handleClick('scaleonce', index);\n            that.setLockBackground(btnLock, false, index);\n        });\n        td3.appendChild(btnScaleOnce);\n        this.applyFont();\n    };\n\n    proto.setLockBackground = function (btn, first, index) {\n        var state = this.helpers.getState('lock', index);\n        if (state !== undefined) {\n            if (first === true) {\n                $(btn).jqxToggleButton({ 'toggled': state });\n            }\n\n            if (state === true) {\n                btn.classList.remove('ni-locked-icon');\n                btn.classList.add('ni-unlocked-icon');\n            } else {\n                btn.classList.remove('ni-unlocked-icon');\n                btn.classList.add('ni-locked-icon');\n            }\n        }\n    };\n\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle, textDecoration);\n\n        var childElement = this.firstElementChild,\n            jqrefItemTitle = $(childElement).find(' .ni-row-title');\n\n        jqrefItemTitle.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n    };\n\n    proto.applyFont = function () {\n        var childElement = this.firstElementChild,\n            jqrefItemTitle = $(childElement).find(' .ni-row-title');\n\n        var fontSize = $(this).css('font-size');\n        var fontFamily = $(this).css('font-family');\n        var fontWeight = $(this).css('font-weight');\n        var fontStyle = $(this).css('font-style');\n        jqrefItemTitle.css({\n            'font-size': fontSize,\n            'font-family': fontFamily,\n            'font-weight': fontWeight,\n            'font-style': fontStyle\n        });\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        var that = this;\n\n        switch (propertyName) {\n            case 'graphName':\n                // should never change\n                this.helpers.graphName = this.graphName;\n                break;\n            case 'isInEditMode':\n                // this changes once after the element is created\n                this.helpers.isInEditMode = this.isInEditMode;\n                $(this.tbl).find('.ni-lock-button').each(function () {\n                    $(this).jqxToggleButton({ disabled: that.isInEditMode });\n                });\n                $(this.tbl).find('.ni-scale-once-icon').each(function () {\n                    $(this).prop('disabled', that.isInEditMode);\n                });\n                break;\n            default:\n                break;\n        }\n    };\n\n    proto.defineElementInfo(proto, 'ni-scale-legend', 'HTMLNIScaleLegend');\n}(NationalInstruments.HtmlVI.Elements.ScaleLegend, NationalInstruments.HtmlVI.Elements.Visual));\n","//****************************************\n// Scale Legend Helpers Prototype\n// DOM Registration: Not an element\n// National Instruments Copyright 2015\n//****************************************\n\n(function () {\n    'use strict';\n\n    // Constructor Function\n    NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers = function () {\n        this.graphName = '';\n        this.isInEditMode = false;\n        this.scales = [];\n    };\n\n    // Static Public Variables\n    // None\n\n    var child = NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers;\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.addScale = function () {\n    };\n\n    proto.clearScale = function (index) {\n        this.scales[index] = null;\n    };\n\n    proto.getScale = function (index) {\n        var i = 0;\n        var graph;\n        var scale = null;\n        var child;\n        if (this.scales[index] === null || this.scales[index] === undefined) {\n            graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n\n            if (graph !== null) {\n                for (child in graph.childNodes) {\n                    if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\n                        graph.childNodes[child].localName === 'ni-color-scale') {\n                        if (i === index) {\n                            scale = graph.childNodes[child];\n                            break;\n                        }\n\n                        i++;\n                    }\n                }\n            }\n\n            if (scale === null) {\n                return null;\n            }\n\n            this.scales[index] = scale;\n        }\n\n        return this.scales[index];\n    };\n\n    proto.scaleToIndex = function (scale) {\n        var i = 0, index = 0, graph, child, currentScale;\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n        if (graph !== null) {\n            for (child in graph.childNodes) {\n                if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\n                    graph.childNodes[child].localName === 'ni-color-scale') {\n                    currentScale = graph.childNodes[child];\n                    if (currentScale === scale) {\n                        index = i;\n                        break;\n                    }\n\n                    i++;\n                }\n            }\n        }\n\n        return index;\n    };\n\n    proto.handleClick = function (itemName, index) {\n        if (this.isInEditMode !== true) {\n            var scale = this.getScale(index);\n\n            if (scale === null) {\n                return;\n            }\n\n            switch (itemName) {\n                case 'lock':\n                    if (scale.autoScale !== 'none') {\n                        // save initial autoscale option and\n                        // turns off autoscale\n                        scale.initialAutoscale = scale.autoScale;\n                        scale.autoScale = 'none';\n                        scale.scaleOnce();\n                    } else {\n                        //if the chosen autoscale option is none on unlock we set it to loose\n                        scale.autoScale = scale.initialAutoscale ? scale.initialAutoscale : 'loose';\n                    }\n\n                    break;\n                case 'scaleonce':\n                    if (scale.scaleOnce) {\n                        scale.scaleOnce();\n                    }\n                    break;\n            }\n\n            var plot = scale._parentGraph.graph;\n            plot.setupGrid();\n            plot.draw();\n        }\n    };\n\n    proto.getState = function (itemName, index) {\n        var scale = this.getScale(index);\n        if (scale === null) {\n            return undefined;\n        }\n\n        var state;\n        switch (itemName) {\n            case 'canLock':\n                state = scale.localName !== 'ni-color-scale';\n                break;\n            case 'lock':\n                state = scale.autoScale !== 'none';\n                break;\n            case 'scaleonce':\n                break;\n            case 'name':\n                state = scale.label;\n                break;\n        }\n\n        return state;\n    };\n}());\n","//****************************************\n// Graph Tools Element\n// DOM Registration: No\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.GraphTools = function () {\n    'use strict';\n};\n\n// Static Public Variables\nNationalInstruments.HtmlVI.Elements.GraphTools.ModeEnum = Object.freeze({\n    LOCKED: 'locked',\n    PAN: 'pan',\n    ZOOM: 'zoom'\n});\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var MODE_ENUM = NationalInstruments.HtmlVI.Elements.GraphTools.ModeEnum;\n    var $ = NationalInstruments.Globals.jQuery;\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    var navigationStates = {};\n    navigationStates[MODE_ENUM.LOCKED] = [true, false, false];\n    navigationStates[MODE_ENUM.PAN] = [false, true, false];\n    navigationStates[MODE_ENUM.ZOOM] = [false, false, true];\n\n    //Methods\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'graphName',\n            defaultValue: '',\n            fireEvent: false,\n            addNonSignalingProperty: false\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'isInEditMode',\n            defaultValue: false,\n            fireEvent: false,\n            addNonSignalingProperty: false\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'mode',\n            defaultValue: MODE_ENUM.PAN,\n            fireEvent: false,\n            addNonSignalingProperty: false\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n        this._parentGraph = undefined;\n    };\n\n    proto.attachToGraph = function (graphElement) {\n        this._parentGraph = graphElement;\n        if (graphElement.isReady) {\n            graphElement.registerGraphTools(this);\n        }\n    };\n\n    /* The result of user interactions (pan, zoom, ..) are often modified axes\n    parameters in the flot datastructures.\n    When needed, call this function to update the ni-cartesian-axis elements to have te new values */\n    proto.updateCartesianAxesFromFlot = function () {\n        this._parentGraph.axes.forEach(function (axis) {\n            if (axis instanceof JQX.CartesianAxis) {\n                axis.syncWithFlot();\n            }\n        });\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this),\n            childElement,\n            that = this;\n\n        if (firstCall === true) {\n            childElement = document.createElement('div');\n            childElement.id = 'div' + NI_SUPPORT.uniqueId();\n            childElement.style.width = '100%';\n            childElement.style.height = '100%';\n            this.appendChild(childElement);\n            this.table = document.createElement('table');\n            this.table.className = 'ni-graph-tools-box';\n            childElement.appendChild(this.table);\n\n            this.addEventListener('ni-cartesian-graph-box-selected', function (evt) {\n                // a rectangle selection was made on the graph, zoom into that selection\n                // info about the selection box is passed in the event details (ranges)\n                var ranges = evt.detail.originalSource.ranges;\n                var plot = that._parentGraph.graph;\n\n                // set the visible ranges for x axes\n                // TODO cipix: fix this for multiple axes\n                $.each(plot.getXAxes(), function (_, axis) {\n                    var opts = axis.options;\n                    opts.min = ranges.xaxis.from;\n                    opts.max = ranges.xaxis.to;\n                });\n                // set the visible ranges for y axes\n                // TODO cipix: fix this for multiple axes\n                $.each(plot.getYAxes(), function (_, axis) {\n                    var opts = axis.options;\n                    opts.min = ranges.yaxis.from;\n                    opts.max = ranges.yaxis.to;\n                });\n                // redraw plot\n                plot.setupGrid();\n                plot.draw();\n                plot.clearSelection();\n\n                this.updateCartesianAxesFromFlot();\n            });\n\n            this.addEventListener('ni-cartesian-graph-interaction', function () {\n                this.updateCartesianAxesFromFlot();\n            });\n\n            this.addEventListener('ni-cartesian-graph-reCenter', function () {\n                that._parentGraph.axes.forEach(function (axis) {\n                    if (axis.scaleOnce) {\n                        axis.scaleOnce();\n                    }\n                });\n\n                var plot = that._parentGraph.graph;\n                plot.setupGrid();\n                plot.draw();\n\n                this.updateCartesianAxesFromFlot();\n            });\n\n            this.createRow(this.table);\n\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\n            if (graph !== null && graph instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\n                this.attachToGraph(graph);\n            }\n        }\n\n        return firstCall;\n    };\n\n    proto.createRow = function (tbl) {\n        var that = this;\n        var tr, td1, td2, td3, td4, navNone, btnPan, btnZoom, btnZoomOut;\n\n        function setNavButtonsState(locked, pan, zoom) {\n            $(navNone).jqxToggleButton({ disabled: locked });\n            $(btnPan).jqxToggleButton({ disabled: pan });\n            $(btnZoom).jqxToggleButton({ disabled: zoom });\n        }\n\n        function setMode(mode) {\n            var states =  navigationStates[mode];\n\n            if (states) {\n                setNavButtonsState.apply(null, states);\n                that.mode = mode;\n            }\n        }\n\n        tr = document.createElement('tr');\n        tbl.appendChild(tr);\n        td1 = document.createElement('td');\n        td1.className = 'ni-button-box';\n        tr.appendChild(td1);\n        navNone = document.createElement('button');\n        navNone.type = 'button';\n        navNone.className = 'ni-locked-icon ni-button';\n        $(navNone).jqxToggleButton();\n        $(navNone).on('click', function () {\n            setMode(MODE_ENUM.LOCKED);\n        });\n        td1.appendChild(navNone);\n\n        td2 = document.createElement('td');\n        td2.className = 'ni-button-box';\n        tr.appendChild(td2);\n        btnPan = document.createElement('button');\n        btnPan.type = 'button';\n        btnPan.className = 'ni-pan-icon ni-button';\n        $(btnPan).jqxToggleButton();\n        $(btnPan).on('click', function () {\n            setMode(MODE_ENUM.PAN);\n        });\n        td2.appendChild(btnPan);\n\n        td3 = document.createElement('td');\n        td3.className = 'ni-button-box';\n        tr.appendChild(td3);\n        btnZoom = document.createElement('button');\n        btnZoom.type = 'button';\n        btnZoom.className = 'ni-zoom-region-icon ni-button';\n        $(btnZoom).on('click', function () {\n            setMode(MODE_ENUM.ZOOM);\n        });\n        td3.appendChild(btnZoom);\n\n        setMode(this.mode); // initialize the \"navigation radio butons\" in the default mode\n        td4 = document.createElement('td');\n        td4.className = 'ni-button-box';\n        tr.appendChild(td4);\n        btnZoomOut = document.createElement('button');\n        btnZoomOut.type = 'button';\n        btnZoomOut.className = 'ni-zoom-out-icon ni-button';\n        $(btnZoomOut).jqxButton({ disabled: false });\n        $(btnZoomOut).on('click', function () {\n            that._parentGraph.axes.forEach(function (axis) {\n                if (axis.scaleOnce) {\n                    axis.scaleOnce();\n                }\n            });\n\n            var plot = that._parentGraph.graph;\n            plot.setupGrid();\n            plot.draw();\n        });\n        td4.appendChild(btnZoomOut);\n    };\n\n    proto.allowsScrollWheelZoom = function () {\n        return this.mode === MODE_ENUM.PAN || this.mode === MODE_ENUM.ZOOM;\n    };\n\n    proto.allowsPan = function () {\n        return this.mode === MODE_ENUM.PAN;\n    };\n\n    proto.sendEventToParentGraph = function (name) {\n        var eventConfig;\n\n        if (this._parentGraph !== undefined) {\n            eventConfig = {\n                bubbles: true,\n                cancelable: true,\n                detail: {\n                    element: this\n                }\n            };\n\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        switch (propertyName) {\n            case 'graphName':\n                // should never change\n                break;\n            case 'mode':\n                this.sendEventToParentGraph('ni-graph-tools-changed');\n                break;\n            default:\n                break;\n        }\n    };\n\n    proto.defineElementInfo(proto, 'ni-graph-tools', 'HTMLNIGraphTools');\n}(NationalInstruments.HtmlVI.Elements.GraphTools, NationalInstruments.HtmlVI.Elements.Visual));\n"]}