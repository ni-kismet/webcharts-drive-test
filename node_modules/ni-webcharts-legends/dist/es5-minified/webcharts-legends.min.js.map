{"version":3,"sources":["ni-graph-legend.js","ni-legend-helpers.js","ni-plot-legend.js","ni-plot-legend-helpers.js","ni-plot-legend-item-display.js","ni-cursor-legend.js","ni-cursor-legend-item-display.js","ni-cursor-legend-helpers.js","ni-scale-legend.js","ni-scale-legend-helpers.js","ni-graph-tools.js"],"names":["GraphLegend","_window$JQX$BaseEleme","babelHelpers","classCallCheck","this","possibleConstructorReturn","__proto__","Object","getPrototypeOf","apply","arguments","inherits","createClass","key","value","document","querySelector","graphRef","get","assign","type","isInEditMode","window","JQX","BaseElement","NationalInstruments","HtmlVI","Elements","NI_SUPPORT","NISupport","$","Globals","jQuery","LegendHelpers","helpers","legendItemDisplay","child","proto","prototype","addButtons","menuItem","div","index","btn","current","that","children","forEach","createElement","className","jqxToggleButton","toggled","cssClass","classList","add","on","handleClick","name","updateShape","state","getState","undefined","appendChild","addComboBox","iconWidth","i","selectedIndex","init","jqxDropDownList","width","dropDownHeight","length","text","i18n","tag","substring","id","html","event","args","item","label","getTextElementByColor","color","hex","element","bgDelta","r","g","b","foreColor","css","addClass","addColorBox","dropList","append","colorbox","jqxColorPicker","height","colorMode","e","jqxDropDownButton","parsedColor","parse","jqx","rgb","addCheckBox","jqxCheckBox","checked","createLegendRow","legend","createRow","tbl","nPlots","addRenderer","removeLegendRow","removeRow","clearRenderer","PlotLegend","_NationalInstruments$","call","currentExpander","PlotLegendHelpers","plotLegendItemDisplay","PlotLegendItemDisplay","uihelpers","deferLegendUpdates","graph","findGraph","graphPlots","plots","enableThrottling","throttlePlotUpdates","graphElement","detachFromGraph","isReady","createRows","registerPlotLegend","clearCache","removeRows","childElement","style","overflowX","overflowY","addEventListener","plotAdded","evt","source","detail","originalSource","getIndex","plotRemoved","updatePlotName","getPlotName","rendererToIndex","mode","plotCount","attachToGraph","tr","exp","header","content","plotName","p","span","createHeaderDisplay","getPlot","createTextNode","jqxExpander","expanded","disabled","expandAnimationDuration","collapseAnimationDuration","initContent","loadContent","expander","applyFont","titles","find","j","td1","td2","menu","row","removeHeaderDisplay","removeChild","fontSize","fontFamily","fontWeight","fontStyle","textDecoration","firstElementChild","thisRef","jqrefContent","jqrefItemTitle","jqrefItemContentTitle","font-size","font-family","font-weight","font-style","propertyName","oldValue","newValue","plotLegend","each","defaultPlotColors","CartesianGraph","lineStyleValues","dot","dashdot","mediumdash","largedash","solid","renderers","plot","childNodes","localName","_parentGraph","indexOf","getRenderer","renderer","lastElementChild","itemName","arg","initialColor","lineStroke","pointColor","barFill","areaFill","lineWidth","pointShape","lineStyle","areaBaseLine","barBaseLine","enableHover","getPlotColorFromRenderer","getPlotColor","getLineWidth","getLineShape","lineShape","getLineStyle","getPointShape","pointTypes","creator","createEllipseShape","createRectangleShape","createDiamondShape","createCrossShape","createPlusShape","lineTypes","createLine","createFillArea","createBars","createPoints","shapes","svgns","svg","createElementNS","setAttribute","setAttributeNS","shapesGroup","createLineTypes","splice","shape","line","fill","bar","group","points","x","y","pointGroups","center","size","path","updateLinesAttributes","updatePointVisibility","currentLineShape","currentPointShape","updateVisibility","CursorLegend","table","selectedRow","addButton","deleteButton","centerButton","currentRow","currentBtn","observer","CursorLegendHelpers","cursorLegendItemDisplay","CursorLegendItemDisplay","cursor","cursorAdded","cursorPositionChanged","data","updatePosition","cursorNumber","niControlId","xEl","yEl","textValue","formatCursorPosition","innerText","xTextValue","yTextValue","eq","remove","clearShape","cursorRemoved","updateName","updateVisible","removeClass","registerCursorLegend","uniqueId","buttonsRow","jqxButton","addCursor","cursorChanged","cursors","getCursor","createMainRow","createDetailsRow","display","td0","td3","td4","button","showHideButton","visible","parseFloat","title","class","subtable","td","colSpan","createDetailsItem","getMenuItem","jqrefItemName","jqrefItemX","jqrefItemY","jqrefItemDetails","cursorLegend","items","addShapes","push","makeShape","makeCursorCross","crosshairStyle","makeLine","rect","circle","targetShape","cursorColor","x1","y1","x2","y2","firstChild","defaultCursorName","show","showValue","nextCursorName","changed","Error","maxIndex","parseInt","deleteCursor","snapToPlot","getTargetShape","getCrosshair","ScaleLegend","nScales","ScaleLegendHelpers","scale","scaleToIndex","addScale","toRemove","clearScale","getScale","scaleRemoved","registerScaleLegend","scaleAdded","labels","lockButtons","first","setLockBackground","btnLock","btnScaleOnce","scaleName","scaleLegend","prop","scales","autoScale","initialAutoscale","scaleOnce","setupGrid","draw","ModeEnum","freeze","LOCKED","PAN","ZOOM","MODE_ENUM","navigationStates","GraphTools","addListeners","registerGraphTools","axes","axis","CartesianAxis","syncWithFlot","applySelection","selection","opts","options","offsetBelow","from","min","offsetAbove","to","max","offset","below","above","ranges","getAxes","disableZoom","clearSelection","updateCartesianAxesFromFlot","CartesianGraphBase","empty","setNavButtonsState","locked","pan","zoom","navNone","btnPan","btnZoom","setMode","states","btnZoomOut","eventConfig","bubbles","cancelable","dispatchEvent","CustomEvent","sendEventToParentGraph"],"mappings":"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","file":"webcharts-legends.min.js","sourcesContent":["\r\n(function() {\r\n    'use strict';\r\n\r\n    class GraphLegend extends window.JQX.BaseElement {\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n                /** **graph-ref** - the graph id to connect to. Default: ''*/\r\n                'graphRef': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n                /** **is-in-edit-mode** - makes the legend non-interactive*/\r\n                'isInEditMode': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        }\r\n\r\n        findGraph() {\r\n            return document.querySelector('ni-cartesian-graph[graph-ref=\\'' + this.graphRef + '\\']') ||\r\n                document.querySelector('ni-chart[graph-ref=\\'' + this.graphRef + '\\']') ||\r\n                document.querySelector('ni-intensity-graph[graph-ref=\\'' + this.graphRef + '\\']') ||\r\n                // eventually the ni-control-id will have to go away\r\n                document.querySelector('ni-cartesian-graph[ni-control-id=\\'' + this.graphRef + '\\']') ||\r\n                document.querySelector('ni-chart[ni-control-id=\\'' + this.graphRef + '\\']') ||\r\n                document.querySelector('ni-intensity-graph[ni-control-id=\\'' + this.graphRef + '\\']');\r\n        }\r\n\r\n        template() {\r\n            return '';\r\n        }\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.Elements.GraphLegend = GraphLegend;\r\n}());\r\n","//****************************************\r\n// Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.LegendHelpers = function (helpers, legendItemDisplay) {\r\n        this.helpers = helpers;\r\n        this.legendItemDisplay = legendItemDisplay;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.LegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addButtons = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn, current;\r\n        menuItem.children.forEach(function (children) {\r\n            btn = document.createElement('button');\r\n            btn.type = 'button';\r\n            btn.className = 'ni-button';\r\n            $(btn).jqxToggleButton({ toggled: false });\r\n            if (children.cssClass !== '') {\r\n                btn.classList.add(children.cssClass);\r\n            }\r\n\r\n            $(btn).on('click', function () {\r\n                $(current).jqxToggleButton('toggle');\r\n                current = this;\r\n\r\n                that.helpers.handleClick(children.name, null, index);\r\n                that.legendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            var state = that.helpers.getState(children.name, index);\r\n            if (state !== undefined) {\r\n                $(btn).jqxToggleButton({ 'toggled': state });\r\n                if (state === true) {\r\n                    current = btn;\r\n                }\r\n            }\r\n\r\n            div.appendChild(btn);\r\n        });\r\n    };\r\n\r\n    proto.addComboBox = function (menuItem, div, index, iconWidth) {\r\n        var that = this;\r\n        var i, selectedIndex = 0, init = true;\r\n        $(div).jqxDropDownList(\r\n            {\r\n                width: '100%',\r\n                dropDownHeight: menuItem.children.length * 26\r\n            });\r\n        for (i = 0; i < menuItem.children.length; i++) {\r\n            var text = NI_SUPPORT.i18n(menuItem.children[i].tag);\r\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                text = menuItem.name;\r\n            }\r\n\r\n            $(div).jqxDropDownList('addItem', { id: menuItem.children[i].name, html: '<div style=\"width: 100%\"><span class=\"ni-selector-title\">' + text + '</span><div class=\"ni-selector-icon ' + menuItem.children[i].cssClass + '\"' + ' style=\"background-size: ' + iconWidth + 'px 16px; width: ' + (iconWidth + 4) + 'px; \"></div></div>' });\r\n            var itemState = this.helpers.getState(menuItem.children[i].name, index);\r\n            if (itemState === true) {\r\n                selectedIndex = i;\r\n            }\r\n        }\r\n\r\n        $(div).on('select', function (event) {\r\n            var args = event.args;\r\n            if (init === true) {\r\n                return;\r\n            }\r\n\r\n            that.helpers.handleClick(args.item.label.id, null, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownList({ 'selectedIndex': selectedIndex });\r\n        init = false;\r\n    };\r\n\r\n    proto.getTextElementByColor = function (color) {\r\n        if (color === 'transparent' || color.hex === '') {\r\n            return $('<div class=\"ni-colorbox-content\">transparent</div>');\r\n        }\r\n\r\n        var element = $('<div class=\"ni-colorbox-content\">#' + color.hex + '</div>');\r\n        var nThreshold = 105;\r\n        var bgDelta = (color.r * 0.299) + (color.g * 0.587) + (color.b * 0.114);\r\n        var foreColor = (255 - bgDelta < nThreshold) ? 'Black' : 'White';\r\n        element.css('color', foreColor);\r\n        element.css('background', '#' + color.hex);\r\n        element.addClass('jqx-rc-all');\r\n        return element;\r\n    };\r\n\r\n    proto.addColorBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var dropList = document.createElement('div');\r\n        $(div).append(dropList);\r\n        var colorbox = document.createElement('div');\r\n        colorbox.className = 'legend-colorbox-colorbox';\r\n        dropList.appendChild(colorbox);\r\n        $(colorbox).jqxColorPicker({\r\n            width: '200px',\r\n            height: '220px',\r\n            colorMode: 'hue'\r\n        });\r\n        $(colorbox).on('colorchange', function (e) {\r\n            $(div).jqxDropDownButton('setContent', that.getTextElementByColor(e.args.color));\r\n            that.helpers.handleClick(menuItem.name, e.args.color, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownButton({\r\n            width: 'inherit'\r\n        });\r\n        var color = this.helpers.getState(menuItem.name, index);\r\n\r\n        var parsedColor = $.color.parse(color);\r\n\r\n        $(div).jqxDropDownButton('setContent', this.getTextElementByColor(new $.jqx.color({ rgb: parsedColor })));\r\n    };\r\n\r\n    proto.addCheckBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn = $(div).jqxCheckBox();\r\n        btn.className = 'legend-checkbox';\r\n        $(btn).on('change', function (e) {\r\n            that.helpers.handleClick(menuItem.name, e.args.checked, index);\r\n        });\r\n        var state = that.helpers.getState(menuItem.name, index);\r\n        if (state !== undefined) {\r\n            $(btn).jqxCheckBox({ checked: state });\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n/**\r\n## ni-plot-legend\r\n\r\n> A custom element that provides a plot legend.\r\n\r\nUse it to visualize and change the plots of a graph or chart element.\r\n\r\nIt provides an expandable list with all the plots of the graphs.\r\n\r\nExpand one of the plots and you get a panel where you can control the\r\nparameters of the plot - like plot style, line with, dash style, colors ...\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph graph-ref=\"g1\" value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n    <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n    <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n    <ni-cartesian-plot show label=\"Prime Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n    <ni-cartesian-plot show label=\"Fibonacci Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n</ni-cartesian-graph>\r\n\r\n<ni-plot-legend graph-ref=\"g1\" mode=\"pan\"></ni-plot-legend>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // create a view for a new plot at the end of the legend.\r\n    var createLegendRow = function(legend) {\r\n        legend.createRow(legend.tbl, legend.nPlots);\r\n        legend.helpers.addRenderer(legend.nPlots);\r\n        legend.nPlots++;\r\n    };\r\n\r\n    // remove the view for the plot at the specified index\r\n    var removeLegendRow = function(legend, index) {\r\n        legend.removeRow(legend.tbl, index);\r\n        legend.helpers.clearRenderer(index);\r\n        legend.nPlots--;\r\n    };\r\n\r\n    class PlotLegend extends NationalInstruments.HtmlVI.Elements.GraphLegend {\r\n        /**### ni-plot-legend properties*/\r\n\r\n        /// include ./ni-graph-legend.js\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n                /** **mode** (string) - the mode of the plot legend. Default: 'full'.\r\n                When in 'compact mode' only the plot icon and the plot name are shown.\r\n                In full mode you can expand the plots and can fully configure them at runtime.\r\n\r\n                Accepted values: 'full', 'compact' */\r\n                'mode': {\r\n                    value: 'full',\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        }\r\n\r\n        created() {\r\n            super.created();\r\n\r\n            this.tbl = undefined;\r\n            this.nPlots = 0;\r\n            this.currentExpander = null;\r\n            this.helpers = new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers();\r\n            this.plotLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers);\r\n            this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.plotLegendItemDisplay);\r\n            this.deferLegendUpdates = false;\r\n        };\r\n\r\n        // respond to a plot add (unless the updates are defered)\r\n        plotAdded() {\r\n            if (!this.deferLegendUpdates) {\r\n                createLegendRow(this);\r\n            }\r\n        };\r\n\r\n        // respond to a plot remove (unless the updates are defered)\r\n        plotRemoved(index) {\r\n            if (!this.deferLegendUpdates) {\r\n                removeLegendRow(this, index);\r\n            }\r\n        };\r\n\r\n        // call syncPlotLegendWithGraph from time to time, when the updates are defered, to\r\n        // synchronize the legend with the current state of the plots in the graph.\r\n        syncPlotLegendWithGraph() {\r\n            if (this.deferLegendUpdates) {\r\n                var graph = this.findGraph();\r\n                if (!graph) {\r\n                    return;\r\n                }\r\n\r\n                var graphPlots = graph.plots.length;\r\n\r\n                while (graphPlots < this.nPlots) {\r\n                    var index = this.nPlots - 1;\r\n                    removeLegendRow(this, index);\r\n                }\r\n\r\n                while (graphPlots > this.nPlots) {\r\n                    createLegendRow(this);\r\n                }\r\n            }\r\n        };\r\n\r\n        createRows() {\r\n            var i;\r\n            for (i = 0; i < this.nPlots; i++) {\r\n                this.createRow(this.tbl, i);\r\n            }\r\n        };\r\n\r\n        removeRows() {\r\n            var i;\r\n            for (i = this.nPlots - 1; i >= 0; i--) {\r\n                this.removeRow(this.tbl, i);\r\n            }\r\n        };\r\n\r\n        throttlePlotUpdates(enableThrottling) {\r\n            var graph = this.findGraph();\r\n            if (graph !== null) {\r\n                graph.throttlePlotUpdates(enableThrottling);\r\n                this.deferLegendUpdates = enableThrottling;\r\n            }\r\n        };\r\n\r\n        attachToGraph(graphElement) {\r\n            this.detachFromGraph();\r\n            if (graphElement && graphElement.isReady) {\r\n                this.helpers.graph = graphElement;\r\n                this.nPlots = graphElement.plots.length;\r\n                this.createRows();\r\n                graphElement.registerPlotLegend(this);\r\n            }\r\n        };\r\n\r\n        detachFromGraph() {\r\n            this.helpers.clearCache();\r\n            this.helpers.graph = null;\r\n            this.removeRows();\r\n            this.nPlots = 0;\r\n        };\r\n\r\n        attached() {\r\n            var childElement,\r\n                that = this;\r\n\r\n            super.attached();\r\n\r\n            this.helpers.graph = this.findGraph();\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.overflowX = 'auto';\r\n            childElement.style.overflowY = 'hidden';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.style.width = '100%';\r\n            this.tbl.style.height = '100%';\r\n            childElement.appendChild(this.tbl);\r\n\r\n            this.addEventListener('ni-cartesian-plot-attached', function() {\r\n                that.plotAdded();\r\n                that.helpers.clearCache(); // clears the renderer cache\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-detached', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.getIndex(source);\r\n\r\n                that.plotRemoved(index);\r\n                that.helpers.clearCache(); // clears the renderer cache\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-changed', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.getIndex(source);\r\n                that.updatePlotName(index, that.helpers.getPlotName(index));\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-changed', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we gat a plot as a source\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-attached', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n\r\n                that.helpers.clearCache(); // clears the renderers cache\r\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we got a plot as a source\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-detached', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n\r\n                that.helpers.clearCache(); // clears the renderers cache\r\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we got a plot as a source\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            // update the entries in plot legend based on data series length\r\n            // The legend will apply this updates only at runtime in compact mode\r\n            this.addEventListener('ni-plot-count-changed', function(evt) {\r\n                var source = evt.detail.originalSource;\r\n                if (that.mode === \"compact\") {\r\n                    while (source.plotCount < that.nPlots) {\r\n                        var index = that.nPlots - 1;\r\n                        removeLegendRow(that, index);\r\n                    }\r\n                    while (source.plotCount > that.nPlots) {\r\n                        createLegendRow(that);\r\n                    }\r\n                }\r\n            });\r\n\r\n            var graph = this.findGraph();\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        };\r\n\r\n        createRow(tbl, index) {\r\n            var that = this;\r\n            var tr, exp, header, content, div, plotName, p, span;\r\n\r\n            tr = document.createElement('tr');\r\n            tbl.appendChild(tr);\r\n            exp = document.createElement('div');\r\n            exp.id = 'expander' + index;\r\n            exp.className = 'ni-plot-legend-box';\r\n            tr.appendChild(exp);\r\n            header = document.createElement('div');\r\n            header.id = 'header' + index;\r\n            header.className = 'ni-master-row';\r\n            exp.appendChild(header);\r\n\r\n            div = document.createElement('div');\r\n            div.className = 'ni-plot-display';\r\n            header.appendChild(div);\r\n            this.plotLegendItemDisplay.createHeaderDisplay(div, index);\r\n            this.plotLegendItemDisplay.updateShape(index);\r\n\r\n            span = document.createElement('span');\r\n            span.className = 'ni-plot-title';\r\n\r\n            plotName = this.helpers.getPlotName(index);\r\n            if (this.mode === 'compact') {\r\n                if (!this.helpers.getPlot(index)) {\r\n                    plotName = 'Plot ' + (index + 1);\r\n                }\r\n            }\r\n\r\n            p = document.createTextNode(plotName);\r\n            span.appendChild(p);\r\n            header.appendChild(span);\r\n\r\n            content = document.createElement('div');\r\n            content.id = 'content' + index;\r\n            content.className = 'ni-details-box';\r\n            exp.appendChild(content);\r\n\r\n            if (this.mode === 'full') {\r\n                $(exp).jqxExpander({\r\n                    expanded: false,\r\n                    disabled: this.isInEditMode,\r\n                    expandAnimationDuration: 50,\r\n                    collapseAnimationDuration: 50,\r\n                    initContent: function() {\r\n                        that.loadContent(content, index);\r\n                    }\r\n                });\r\n\r\n                $(exp).on('expanded', function() {\r\n                    if (this !== that.currentExpander) {\r\n                        var expander = that.currentExpander;\r\n                        that.currentExpander = this;\r\n                        if (expander !== null) {\r\n                            $(expander).jqxExpander({\r\n                                expanded: false\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            this.applyFont();\r\n        };\r\n\r\n        updatePlotName(index, name) {\r\n            var titles = $(this.tbl).find('.ni-plot-title');\r\n            $(titles[index]).text(name);\r\n        };\r\n\r\n        loadContent(content, index) {\r\n            var tbl, tr, j, span, p, td1, td2, div;\r\n            content.style.height = ((this.helpers.menu.length + 1) * 30) + 10 + 'px';\r\n            tbl = document.createElement('table');\r\n            tbl.className = 'ni-details';\r\n            content.appendChild(tbl);\r\n\r\n            for (j = 0; j < this.helpers.menu.length; j++) {\r\n                var menuItem = this.helpers.menu[j];\r\n                tr = document.createElement('tr');\r\n                tr.className = 'ni-details-row ' + (menuItem.cssClass || '');\r\n                tbl.appendChild(tr);\r\n                td1 = document.createElement('td');\r\n                td1.className = 'ni-detail-row-title-box';\r\n                tr.appendChild(td1);\r\n                span = document.createElement('span');\r\n                span.className = 'ni-detail-row-title';\r\n                td1.appendChild(span);\r\n                var text = NI_SUPPORT.i18n(menuItem.tag);\r\n                if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                    text = menuItem.name + '!';\r\n                }\r\n\r\n                p = document.createTextNode(text);\r\n                span.appendChild(p);\r\n                td2 = document.createElement('td');\r\n                td2.className = 'ni-details-row-operations-box';\r\n                tr.appendChild(td2);\r\n                switch (menuItem.type) {\r\n                    case 'buttons':\r\n                        this.uihelpers.addButtons(menuItem, td2, index);\r\n                        break;\r\n                    case 'combobox':\r\n                        div = document.createElement('div');\r\n                        div.className = 'ni-selector';\r\n                        td2.appendChild(div);\r\n                        this.uihelpers.addComboBox(menuItem, div, index, 60);\r\n                        break;\r\n                    case 'colorbox':\r\n                        div = document.createElement('div');\r\n                        div.className = 'ni-colorbox-selector ni-selector';\r\n                        td2.appendChild(div);\r\n                        this.uihelpers.addColorBox(menuItem, div, index);\r\n                        break;\r\n                    case 'checkbox':\r\n                        div = document.createElement('div');\r\n                        div.className = 'ni-hover-box';\r\n                        td2.appendChild(div);\r\n                        this.uihelpers.addCheckBox(menuItem, div, index);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n\r\n        removeRow(tbl, index) {\r\n            var row = tbl.children[index];\r\n            this.plotLegendItemDisplay.removeHeaderDisplay(null, index);\r\n            if (row !== null && row !== undefined) {\r\n                tbl.removeChild(row);\r\n            }\r\n        };\r\n\r\n        setFont(fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\r\n            var childElement = this.firstElementChild,\r\n                thisRef = $(this),\r\n                jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n                jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n                jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n            thisRef.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n\r\n            jqrefContent.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemContentTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        applyFont() {\r\n            var childElement = this.firstElementChild,\r\n                jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n                jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n                jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n            var fontSize = $(this).css('font-size');\r\n            var fontFamily = $(this).css('font-family');\r\n            var fontWeight = $(this).css('font-weight');\r\n            var fontStyle = $(this).css('font-style');\r\n            jqrefContent.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemContentTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            switch (propertyName) {\r\n                case 'graphRef':\r\n                    // TODO: add a plot-legend-detached event for parent graph\r\n                    this.helpers.graph.plotLegend = null;\r\n                    var graphElement = this.findGraph();\r\n                    this.attachToGraph(graphElement);\r\n\r\n                    break;\r\n                case 'isInEditMode':\r\n                    // this changes once after the element is created\r\n                    this.helpers.isInEditMode = this.isInEditMode;\r\n                    $(this.tbl).find('.ni-plot-legend-box').each(function() {\r\n                        $(this).jqxExpander({\r\n                            disabled: this.isInEditMode\r\n                        });\r\n                    });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-plot-legend', PlotLegend);\r\n}());\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendHelpers = function () {\r\n        this.graph = null;\r\n        this.isInEditMode = false;\r\n        this.defaultPlotColors = window.JQX.CartesianGraph.defaultPlotColors;\r\n\r\n        // values that are used for the dasharray attribute of the line\r\n        this.lineStyleValues = {\r\n            dot: '1, 2',\r\n            dashdot: '3, 3, 1, 3',\r\n            mediumdash: '3, 3',\r\n            largedash: '5, 4',\r\n            solid: '0'\r\n        };\r\n        this.renderers = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.menu = [\r\n        {\r\n            name: 'Plot Style',\r\n            tag: 'msg_plotstyle',\r\n            type: 'buttons',\r\n            children: [\r\n                { name: 'Line', tag: 'msg_line', cssClass: 'ni-line-style-icon' },\r\n                { name: 'Point', tag: 'msg_point', cssClass: 'ni-point-style-icon' },\r\n                { name: 'Line & Point', tag: 'msg_lineandpoint', cssClass: 'ni-line-and-point-style-icon' },\r\n                { name: 'Bar', tag: 'msg_bar', cssClass: 'ni-bar-style-icon' },\r\n                { name: 'Fill', tag: 'msg_fill', cssClass: 'ni-fill-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Point Style',\r\n            tag: 'msg_pointstyle',\r\n            type: 'buttons',\r\n            children: [\r\n                { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\r\n                { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\r\n                { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\r\n                { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\r\n                { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Width',\r\n            tag: 'msg_linewidth',\r\n            cssClass: 'line_width',\r\n            type: 'combobox',\r\n            children: [\r\n                { name: 'No line', tag: 'msg_noline', cssClass: '' },\r\n                { name: '1-pixel', tag: 'msg_1pixel', cssClass: 'ni-1-pixel-line-width-icon' },\r\n                { name: '2-pixels', tag: 'msg_2pixels', cssClass: 'ni-2-pixels-line-width-icon' },\r\n                { name: '3-pixels', tag: 'msg_3pixels', cssClass: 'ni-3-pixels-line-width-icon' },\r\n                { name: '4-pixels', tag: 'msg_4pixels', cssClass: 'ni-4-pixels-line-width-icon' },\r\n                { name: '5-pixels', tag: 'msg_5pixels', cssClass: 'ni-5-pixels-line-width-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Style',\r\n            tag: 'msg_linestyle',\r\n            cssClass: 'line_style',\r\n            type: 'combobox',\r\n            children: [\r\n                { name: 'No style', tag: 'msg_nostyle', cssClass: '' },\r\n                { name: 'Solid', tag: 'msg_solid', cssClass: 'ni-solid-line-style-icon' },\r\n                { name: 'Dot', tag: 'msg_dot', cssClass: 'ni-dot-line-style-icon' },\r\n                { name: 'Dot-dash', tag: 'msg_dashdot', cssClass: 'ni-dot-dash-line-style-icon' },\r\n                { name: 'Medium dash', tag: 'msg_mediumdash', cssClass: 'ni-medium-dash-line-style-icon' },\r\n                { name: 'Large dash', tag: 'msg_largedash', cssClass: 'ni-large-dash-line-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Fill Baseline',\r\n            tag: 'msg_fillbaseline',\r\n            type: 'buttons',\r\n            children: [\r\n                { name: 'Zero', tag: 'msg_zero', cssClass: 'ni-fill-to-zero-style-icon' },\r\n                { name: '-Inf', tag: 'msg_neginf', cssClass: 'ni-fill-base-line-negative-infinity-icon' },\r\n                { name: 'Inf', tag: 'msg_inf', cssClass: 'ni-fill-base-line-positive-infinity-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Color',\r\n            tag: 'msg_color',\r\n            type: 'colorbox',\r\n            children: []\r\n        },\r\n        {\r\n            name: 'Hover',\r\n            tag: 'msg_hover',\r\n            cssClass: 'hover',\r\n            type: 'checkbox',\r\n            children: []\r\n        }\r\n    ];\r\n\r\n    proto.addRenderer = function () {\r\n    };\r\n\r\n    proto.clearRenderer = function (index) {\r\n        this.renderers[index] = null;\r\n    };\r\n\r\n    proto.clearCache = function () {\r\n        for (var i = 0; i < this.renderers.length; i++) {\r\n            this.renderers[i] = null;\r\n        }\r\n    };\r\n\r\n    proto.getPlot = function (index) {\r\n        var i = 0;\r\n        var plot = null;\r\n        var graph = this.graph;\r\n\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    if (i === index) {\r\n                        plot = graph.childNodes[child];\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return plot;\r\n    };\r\n\r\n    proto.getIndex = function (plot) {\r\n        var index, graph;\r\n        // graph = this.graph;\r\n        graph = plot._parentGraph;\r\n        if (graph !== null) {\r\n            index = graph.plots.indexOf(plot);\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.getPlotName = function (index) {\r\n        var plot = this.getPlot(index);\r\n\r\n        if (plot && (typeof plot.label === 'string')) {\r\n            return plot.label;\r\n        } else {\r\n            return NI_SUPPORT.i18n('msg_defaultplotname');\r\n        }\r\n    };\r\n\r\n    proto.getRenderer = function (index) {\r\n        var plot = null;\r\n        var renderer = null;\r\n        if (this.renderers[index] === null || this.renderers[index] === undefined) {\r\n            plot = this.getPlot(index);\r\n\r\n            if (plot !== null) {\r\n                renderer = plot.lastElementChild;\r\n            }\r\n\r\n            if (renderer === null) {\r\n                return null;\r\n            }\r\n\r\n            this.renderers[index] = renderer;\r\n        }\r\n\r\n        return this.renderers[index];\r\n    };\r\n\r\n    proto.rendererToIndex = function (renderer) {\r\n        var i = 0, index, graph, child, currentRenderer;\r\n        graph = this.graph;\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    currentRenderer = graph.childNodes[child].lastElementChild;\r\n                    if (currentRenderer === renderer) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var initialColor = '';\r\n            var plot;\r\n            var renderer = this.getRenderer(index);\r\n            if (renderer === null) {\r\n                return;\r\n            }\r\n\r\n            if (renderer.lineStroke !== '') {\r\n                initialColor = renderer.lineStroke;\r\n            }\r\n\r\n            if (renderer.pointColor !== '') {\r\n                initialColor = renderer.pointColor;\r\n            }\r\n\r\n            if (renderer.barFill !== '') {\r\n                initialColor = renderer.barFill;\r\n            }\r\n\r\n            if (renderer.areaFill !== '') {\r\n                initialColor = renderer.areaFill;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'No line':\r\n                    renderer.lineWidth = 0;\r\n                    break;\r\n                case '1-pixel':\r\n                    renderer.lineWidth = 1;\r\n                    break;\r\n                case '2-pixels':\r\n                    renderer.lineWidth = 2;\r\n                    break;\r\n                case '3-pixels':\r\n                    renderer.lineWidth = 3;\r\n                    break;\r\n                case '4-pixels':\r\n                    renderer.lineWidth = 4;\r\n                    break;\r\n                case '5-pixels':\r\n                    renderer.lineWidth = 5;\r\n                    break;\r\n                case 'Line':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Point':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Line & Point':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Bar':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = initialColor;\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Fill':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = initialColor;\r\n                    break;\r\n                case 'Ellipse':\r\n                    renderer.pointShape = 'ellipse';\r\n                    break;\r\n                case 'Rectangle':\r\n                    renderer.pointShape = 'rectangle';\r\n                    break;\r\n                case 'Diamond':\r\n                    renderer.pointShape = 'diamond';\r\n                    break;\r\n                case 'Cross':\r\n                    renderer.pointShape = 'cross';\r\n                    break;\r\n                case 'Plus':\r\n                    renderer.pointShape = 'plus';\r\n                    break;\r\n                case 'No style':\r\n                    renderer.lineStyle = '';\r\n                    break;\r\n                case 'Solid':\r\n                    renderer.lineStyle = 'solid';\r\n                    break;\r\n                case 'Dot':\r\n                    renderer.lineStyle = 'dot';\r\n                    break;\r\n                case 'Dot-dash':\r\n                    renderer.lineStyle = 'dashdot';\r\n                    break;\r\n                case 'Medium dash':\r\n                    renderer.lineStyle = 'mediumdash';\r\n                    break;\r\n                case 'Large dash':\r\n                    renderer.lineStyle = 'largedash';\r\n                    break;\r\n                case 'Zero':\r\n                    renderer.areaBaseLine = 'zero';\r\n                    renderer.barBaseLine = 'zero';\r\n                    break;\r\n                case '-Inf':\r\n                    renderer.areaBaseLine = 'negativeinfinity';\r\n                    renderer.barBaseLine = 'negativeinfinity';\r\n                    break;\r\n                case 'Inf':\r\n                    renderer.areaBaseLine = 'positiveinfinity';\r\n                    renderer.barBaseLine = 'positiveinfinity';\r\n                    break;\r\n                case 'Color':\r\n                    if (renderer.lineStroke !== '') {\r\n                        renderer.lineStroke = '#' + arg.hex;\r\n                    } else if (renderer.pointColor !== '') {\r\n                        renderer.pointColor = '#' + arg.hex;\r\n                    } else if (renderer.barFill !== '') {\r\n                        renderer.barFill = '#' + arg.hex;\r\n                    } else if (renderer.areaFill !== '') {\r\n                        renderer.areaFill = '#' + arg.hex;\r\n                    }\r\n\r\n                    break;\r\n                case 'Hover':\r\n                    plot = this.getPlot(index);\r\n                    plot.enableHover = arg;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var plot;\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'No line':\r\n                state = renderer.lineWidth === 0;\r\n                break;\r\n            case '1-pixel':\r\n                state = renderer.lineWidth === 1;\r\n                break;\r\n            case '2-pixels':\r\n                state = renderer.lineWidth === 2;\r\n                break;\r\n            case '3-pixels':\r\n                state = renderer.lineWidth === 3;\r\n                break;\r\n            case '4-pixels':\r\n                state = renderer.lineWidth === 4;\r\n                break;\r\n            case '5-pixels':\r\n                state = renderer.lineWidth === 5;\r\n                break;\r\n            case 'Line':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor === '';\r\n                break;\r\n            case 'Point':\r\n                state = renderer.lineStroke === '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Line & Point':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Bar':\r\n                state = renderer.barFill !== '';\r\n                break;\r\n            case 'Fill':\r\n                state = renderer.areaFill !== '';\r\n                break;\r\n            case 'Ellipse':\r\n                state = renderer.pointShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = renderer.pointShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = renderer.pointShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = renderer.pointShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = renderer.pointShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = renderer.lineStyle === '';\r\n                break;\r\n            case 'Solid':\r\n                state = renderer.lineStyle === 'solid';\r\n                break;\r\n            case 'Dot':\r\n                state = renderer.lineStyle === 'dot';\r\n                break;\r\n            case 'Dot-dash':\r\n                state = renderer.lineStyle === 'dashdot';\r\n                break;\r\n            case 'Medium dash':\r\n                state = renderer.lineStyle === 'mediumdash';\r\n                break;\r\n            case 'Large dash':\r\n                state = renderer.lineStyle === 'largedash';\r\n                break;\r\n            case 'Zero':\r\n                state = renderer.barFill !== '' ? renderer.barBaseLine === 'zero' || renderer.barBaseLine === '' : renderer.areaBaseLine === 'zero' || renderer.areaBaseLine === '';\r\n                break;\r\n            case '-Inf':\r\n                state = renderer.barFill !== '' ? renderer.barBaseLine === 'negativeinfinity' : renderer.areaBaseLine === 'negativeinfinity';\r\n                break;\r\n            case 'Inf':\r\n                state = renderer.barFill !== '' ? renderer.barBaseLine === 'positiveinfinity' : renderer.areaBaseLine === 'positiveinfinity';\r\n                break;\r\n            case 'Color':\r\n                state = this.getPlotColorFromRenderer(renderer);\r\n                break;\r\n            case 'Hover':\r\n                plot = this.getPlot(index);\r\n                state = plot.enableHover;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getPlotColor = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return this.getPlotColorFromRenderer(renderer);\r\n        }\r\n\r\n        return this.defaultPlotColors[index % this.defaultPlotColors.length];\r\n    };\r\n\r\n    proto.getPlotColorFromRenderer = function (renderer) {\r\n        var state = 'rgba(0, 0, 0, 1)';\r\n        if (renderer.lineStroke !== '') {\r\n            state = renderer.lineStroke;\r\n        } else if (renderer.pointColor !== '') {\r\n            state = renderer.pointColor;\r\n        } else if (renderer.barFill !== '') {\r\n            state = renderer.barFill;\r\n        } else if (renderer.areaFill !== '') {\r\n            state = renderer.areaFill;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getLineWidth = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.lineWidth;\r\n        }\r\n\r\n        // Return the default line width if there is no renderer.\r\n        return 1;\r\n    };\r\n\r\n    proto.getLineShape = function (index) {\r\n        var lineShape = 'line';\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            if (renderer.lineStroke !== '' && renderer.pointColor === '') {\r\n                lineShape = 'line';\r\n            } else if (renderer.lineStroke === '' && renderer.pointColor !== '') {\r\n                lineShape = 'points';\r\n            } else if (renderer.lineStroke !== '' && renderer.pointColor !== '') {\r\n                lineShape = 'line & point';\r\n            } else if (renderer.barFill !== '') {\r\n                lineShape = 'bar';\r\n            } else if (renderer.areaFill !== '') {\r\n                lineShape = 'fill';\r\n            }\r\n        }\r\n\r\n        // Return the default line shape if there is no renderer.\r\n        return lineShape;\r\n    };\r\n\r\n    proto.getLineStyle = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            switch (renderer.lineStyle) {\r\n                case 'dot':\r\n                    return this.lineStyleValues.dot;\r\n                case 'dashdot':\r\n                    return this.lineStyleValues.dashdot;\r\n                case 'mediumdash':\r\n                    return this.lineStyleValues.mediumdash;\r\n                case 'largedash':\r\n                    return this.lineStyleValues.largedash;\r\n                default:\r\n                    return this.lineStyleValues.solid;\r\n            }\r\n        }\r\n\r\n        return '0';\r\n    };\r\n\r\n    proto.getPointShape = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.pointShape;\r\n        }\r\n\r\n        // Return the default point shape if there is no renderer.\r\n        return 'ellipse';\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay = function (helpers) {\r\n        this.pointTypes = [\r\n            { name: 'ellipse', creator: createEllipseShape },\r\n            { name: 'rectangle', creator: createRectangleShape },\r\n            { name: 'diamond', creator: createDiamondShape },\r\n            { name: 'cross', creator: createCrossShape },\r\n            { name: 'plus', creator: createPlusShape }\r\n        ];\r\n\r\n        this.lineTypes = [\r\n            { name: 'line', creator: createLine },\r\n            { name: 'fill', creator: createFillArea },\r\n            { name: 'bar', creator: createBars },\r\n            { name: 'points', creator: createPoints }\r\n        ];\r\n\r\n        this.shapes = [];\r\n        this.helpers = helpers;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.createHeaderDisplay = function (div, index) {\r\n        var svgns, svg;\r\n        svgns = 'http://www.w3.org/2000/svg';\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        div.appendChild(svg);\r\n\r\n        var shapesGroup = document.createElementNS(svgns, 'g');\r\n        var that = this;\r\n        svg.appendChild(shapesGroup);\r\n        this.shapes[index] = {};\r\n        this.shapes[index].shapesGroup = shapesGroup;\r\n\r\n        createLineTypes(index, shapesGroup, svgns, that);\r\n        shapesGroup.setAttribute('stroke', 'rgba(255, 0, 0, 1)');\r\n    };\r\n\r\n    proto.removeHeaderDisplay = function (div, index) {\r\n        this.shapes.splice(index, 1);\r\n    };\r\n\r\n    var createLineTypes = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var i;\r\n\r\n        for (i = 0; i < plotLegendItemDisplay.lineTypes.length; i++) {\r\n            plotLegendItemDisplay.lineTypes[i].creator(index, shapesGroup, svgns, plotLegendItemDisplay);\r\n        }\r\n    };\r\n\r\n    var createLine = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0');\r\n        shape.setAttribute('fill', 'none');\r\n        shape.setAttribute('stroke-width', plotLegendItemDisplay.helpers.getLineWidth(index));\r\n        shape.setAttribute('stroke-dasharray', plotLegendItemDisplay.helpers.getLineStyle(index));\r\n\r\n        shapesGroup.appendChild(shape);\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.line = shape;\r\n    };\r\n\r\n    var createFillArea = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0, 15,15, 0,15');\r\n        shape.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\r\n        shape.setAttribute('stroke-width', plotLegendItemDisplay.helpers.getLineWidth(index));\r\n        shape.setAttribute('visibility', 'hidden');\r\n\r\n        shapesGroup.appendChild(shape);\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.fill = shape;\r\n    };\r\n\r\n    var createBars = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5');\r\n        shape.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\r\n        shape.setAttribute('stroke-width', 1);\r\n        shape.setAttribute('visibility', 'hidden');\r\n\r\n        shapesGroup.appendChild(shape);\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.bar = shape;\r\n    };\r\n\r\n    var createPoints = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var i, j;\r\n        var group;\r\n        var points = [\r\n            { x: 0.5, y: 15.5 },\r\n            { x: 10.5, y: 10.5 },\r\n            { x: 5.5, y: 5.5 },\r\n            { x: 15.5, y: 0.5 }\r\n        ];\r\n        var shape;\r\n\r\n        var pointGroups = document.createElementNS(svgns, 'g');\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.points = pointGroups;\r\n        for (j = 0; j < plotLegendItemDisplay.pointTypes.length; j++) {\r\n            group = document.createElementNS(svgns, 'g');\r\n            for (i = 0; i < 4; i++) {\r\n                shape = plotLegendItemDisplay.pointTypes[j].creator(svgns, points[i], 4);\r\n                group.appendChild(shape);\r\n            }\r\n\r\n            group.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\r\n            group.setAttribute('stroke-width', 1);\r\n            group.setAttribute('visibility', 'hidden');\r\n            pointGroups.appendChild(group);\r\n            plotLegendItemDisplay.shapes[index].shapesGroup.points[plotLegendItemDisplay.pointTypes[j].name] = group;\r\n        }\r\n\r\n        shapesGroup.appendChild(pointGroups);\r\n    };\r\n\r\n    var createEllipseShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'circle');\r\n        shape.setAttribute('cx', center.x);\r\n        shape.setAttribute('cy', center.y);\r\n        shape.setAttribute('r', size / 2);\r\n        return shape;\r\n    };\r\n\r\n    var createRectangleShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'rect');\r\n        shape.setAttribute('x', center.x - size / 2);\r\n        shape.setAttribute('y', center.y - size / 2);\r\n        shape.setAttribute('width', size);\r\n        shape.setAttribute('height', size);\r\n        return shape;\r\n    };\r\n\r\n    var createDiamondShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += ' Z';\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    var createCrossShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x + size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x - size / 2) + ',' + (center.y + size / 2);\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    var createPlusShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    proto.updateLinesAttributes = function (index, group, color) {\r\n        var lineShape = this.helpers.getLineShape(index);\r\n\r\n        if (lineShape === 'line' || lineShape === 'line & point') {\r\n            group.line.setAttribute('stroke-width', this.helpers.getLineWidth(index));\r\n            group.line.setAttribute('stroke-dasharray', this.helpers.getLineStyle(index));\r\n        }\r\n\r\n        group.fill.setAttribute('fill', color);\r\n        group.bar.setAttribute('fill', color);\r\n        for (var i = 0; i < this.pointTypes.length; i++) {\r\n            group.points[this.pointTypes[i].name].setAttribute('fill', color);\r\n        }\r\n    };\r\n\r\n    proto.updatePointVisibility = function (index, group, currentLineShape) {\r\n        var currentPointShape = this.helpers.getPointShape(index);\r\n        for (var j = 0; j < this.pointTypes.length; j++) {\r\n            if (currentPointShape === this.pointTypes[j].name && (currentLineShape === 'line & point' || currentLineShape === 'points')) {\r\n                group.points[this.pointTypes[j].name].setAttribute('visibility', 'visible');\r\n            } else {\r\n                group.points[this.pointTypes[j].name].setAttribute('visibility', 'hidden');\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateVisibility = function (index, group) {\r\n        var currentLineShape = this.helpers.getLineShape(index);\r\n\r\n        for (var i = 0; i < this.lineTypes.length; i++) {\r\n            if (currentLineShape === this.lineTypes[i].name) {\r\n                group[this.lineTypes[i].name].setAttribute('visibility', 'visible');\r\n            } else {\r\n                group[this.lineTypes[i].name].setAttribute('visibility', 'hidden');\r\n            }\r\n        }\r\n\r\n        if (currentLineShape === 'line & point') {\r\n            group.line.setAttribute('visibility', 'visible');\r\n            group.points.setAttribute('visibility', 'visible');\r\n        }\r\n\r\n        this.updatePointVisibility(index, group, currentLineShape);\r\n    };\r\n\r\n    proto.updateShape = function (index) {\r\n        var shape = this.shapes[index];\r\n\r\n        if (shape === undefined || shape === null) {\r\n            return;\r\n        }\r\n\r\n        var color = this.helpers.getPlotColor(index);\r\n\r\n        this.updateLinesAttributes(index, shape.shapesGroup, color);\r\n        this.updateVisibility(index, shape.shapesGroup);\r\n        shape.shapesGroup.setAttribute('stroke', color);\r\n    };\r\n}());\r\n","//****************************************\r\n// Cursor Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n/**\r\n## ni-cursor-legend\r\n\r\n> A custom element that provides a cursor legend.\r\n\r\nUse it to visualize, add, remove and configure cursors. It can be attached to a graph or chart element.\r\n\r\nIt provides a list with all the cursors of the graphs and a way to add/remove cursors.\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph graph-ref=\"g1\" value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n    <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n    <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n    <ni-cartesian-plot show label=\"Prime Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n    <ni-cartesian-plot show label=\"Fibonacci Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n</ni-cartesian-graph>\r\n\r\n<ni-cursor-legend graph-ref=\"g1\" mode=\"pan\"></ni-cursor-legend>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    class CursorLegend extends NationalInstruments.HtmlVI.Elements.GraphLegend {\r\n        /**### ni-cursor-legend properties*/\r\n\r\n        /// include ./ni-graph-legend.js\r\n\r\n        created() {\r\n            super.created();\r\n\r\n            this.table = undefined;\r\n            this.selectedRow = null;\r\n            this.addButton = null;\r\n            this.deleteButton = null;\r\n            this.centerButton = null;\r\n            this.currentRow = null;\r\n            this.currentBtn = null;\r\n            this.observer = null;\r\n            this.helpers = new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers();\r\n            this.cursorLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers);\r\n            this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.cursorLegendItemDisplay);\r\n        };\r\n\r\n        cursorAdded(cursor) {\r\n            var that = this;\r\n            that.createRow(that.table, cursor);\r\n            that.helpers.cursorAdded(cursor);\r\n            //cursor.label = that.helpers.nextCursorName();\r\n            that.helpers.cursorPositionChanged(cursor, function(data) {\r\n                that.updatePosition(cursor, data);\r\n            });\r\n        };\r\n\r\n        updatePosition(cursor, data) {\r\n            if (!cursor._parentGraph) {\r\n                return;\r\n            }\r\n\r\n            var cursorNumber = cursor.niControlId,\r\n                xEl = this.querySelector('#x_' + cursorNumber),\r\n                yEl = this.querySelector('#y_' + cursorNumber),\r\n                plot = cursor._parentGraph.graph,\r\n                textValue = plot.formatCursorPosition(plot, cursor.cursor);\r\n\r\n            if (xEl !== null) {\r\n                xEl.innerText = textValue.xTextValue;\r\n            }\r\n\r\n            if (yEl !== null) {\r\n                yEl.innerText = textValue.yTextValue;\r\n            }\r\n        };\r\n\r\n        // cursor can be removed at runtime or edit time from legend, or at edit time from right rail\r\n        cursorRemoved(cursor) {\r\n            var index = this.helpers.getIndex(cursor);\r\n            if (index >= 0) {\r\n                $(this).find('.ni-master-row').eq(index).remove();\r\n                $(this).find('.ni-details-box').eq(index).remove();\r\n                this.cursorLegendItemDisplay.clearShape(index);\r\n                this.helpers.cursorRemoved(cursor);\r\n            }\r\n        };\r\n\r\n        cursorChanged(cursor) {\r\n            this.cursorLegendItemDisplay.updateShape(cursor);\r\n            this.updateName(cursor);\r\n            this.updateVisible(cursor);\r\n        };\r\n\r\n        updateName(cursor) {\r\n            $('#name_' + cursor.niControlId).text(this.helpers.getState('name', cursor));\r\n        };\r\n\r\n        updateVisible(cursor) {\r\n            var visible = this.helpers.getState('visible', cursor);\r\n            if (visible) {\r\n                $('#visible_' + cursor.niControlId).removeClass('ni-visibility-off-icon').addClass('ni-visibility-on-icon');\r\n            } else {\r\n                $('#visible_' + cursor.niControlId).removeClass('ni-visibility-on-icon').addClass('ni-visibility-off-icon');\r\n            }\r\n        };\r\n\r\n        attachToGraph(graphElement) {\r\n            this.detachFromGraph();\r\n            if (graphElement && graphElement.isReady) {\r\n                this.helpers.graph = graphElement;\r\n                graphElement.registerCursorLegend(this);\r\n            }\r\n        };\r\n\r\n        detachFromGraph() {\r\n            this.removeRows();\r\n            this.helpers.clearCache();\r\n            this.helpers.graph = null;\r\n        };\r\n\r\n        attached() {\r\n            super.attached();\r\n\r\n            var that = this;\r\n\r\n            that.helpers.graph = that.findGraph();\r\n            that.helpers.isInEditMode = that.isInEditMode;\r\n            var div = document.createElement('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.id = 'div' + NI_SUPPORT.uniqueId();\r\n            that.appendChild(div);\r\n            that.table = document.createElement('table');\r\n            that.table.className = 'ni-cursors-box';\r\n            div.appendChild(that.table);\r\n\r\n            var buttonsRow = document.createElement('div');\r\n            div.appendChild(buttonsRow);\r\n\r\n            var add = document.createElement('button');\r\n            add.className = 'ni-add-icon ni-command-button';\r\n            $(add).jqxButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            buttonsRow.appendChild(add);\r\n            that.addButton = add;\r\n            $(add).on('click', function() {\r\n                if (!that.isInEditMode) {\r\n                    that.helpers.addCursor();\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-cursor-attached', function(evt) {\r\n                that.cursorAdded(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-detached', function(evt) {\r\n                that.cursorRemoved(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-changed', function(evt) {\r\n                that.cursorChanged(evt.detail.originalSource);\r\n            });\r\n\r\n            var graph = this.findGraph();\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        };\r\n\r\n        removeRows() {\r\n            var i;\r\n            for (i = this.helpers.cursors.length - 1; i >= 0; i--) {\r\n                var cursor = this.helpers.getCursor(i);\r\n                this.cursorRemoved(cursor);\r\n            }\r\n        };\r\n\r\n        createRow(table, cursor) {\r\n            var that = this;\r\n            var btn = that.createMainRow(table, cursor);\r\n            var row = that.createDetailsRow(table, cursor);\r\n            $(btn).on('click', function() {\r\n                if (that.currentRow !== row) {\r\n                    var currentRow = that.currentRow;\r\n                    var currentBtn = that.currentBtn;\r\n                    row.style.display = 'table-row';\r\n                    that.currentRow = row;\r\n                    btn.classList.remove('ni-closed-icon');\r\n                    btn.classList.add('ni-open-icon');\r\n                    that.currentBtn = btn;\r\n                    if (currentRow !== null) {\r\n                        currentRow.style.display = 'none';\r\n                    }\r\n\r\n                    if (currentBtn !== null) {\r\n                        currentBtn.classList.remove('ni-open-icon');\r\n                        currentBtn.classList.add('ni-closed-icon');\r\n                    }\r\n                } else {\r\n                    row.style.display = 'none';\r\n                    btn.classList.remove('ni-open-icon');\r\n                    btn.classList.add('ni-closed-icon');\r\n                    that.currentRow = null;\r\n                    that.currentBtn = null;\r\n                }\r\n            });\r\n            that.applyFont();\r\n        };\r\n\r\n        createMainRow(table, cursor) {\r\n            var that = this;\r\n            var cursorNumber;\r\n            cursorNumber = cursor.niControlId;\r\n\r\n            var tr, td0, td1, td2, td3, td4, span, p, display, button, showHideButton, visible;\r\n            tr = document.createElement('tr');\r\n            tr.className = 'ni-master-row';\r\n            table.appendChild(tr);\r\n\r\n            td0 = document.createElement('td');\r\n            td0.className = 'ni-expand-box';\r\n            tr.appendChild(td0);\r\n            showHideButton = document.createElement('input');\r\n            showHideButton.className = 'ni-expand-button ni-closed-icon';\r\n            showHideButton.type = 'button';\r\n            showHideButton.id = 'details_' + cursorNumber;\r\n            td0.appendChild(showHideButton);\r\n            $(showHideButton).jqxButton({\r\n                width: 20,\r\n                height: 20,\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-cursor-box';\r\n            tr.appendChild(td1);\r\n            display = that.cursorLegendItemDisplay.createHeaderDisplay(cursor);\r\n            if (display !== null) {\r\n                display.id = 'display_' + cursorNumber;\r\n                td1.appendChild(display);\r\n            }\r\n\r\n            span = document.createElement('span');\r\n            span.className = 'ni-cursor-title';\r\n            span.id = 'name_' + cursorNumber;\r\n            p = document.createTextNode(that.helpers.getState('name', cursor));\r\n            span.appendChild(p);\r\n            td1.appendChild(span);\r\n\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-x-box';\r\n            tr.appendChild(td2);\r\n            span = document.createElement('span');\r\n            span.className = 'ni-x-title';\r\n            span.id = 'x_' + cursorNumber;\r\n            p = document.createTextNode(parseFloat(that.helpers.getState('x', cursor)));\r\n            span.appendChild(p);\r\n            td2.appendChild(span);\r\n\r\n            td3 = document.createElement('td');\r\n            td3.className = 'ni-y-box';\r\n            tr.appendChild(td3);\r\n            span = document.createElement('span');\r\n            span.className = 'ni-y-title';\r\n            span.id = 'y_' + cursorNumber;\r\n            p = document.createTextNode(parseFloat(that.helpers.getState('y', cursor)));\r\n            span.appendChild(p);\r\n            td3.appendChild(span);\r\n\r\n            td4 = document.createElement('td');\r\n            td4.className = 'ni-actions-box';\r\n            tr.appendChild(td4);\r\n\r\n            button = document.createElement('input');\r\n            button.className = 'ni-delete-icon ni-action-button';\r\n            button.type = 'button';\r\n            button.id = 'delete' + cursorNumber;\r\n            td4.appendChild(button);\r\n            $(button).on('click', function() {\r\n                that.helpers.handleClick('delete', '', cursor);\r\n            });\r\n            $(button).jqxToggleButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            button = document.createElement('input');\r\n            button.className = 'ni-center-icon ni-action-button';\r\n            button.type = 'button';\r\n            button.id = 'center' + cursorNumber;\r\n            td4.appendChild(button);\r\n            $(button).on('click', function() {\r\n                that.helpers.handleClick('center', '', cursor);\r\n            });\r\n            $(button).jqxButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            button = document.createElement('input');\r\n            button.className = 'ni-snap-icon ni-action-button';\r\n            button.type = 'button';\r\n            button.id = 'snap_' + cursorNumber;\r\n            td4.appendChild(button);\r\n            $(button).on('click', function() {\r\n                that.helpers.handleClick('snap', '', cursor);\r\n            });\r\n            $(button).jqxToggleButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            button = document.createElement('input');\r\n            button.className = 'ni-visibility-button ni-action-button';\r\n            button.type = 'button';\r\n            button.id = 'visible_' + cursorNumber;\r\n            visible = that.helpers.getState('visible', cursor);\r\n            if (visible) {\r\n                button.classList.add('ni-visibility-on-icon');\r\n            } else {\r\n                button.classList.add('ni-visibility-off-icon');\r\n            }\r\n\r\n            $(button).on('click', function() {\r\n                that.helpers.handleClick('visible', '', cursor);\r\n            });\r\n\r\n            td4.appendChild(button);\r\n            $(button).jqxToggleButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            return showHideButton;\r\n        };\r\n\r\n        createDetailsItem(table, title, className) {\r\n            var tr, td1, td2, div, span, p;\r\n            tr = document.createElement('tr');\r\n            tr.className = 'ni-details-row';\r\n            table.appendChild(tr);\r\n\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-details-row-title-box';\r\n            tr.appendChild(td1);\r\n            span = document.createElement('span');\r\n            span.class = 'ni-details-row-title';\r\n            td1.appendChild(span);\r\n            p = document.createTextNode(title);\r\n            span.appendChild(p);\r\n\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-details-row-control-box';\r\n            tr.appendChild(td2);\r\n            div = document.createElement('div');\r\n            div.className = className;\r\n            td2.appendChild(div);\r\n            return div;\r\n        };\r\n\r\n        createDetailsRow(table, cursor) {\r\n            var subtable, tr, td, div;\r\n\r\n            tr = document.createElement('tr');\r\n            tr.className = 'ni-details-box';\r\n            tr.style.display = 'none';\r\n            table.appendChild(tr);\r\n\r\n            td = document.createElement('td');\r\n            td.colSpan = 5;\r\n            tr.appendChild(td);\r\n\r\n            subtable = document.createElement('table');\r\n            subtable.className = 'ni-details';\r\n            td.appendChild(subtable);\r\n\r\n            div = this.createDetailsItem(subtable, 'Color', 'ni-colorbox-selector ni-selector');\r\n            this.uihelpers.addColorBox({\r\n                name: 'Color'\r\n            }, div, cursor);\r\n\r\n            div = this.createDetailsItem(subtable, 'Shape', 'ni-shape-selector ni-selector');\r\n            this.uihelpers.addComboBox(this.helpers.getMenuItem('shape'), div, cursor, 16);\r\n\r\n            div = this.createDetailsItem(subtable, 'Crosshair', 'ni-crosshair-selector ni-selector');\r\n            this.uihelpers.addComboBox(this.helpers.getMenuItem('crosshair'), div, cursor, 16);\r\n\r\n            return tr;\r\n        };\r\n\r\n        setFont(fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\r\n            var childElement = this.firstElementChild,\r\n                thisRef = $(this),\r\n                jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n                jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n                jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n                jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n                jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n            thisRef.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n\r\n            jqrefContent.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemName.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemX.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemY.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemDetails.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        applyFont() {\r\n            var childElement = this.firstElementChild,\r\n                jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n                jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n                jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n                jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n                jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n            var fontSize = $(this).css('font-size');\r\n            var fontFamily = $(this).css('font-family');\r\n            var fontWeight = $(this).css('font-weight');\r\n            var fontStyle = $(this).css('font-style');\r\n            jqrefContent.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemName.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemX.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemY.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemDetails.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            var that = this;\r\n\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            switch (propertyName) {\r\n                case 'graphRef':\r\n                    // TODO: add a cursor-legend-detached event for parent graph\r\n                    this.helpers.graph.cursorLegend = null;\r\n                    var graphElement = this.findGraph();\r\n                    this.attachToGraph(graphElement);\r\n                    break;\r\n                case 'isInEditMode':\r\n                    // this changes once after the element is created\r\n                    this.helpers.isInEditMode = this.isInEditMode;\r\n\r\n                    if (this.addButton !== null) {\r\n                        $(this.addButton).jqxButton({disabled: this.isInEditMode});\r\n                    }\r\n\r\n                    $(this.table).find('.ni-center-icon').each(function(button) {\r\n                        $(this).jqxButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    $(this.table).find('.ni-expand-button').each(function(button) {\r\n                        $(this).jqxButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    $(this.table).find('.ni-snap-icon').each(function(button) {\r\n                        $(this).jqxToggleButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    $(this.table).find('.ni-delete-icon').each(function(button) {\r\n                        $(this).jqxToggleButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    $(this.table).find('.ni-visibility-button').each(function(button) {\r\n                        $(this).jqxToggleButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-cursor-legend', CursorLegend);\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay = function (helpers) {\r\n        this.helpers = helpers;\r\n        this.items = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var svgns = 'http://www.w3.org/2000/svg';\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.clearShape = function (index) {\r\n        this.items.splice(index, 1);\r\n    };\r\n\r\n    //Methods\r\n    proto.createHeaderDisplay = function (cursor) {\r\n        var svg;\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('class', 'ni-cursor-display');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        this.addShapes(cursor, svg, svgns);\r\n        this.items.push(svg);\r\n        return svg;\r\n    };\r\n\r\n    proto.addShapes = function (cursor, svg, svgns) {\r\n        this.makeShape(cursor, svg, svgns);\r\n        this.makeCursorCross(cursor, svg, svgns);\r\n    };\r\n\r\n    proto.makeCursorCross = function (cursor, svg, svgns) {\r\n        var crosshair = cursor.crosshairStyle;\r\n\r\n        switch (crosshair) {\r\n            case 'none':\r\n                break;\r\n            case 'vertical':\r\n                this.makeLine(cursor, svg, svgns, '8', '1', '8', '4');\r\n                this.makeLine(cursor, svg, svgns, '8', '12', '8', '15');\r\n                break;\r\n            case 'horizontal':\r\n                this.makeLine(cursor, svg, svgns, '12', '8', '15', '8');\r\n                this.makeLine(cursor, svg, svgns, '1', '8', '4', '8');\r\n                break;\r\n            default:\r\n                this.makeLine(cursor, svg, svgns, '8', '1', '8', '4');\r\n                this.makeLine(cursor, svg, svgns, '12', '8', '15', '8');\r\n                this.makeLine(cursor, svg, svgns, '8', '12', '8', '15');\r\n                this.makeLine(cursor, svg, svgns, '1', '8', '4', '8');\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.makeShape = function (cursor, svg, svgns) {\r\n        var rect, circle;\r\n        var shape = cursor.targetShape;\r\n        var color = cursor.cursorColor;\r\n        switch (shape) {\r\n            case 'ellipse':\r\n                circle = document.createElementNS(svgns, 'circle');\r\n                circle.setAttribute('cx', '8');\r\n                circle.setAttribute('cy', '8');\r\n                circle.setAttribute('r', '4');\r\n                circle.setAttribute('stroke', color);\r\n                circle.setAttribute('stroke-width', '1');\r\n                circle.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(circle);\r\n                break;\r\n            case 'rectangle':\r\n                rect = document.createElementNS(svgns, 'rect');\r\n                rect.setAttribute('x', '4');\r\n                rect.setAttribute('y', '4');\r\n                rect.setAttribute('width', '8');\r\n                rect.setAttribute('height', '8');\r\n                rect.setAttribute('stroke', color);\r\n                rect.setAttribute('stroke-width', '1');\r\n                rect.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(rect);\r\n                break;\r\n            case 'diamond':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '12', '8');\r\n                this.makeLine(cursor, svg, svgns, '12', '8', '8', '12');\r\n                this.makeLine(cursor, svg, svgns, '8', '12', '4', '8');\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '8', '4');\r\n                break;\r\n            case 'cross':\r\n                this.makeLine(cursor, svg, svgns, '4', '4', '12', '12');\r\n                this.makeLine(cursor, svg, svgns, '4', '12', '12', '4');\r\n                break;\r\n            case 'plus':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '8', '12');\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '12', '8');\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.makeLine = function (cursor, svg, svgns, x1, y1, x2, y2) {\r\n        var line = document.createElementNS(svgns, 'line');\r\n        line.setAttribute('x1', x1);\r\n        line.setAttribute('y1', y1);\r\n        line.setAttribute('x2', x2);\r\n        line.setAttribute('y2', y2);\r\n        line.setAttribute('stroke', cursor.cursorColor);\r\n        line.setAttribute('stroke-width', 1);\r\n        svg.appendChild(line);\r\n    };\r\n\r\n    proto.updateShape = function (cursor) {\r\n        var index = this.helpers.getIndex(cursor);\r\n        var svg = this.items[index];\r\n\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        if (svg === undefined) {\r\n            return null;\r\n        }\r\n\r\n        while (svg.firstChild) {\r\n            svg.removeChild(svg.firstChild);\r\n        }\r\n\r\n        this.addShapes(cursor, svg, svgns);\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendHelpers = function () {\r\n        this.graph = null;\r\n        this.isInEditMode = false;\r\n        this.cursors = [];\r\n        this.defaultCursorName = NI_SUPPORT.i18n('msg_defaultcursorname');\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getMenuItem = function (name) {\r\n        if (name === 'shape') {\r\n            return {\r\n                name: 'Target Shape',\r\n                tag: 'msg_targetshape',\r\n                children: [\r\n                    { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\r\n                    { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\r\n                    { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\r\n                    { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\r\n                    { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\r\n                ]\r\n            };\r\n        } else if (name === 'crosshair') {\r\n            return {\r\n                name: 'Crosshair Style',\r\n                tag: 'msg_crosshairstyle',\r\n                children: [\r\n                    { name: 'No style', tag: 'msg_nostyle', cssClass: 'ni-no-crosshair-icon' },\r\n                    { name: 'Vertical', tag: 'msg_vertical', cssClass: 'ni-vertical-crosshair-icon' },\r\n                    { name: 'Horizontal', tag: 'msg_horizontal', cssClass: 'ni-horizontal-crosshair-icon' },\r\n                    { name: 'Both', tag: 'msg_both', cssClass: 'ni-both-crosshair-icon' }\r\n                ]\r\n            };\r\n        }\r\n    };\r\n\r\n    proto.cursorAdded = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i] === cursor ||\r\n                (cursor.niControlId != null && this.cursors[i].niControlId === cursor.niControlId)) {\r\n                return; // its already in the list\r\n            }\r\n        }\r\n\r\n        this.cursors.push(cursor);\r\n    };\r\n\r\n    // if cursor is not already removed from the list then remove it\r\n    proto.cursorRemoved = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i].niControlId === cursor.niControlId) {\r\n                this.cursors.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.addCursor = function () {\r\n        var graph = this.graph;\r\n        var cursor = document.createElement('ni-cursor');\r\n        cursor.niControlId = NI_SUPPORT.uniqueId();\r\n        cursor.show = true;\r\n        cursor.showValue = true;\r\n        this.cursors.push(cursor);\r\n        cursor.label = this.nextCursorName();\r\n        graph.appendChild(cursor);\r\n    };\r\n\r\n    proto.cursorPositionChanged = function (cursor, changed) {\r\n        // TODO mraj is undefined an expected value?\r\n        if (cursor === undefined) {\r\n            throw new Error('cursor is undefined');\r\n        }\r\n\r\n        $(cursor).on('cursorUpdated', function (e, data) {\r\n            changed(data);\r\n        });\r\n    };\r\n\r\n    proto.clearCache = function () {\r\n        this.cursors.length = 0;\r\n    };\r\n\r\n    proto.getCursor = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var cursor = null;\r\n        var child;\r\n        if (this.cursors[index] === null || this.cursors[index] === undefined) {\r\n            graph = this.graph;\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                        if (i === index) {\r\n                            cursor = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (cursor !== null) {\r\n                this.cursors[index] = cursor;\r\n            }\r\n        }\r\n\r\n        return this.cursors[index];\r\n    };\r\n\r\n    proto.nextCursorName = function () {\r\n        var maxIndex = 0, i, cursor;\r\n        var graph = this.graph;\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                    cursor = graph.childNodes[child];\r\n                    i = parseInt(cursor.label.substring(this.defaultCursorName.length));\r\n                    if (i > maxIndex) {\r\n                        maxIndex = i;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return this.defaultCursorName + ' ' + (maxIndex + 1);\r\n    };\r\n\r\n    proto.deleteCursor = function (cursor) {\r\n        var graph = this.graph;\r\n        if (cursor !== null && cursor !== undefined) {\r\n            graph.removeChild(cursor);\r\n        }\r\n    };\r\n\r\n    proto.getIndex = function (cursor) {\r\n        var i, index = -1;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i] !== null && cursor.niControlId === this.cursors[i].niControlId) {\r\n                index = i;\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, cursor) {\r\n        if (cursor === null && cursor === undefined) {\r\n            return;\r\n        }\r\n\r\n        switch (itemName) {\r\n            case 'name':\r\n                break;\r\n            case 'x':\r\n                break;\r\n            case 'y':\r\n                break;\r\n            case 'visible':\r\n                cursor.show = !cursor.show;\r\n                break;\r\n            case 'snap':\r\n                cursor.snapToPlot = cursor.snapToPlot !== -1 ? -1 : undefined;\r\n                break;\r\n            case 'center':\r\n                cursor.snapToPlot = undefined;\r\n                cursor.x = 0.5;\r\n                cursor.y = 0.5;\r\n                break;\r\n            case 'delete':\r\n                this.deleteCursor(cursor);\r\n                break;\r\n            case 'Ellipse':\r\n                cursor.targetShape = 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                cursor.targetShape = 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                cursor.targetShape = 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                cursor.targetShape = 'cross';\r\n                break;\r\n            case 'Plus':\r\n                cursor.targetShape = 'plus';\r\n                break;\r\n            case 'No style':\r\n                cursor.crosshairStyle = 'none';\r\n                break;\r\n            case 'Vertical':\r\n                cursor.crosshairStyle = 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                cursor.crosshairStyle = 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                cursor.crosshairStyle = 'both';\r\n                break;\r\n            case 'Color':\r\n                cursor.cursorColor = '#' + arg.hex;\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, cursor) {\r\n        if (cursor === null || cursor === undefined) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'name':\r\n                state = cursor.label;\r\n                break;\r\n            case 'x':\r\n                state = cursor.x;\r\n                break;\r\n            case 'y':\r\n                state = cursor.y;\r\n                break;\r\n            case 'visible':\r\n                state = cursor.show;\r\n                break;\r\n            case 'snap':\r\n                state = cursor.snapToPlot === -1;\r\n                break;\r\n            case 'center':\r\n                break;\r\n            case 'delete':\r\n                break;\r\n            case 'Ellipse':\r\n                state = cursor.targetShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = cursor.targetShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = cursor.targetShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = cursor.targetShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = cursor.targetShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = cursor.crosshairStyle === 'none';\r\n                break;\r\n            case 'Vertical':\r\n                state = cursor.crosshairStyle === 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                state = cursor.crosshairStyle === 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                state = cursor.crosshairStyle === 'both';\r\n                break;\r\n            case 'Color':\r\n                state = cursor.cursorColor;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getTargetShape = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.targetShape;\r\n        }\r\n\r\n        return 'ellipse';\r\n    };\r\n\r\n    proto.getCrosshair = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.crosshairStyle;\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Scale Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n/**\r\n## ni-scale-legend\r\n\r\n> A custom element that provides a scale legend.\r\n\r\nUse it to visualize and change the axis modes of a graph, chart or intensity graph element.\r\n\r\nIt provides a list with all the axes of the graphs.\r\n\r\nEach axis in the list has two buttons - one to turn on/off the autoscaling for that axis and\r\nthe other one sets the scale range to the data range (without changing the autoScale mode)\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph graph-ref=\"g1\" value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n    <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n    <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n    <ni-cartesian-plot show label=\"Prime Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n    <ni-cartesian-plot show label=\"Fibonacci Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n</ni-cartesian-graph>\r\n\r\n<ni-scale-legend graph-ref=\"g1\" mode=\"pan\"></ni-scale-legend>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    class ScaleLegend extends NationalInstruments.HtmlVI.Elements.GraphLegend {\r\n        created() {\r\n            super.created();\r\n\r\n            this.tbl = undefined;\r\n            this.nScales = 0;\r\n            this.currentExpander = null;\r\n            this.helpers = new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers();\r\n            this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, null);\r\n        };\r\n\r\n        scaleAdded(scale) {\r\n            var index = this.helpers.scaleToIndex(scale),\r\n                alreadyAdded = index < this.nScales;\r\n            if (!alreadyAdded) {\r\n                this.createRow(this.tbl, this.nScales);\r\n                this.helpers.addScale(this.nScales);\r\n                this.nScales++;\r\n            }\r\n        };\r\n\r\n        scaleRemoved(scale) {\r\n            var tr, td, text, i, j, index, toRemove = null;\r\n            j = 0;\r\n            for (i = 0; i < this.tbl.childNodes.length; i++) {\r\n                if (this.tbl.childNodes[i].localName === 'tr') {\r\n                    tr = this.tbl.childNodes[i];\r\n                    td = tr.childNodes[0];\r\n                    text = td.innerText;\r\n                    if (text === scale.label) {\r\n                        toRemove = tr;\r\n                        index = j;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                j++;\r\n            }\r\n\r\n            if (toRemove !== null) {\r\n                this.tbl.removeChild(toRemove);\r\n                this.helpers.clearScale(index);\r\n            }\r\n\r\n            this.nScales--;\r\n        };\r\n\r\n        createRows() {\r\n            var i;\r\n            for (i = 0; i < this.nScales; i++) {\r\n                this.createRow(this.tbl, i);\r\n            }\r\n        };\r\n\r\n        removeRows() {\r\n            var i;\r\n            for (i = this.nScales - 1; i >= 0; i--) {\r\n                var scale = this.helpers.getScale(i);\r\n                this.scaleRemoved(scale);\r\n            }\r\n        };\r\n\r\n        attachToGraph(graphElement) {\r\n            this.detachFromGraph();\r\n            if (graphElement && graphElement.isReady) {\r\n                this.helpers.graph = graphElement;\r\n                graphElement.registerScaleLegend(this);\r\n            }\r\n        };\r\n\r\n        detachFromGraph() {\r\n            this.helpers.graph = null;\r\n            this.helpers.clearScale();\r\n            this.removeRows();\r\n        };\r\n\r\n        attached() {\r\n            super.attached();\r\n            var childElement = document.createElement('div');\r\n            var that = this;\r\n\r\n            this.helpers.graph = this.findGraph();\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.className = 'ni-scale-legend-box';\r\n            childElement.appendChild(this.tbl);\r\n            this.addEventListener('ni-cartesian-axis-attached', function(evt) {\r\n                var scale = evt.detail.originalSource;\r\n                that.scaleAdded(scale);\r\n            });\r\n            this.addEventListener('ni-cartesian-axis-detached', function(evt) {\r\n                that.scaleRemoved(evt.detail.originalSource);\r\n            });\r\n            this.addEventListener('ni-axis-changed', function(evt) {\r\n                var scale = evt.detail.originalSource;\r\n                var index = that.helpers.scaleToIndex(scale);\r\n                var labels = $(this.tbl).find('.ni-row-title');\r\n                var lockButtons = $(this.tbl).find('.ni-lock-button');\r\n                $(labels[index]).first().text(scale.label);\r\n                this.setLockBackground(lockButtons[index], false, index);\r\n            });\r\n            var graph = this.findGraph();\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        };\r\n\r\n        createRow(tbl, index) {\r\n            var that = this;\r\n            var tr, td1, td2, td3, span, p, btnLock, btnScaleOnce;\r\n\r\n            tr = document.createElement('tr');\r\n            tbl.appendChild(tr);\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-row-title-box';\r\n            tr.appendChild(td1);\r\n            span = document.createElement('span');\r\n            span.className = 'ni-row-title';\r\n            td1.appendChild(span);\r\n            var scaleName = that.helpers.getState('name', index);\r\n            p = document.createTextNode(scaleName);\r\n            span.appendChild(p);\r\n\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-lock-box';\r\n            tr.appendChild(td2);\r\n            btnLock = document.createElement('button');\r\n            btnLock.type = 'button';\r\n            btnLock.className = 'ni-lock-button ni-button';\r\n            $(btnLock).jqxToggleButton();\r\n            $(btnLock).jqxToggleButton({\r\n                disabled: !this.helpers.getState('canLock', index)\r\n            });\r\n            $(btnLock).on('click', function() {\r\n                that.helpers.handleClick('lock', index);\r\n                that.setLockBackground(btnLock, false, index);\r\n            });\r\n            that.setLockBackground(btnLock, true, index);\r\n            td2.appendChild(btnLock);\r\n\r\n            td3 = document.createElement('td');\r\n            td3.className = 'ni-scale-once-box';\r\n            tr.appendChild(td3);\r\n            btnScaleOnce = document.createElement('button');\r\n            btnScaleOnce.type = 'button';\r\n            btnScaleOnce.className = 'ni-scale-once-icon ni-button';\r\n            $(btnScaleOnce).on('click', function() {\r\n                that.helpers.handleClick('scaleonce', index);\r\n                that.setLockBackground(btnLock, false, index);\r\n            });\r\n            td3.appendChild(btnScaleOnce);\r\n            this.applyFont();\r\n        };\r\n\r\n        setLockBackground(btn, first, index) {\r\n            var state = this.helpers.getState('lock', index);\r\n            if (state !== undefined) {\r\n                if (first === true) {\r\n                    $(btn).jqxToggleButton({\r\n                        'toggled': state\r\n                    });\r\n                }\r\n\r\n                if (state === true) {\r\n                    btn.classList.remove('ni-locked-icon');\r\n                    btn.classList.add('ni-unlocked-icon');\r\n                } else {\r\n                    btn.classList.remove('ni-unlocked-icon');\r\n                    btn.classList.add('ni-locked-icon');\r\n                }\r\n            }\r\n        };\r\n\r\n        setFont(fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\r\n            var childElement = this.firstElementChild,\r\n                thisRef = $(this),\r\n                jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n            thisRef.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n\r\n            jqrefItemTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        applyFont() {\r\n            var childElement = this.firstElementChild,\r\n                jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n            var fontSize = $(this).css('font-size');\r\n            var fontFamily = $(this).css('font-family');\r\n            var fontWeight = $(this).css('font-weight');\r\n            var fontStyle = $(this).css('font-style');\r\n\r\n            jqrefItemTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            var that = this;\r\n\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            switch (propertyName) {\r\n                case 'graphRef':\r\n                    // TODO: add a scale-legend-detached event for parent graph\r\n                    this.helpers.graph.scaleLegend = null;\r\n                    var graphElement = this.findGraph();\r\n                    this.attachToGraph(graphElement);\r\n                    break;\r\n                case 'isInEditMode':\r\n                    // this changes once after the element is created\r\n                    this.helpers.isInEditMode = this.isInEditMode;\r\n                    $(this.tbl).find('.ni-lock-button').each(function() {\r\n                        $(this).jqxToggleButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n                    $(this.tbl).find('.ni-scale-once-icon').each(function() {\r\n                        $(this).prop('disabled', that.isInEditMode);\r\n                    });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-scale-legend', ScaleLegend);\r\n}());\r\n","//****************************************\r\n// Scale Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers = function () {\r\n        this.graph = null;\r\n        this.isInEditMode = false;\r\n        this.scales = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addScale = function () {\r\n    };\r\n\r\n    proto.clearScale = function (index) {\r\n        this.scales[index] = null;\r\n    };\r\n\r\n    proto.getScale = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var scale = null;\r\n        var child;\r\n        if (this.scales[index] === null || this.scales[index] === undefined) {\r\n            graph = this.graph;\r\n\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                        graph.childNodes[child].localName === 'ni-color-scale') {\r\n                        if (i === index) {\r\n                            scale = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (scale === null) {\r\n                return null;\r\n            }\r\n\r\n            this.scales[index] = scale;\r\n        }\r\n\r\n        return this.scales[index];\r\n    };\r\n\r\n    proto.scaleToIndex = function (scale) {\r\n        var i = 0, index = -1, graph, child, currentScale;\r\n        graph = this.graph;\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                    graph.childNodes[child].localName === 'ni-color-scale') {\r\n                    currentScale = graph.childNodes[child];\r\n                    if (currentScale === scale) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var scale = this.getScale(index);\r\n\r\n            if (scale === null) {\r\n                return;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'lock':\r\n                    if (scale.autoScale !== 'none') {\r\n                        // save initial autoScale option and\r\n                        // turns off autoScale\r\n                        scale.initialAutoscale = scale.autoScale;\r\n                        scale.autoScale = 'none';\r\n                        scale.scaleOnce();\r\n                    } else {\r\n                        //if the chosen autoScale option is none on unlock we set it to loose\r\n                        scale.autoScale = scale.initialAutoscale ? scale.initialAutoscale : 'loose';\r\n                    }\r\n\r\n                    break;\r\n                case 'scaleonce':\r\n                    if (scale.scaleOnce) {\r\n                        scale.scaleOnce();\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            var plot = scale._parentGraph.graph;\r\n            plot.setupGrid();\r\n            plot.draw();\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var scale = this.getScale(index);\r\n        if (scale === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'canLock':\r\n                state = scale.localName !== 'ni-color-scale';\r\n                break;\r\n            case 'lock':\r\n                state = scale.autoScale !== 'none';\r\n                break;\r\n            case 'scaleonce':\r\n                break;\r\n            case 'name':\r\n                state = scale.label;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n}());\r\n","//****************************************\r\n// Graph Tools Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-graph-tools\r\n\r\n> A custom element that provides a graph tools \"legend\".\r\n\r\nUse it to add navigation controls to a graph, chart or intensity graph element.\r\nIt provides buttons to switch between pan mode, box zoom mode or to lock navigation.\r\n\r\nIt also provides a scaleOnce button which resets the axes to the range of the data.\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph graph-ref=\"g1\" value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n  <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n  <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n</ni-cartesian-graph>\r\n\r\n<ni-graph-tools graph-ref=\"g1\" mode=\"pan\"></ni-graph-tools>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var ModeEnum = Object.freeze({\r\n        LOCKED: 'locked',\r\n        PAN: 'pan',\r\n        ZOOM: 'zoom'\r\n    });\r\n\r\n    var MODE_ENUM = ModeEnum;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    var navigationStates = {};\r\n    navigationStates[MODE_ENUM.LOCKED] = [true, false, false];\r\n    navigationStates[MODE_ENUM.PAN] = [false, true, false];\r\n    navigationStates[MODE_ENUM.ZOOM] = [false, false, true];\r\n\r\n    class GraphTools extends NationalInstruments.HtmlVI.Elements.GraphLegend {\r\n        /**### ni-graph-tools properties*/\r\n\r\n        /// include ./ni-graph-legend.js\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n                /** **mode** (string) - the mode of the graph tools. Default: 'pan'.\r\n                Accepted values: 'locked', 'pan', 'zoom'*/\r\n                'mode': {\r\n                    value: MODE_ENUM.PAN,\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        }\r\n\r\n        created() {\r\n            super.created();\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        ready () {\r\n            super.ready();\r\n            this.addListeners();\r\n        }\r\n\r\n        attachToGraph(graphElement) {\r\n            if (graphElement.isReady) {\r\n                this._parentGraph = graphElement;\r\n                graphElement.registerGraphTools(this);\r\n            }\r\n        };\r\n\r\n        /* The result of user interactions (pan, zoom, ..) are often modified axes\r\n        parameters in the flot datastructures.\r\n        When needed, call this function to update the ni-cartesian-axis elements to have te new values */\r\n        updateCartesianAxesFromFlot() {\r\n            this._parentGraph.axes.forEach(function(axis) {\r\n                if (axis instanceof JQX.CartesianAxis) {\r\n                    axis.syncWithFlot();\r\n                }\r\n            });\r\n        };\r\n\r\n        addListeners() {\r\n            var that = this,\r\n                applySelection = function(axis, selection) {\r\n                    var opts = axis.options,\r\n                        offsetBelow = selection.from - axis.min,\r\n                        offsetAbove = selection.to - axis.max;\r\n\r\n                    if (opts.offset) {\r\n                        opts.offset.below += offsetBelow;\r\n                        opts.offset.above += offsetAbove;\r\n                    } else {\r\n                        opts.offset = {\r\n                            above: offsetAbove,\r\n                            below: offsetBelow\r\n                        };\r\n                    }\r\n                };\r\n\r\n            this.addEventListener('ni-cartesian-graph-box-selected', function(evt) {\r\n                // a rectangle selection was made on the graph, zoom into that selection\r\n                // info about the selection box is passed in the event details (ranges)\r\n                var ranges = evt.detail.originalSource.ranges;\r\n                var plot = that._parentGraph.graph;\r\n\r\n                $.each(plot.getAxes(), function (name, axis) {\r\n                    if (axis.options.disableZoom !== true && ranges[name]) {\r\n                        applySelection(axis, ranges[name]);\r\n                    }\r\n                });\r\n\r\n                // redraw plot\r\n                plot.setupGrid();\r\n                plot.draw();\r\n                plot.clearSelection();\r\n\r\n                this.updateCartesianAxesFromFlot();\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-graph-interaction', function() {\r\n                this.updateCartesianAxesFromFlot();\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-graph-reCenter', function() {\r\n                that._parentGraph.axes.forEach(function(axis) {\r\n                    if (axis.scaleOnce) {\r\n                        axis.scaleOnce();\r\n                    }\r\n                });\r\n\r\n                var plot = that._parentGraph.graph;\r\n                plot.setupGrid();\r\n                plot.draw();\r\n\r\n                this.updateCartesianAxesFromFlot();\r\n            });\r\n        }\r\n\r\n        attached() {\r\n            super.attached();\r\n\r\n            var childElement;\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.id = 'div' + NI_SUPPORT.uniqueId();\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.table = document.createElement('table');\r\n            this.table.className = 'ni-graph-tools-box';\r\n            childElement.appendChild(this.table);\r\n\r\n            this.createRow(this.table);\r\n\r\n            var graph = this.findGraph();\r\n            if (graph !== null && graph instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        };\r\n\r\n        detached() {\r\n            super.detached();\r\n\r\n            this._parentGraph = undefined;\r\n            this.table = undefined;\r\n            $(this).empty();\r\n        }\r\n\r\n        createRow(tbl) {\r\n            var that = this;\r\n            var tr, td1, td2, td3, td4, navNone, btnPan, btnZoom, btnZoomOut;\r\n\r\n            function setNavButtonsState(locked, pan, zoom) {\r\n                $(navNone).jqxToggleButton({\r\n                    disabled: locked\r\n                });\r\n                $(btnPan).jqxToggleButton({\r\n                    disabled: pan\r\n                });\r\n                $(btnZoom).jqxToggleButton({\r\n                    disabled: zoom\r\n                });\r\n            }\r\n\r\n            function setMode(mode) {\r\n                var states = navigationStates[mode];\r\n\r\n                if (states) {\r\n                    setNavButtonsState.apply(null, states);\r\n                    that.mode = mode;\r\n                }\r\n            }\r\n\r\n            tr = document.createElement('tr');\r\n            tbl.appendChild(tr);\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-button-box';\r\n            tr.appendChild(td1);\r\n            navNone = document.createElement('button');\r\n            navNone.type = 'button';\r\n            navNone.className = 'ni-locked-icon ni-button';\r\n            $(navNone).jqxToggleButton();\r\n            $(navNone).on('click', function() {\r\n                setMode(MODE_ENUM.LOCKED);\r\n            });\r\n            td1.appendChild(navNone);\r\n\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-button-box';\r\n            tr.appendChild(td2);\r\n            btnPan = document.createElement('button');\r\n            btnPan.type = 'button';\r\n            btnPan.className = 'ni-pan-icon ni-button';\r\n            $(btnPan).jqxToggleButton();\r\n            $(btnPan).on('click', function() {\r\n                setMode(MODE_ENUM.PAN);\r\n            });\r\n            td2.appendChild(btnPan);\r\n\r\n            td3 = document.createElement('td');\r\n            td3.className = 'ni-button-box';\r\n            tr.appendChild(td3);\r\n            btnZoom = document.createElement('button');\r\n            btnZoom.type = 'button';\r\n            btnZoom.className = 'ni-zoom-region-icon ni-button';\r\n            $(btnZoom).on('click', function() {\r\n                setMode(MODE_ENUM.ZOOM);\r\n            });\r\n            td3.appendChild(btnZoom);\r\n\r\n            setMode(this.mode); // initialize the \"navigation radio butons\" in the default mode\r\n            td4 = document.createElement('td');\r\n            td4.className = 'ni-button-box';\r\n            tr.appendChild(td4);\r\n            btnZoomOut = document.createElement('button');\r\n            btnZoomOut.type = 'button';\r\n            btnZoomOut.className = 'ni-zoom-out-icon ni-button';\r\n            $(btnZoomOut).jqxButton({\r\n                disabled: false\r\n            });\r\n            $(btnZoomOut).on('click', function() {\r\n                that._parentGraph.axes.forEach(function(axis) {\r\n                    if (axis.scaleOnce) {\r\n                        axis.scaleOnce();\r\n                    }\r\n                });\r\n\r\n                var plot = that._parentGraph.graph;\r\n                plot.setupGrid();\r\n                plot.draw();\r\n            });\r\n            td4.appendChild(btnZoomOut);\r\n        };\r\n\r\n        allowsScrollWheelZoom() {\r\n            return this.mode === MODE_ENUM.PAN || this.mode === MODE_ENUM.ZOOM;\r\n        };\r\n\r\n        allowsPan() {\r\n            return this.mode === MODE_ENUM.PAN;\r\n        };\r\n\r\n        sendEventToParentGraph(name) {\r\n            var eventConfig;\r\n\r\n            if (this._parentGraph !== undefined) {\r\n                eventConfig = {\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this\r\n                    }\r\n                };\r\n\r\n                this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            switch (propertyName) {\r\n                case 'graphRef':\r\n                    // should never change\r\n                    break;\r\n                case 'mode':\r\n                    this.sendEventToParentGraph('ni-graph-tools-changed');\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-graph-tools', GraphTools);\r\n}());\r\n"]}