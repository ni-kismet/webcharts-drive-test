{"version":3,"sources":["ni-graph-legend.js","ni-legend-helpers.js","ni-light-plot-legend.js","ni-plot-legend.js","ni-plot-legend-helpers.js","ni-plot-legend-item-display.js","ni-cursor-legend.js","ni-cursor-legend-item-display.js","ni-cursor-legend-helpers.js","ni-scale-legend.js","ni-scale-legend-helpers.js","ni-graph-tools.js"],"names":["GraphLegend","_window$JQX$BaseEleme","babelHelpers","classCallCheck","this","possibleConstructorReturn","__proto__","Object","getPrototypeOf","apply","arguments","inherits","createClass","key","value","document","querySelector","graphRef","get","assign","type","isInEditMode","window","JQX","BaseElement","NationalInstruments","HtmlVI","Elements","NI_SUPPORT","NISupport","$","Globals","jQuery","LegendHelpers","helpers","legendItemDisplay","child","proto","prototype","addButtons","menuItem","div","index","btn","current","that","children","forEach","createElement","className","jqxToggleButton","toggled","cssClass","classList","add","on","handleClick","name","updateShape","state","getState","undefined","appendChild","addComboBox","iconWidth","i","selectedIndex","init","jqxDropDownList","width","dropDownHeight","length","text","i18n","tag","substring","id","html","event","args","item","label","getTextElementByColor","color","hex","element","bgDelta","r","g","b","foreColor","css","addClass","addColorBox","dropList","append","colorbox","jqxColorPicker","height","colorMode","e","jqxDropDownButton","parsedColor","parse","jqx","rgb","addCheckBox","jqxCheckBox","checked","LightPlotLegend","propertyName","oldValue","newValue","call","graphElement","findGraph","hasChildNodes","removeChild","firstChild","updateGraphConfig","show","position","whenRegistered","addModule","NILightLegendModule","settings","ownerElement","getSettingsWorkaround","legend","findLegend","legendSettings","container","lastChild","margin","createLegendRow","createRow","tbl","nPlots","addRenderer","removeLegendRow","removeRow","clearRenderer","PlotLegend","_NationalInstruments$","currentExpander","PlotLegendHelpers","plotLegendItemDisplay","PlotLegendItemDisplay","uihelpers","deferLegendUpdates","graph","graphPlots","plots","enableThrottling","throttlePlotUpdates","detachFromGraph","isReady","createRows","registerPlotLegend","clearCache","removeRows","childElement","style","overflowX","overflowY","addEventListener","plotAdded","evt","source","detail","originalSource","getIndex","plotRemoved","updatePlotName","getPlotName","rendererToIndex","mode","plotCount","attachToGraph","tr","exp","header","content","plotName","p","span","createHeaderDisplay","getPlot","createTextNode","jqxExpander","expanded","disabled","expandAnimationDuration","collapseAnimationDuration","initContent","loadContent","expander","applyFont","titles","find","j","td1","td2","menu","row","removeHeaderDisplay","fontSize","fontFamily","fontWeight","fontStyle","textDecoration","firstElementChild","thisRef","jqrefContent","jqrefItemTitle","jqrefItemContentTitle","font-size","font-family","font-weight","font-style","plotLegend","each","defaultPlotColors","CartesianGraph","lineStyleValues","dot","dashdot","mediumdash","largedash","solid","renderers","plot","childNodes","localName","_parentGraph","indexOf","getRenderer","renderer","lastElementChild","itemName","arg","initialColor","lineStroke","pointColor","barFill","areaFill","lineWidth","pointShape","lineStyle","areaBaseLine","barBaseLine","enableHover","getPlotColorFromRenderer","getPlotColor","getLineWidth","getLineShape","lineShape","getLineStyle","getPointShape","pointTypes","creator","createEllipseShape","createRectangleShape","createDiamondShape","createCrossShape","createPlusShape","lineTypes","createLine","createFillArea","createBars","createPoints","shapes","svgns","svg","createElementNS","setAttribute","setAttributeNS","shapesGroup","createLineTypes","splice","shape","line","fill","bar","group","points","x","y","pointGroups","center","size","path","updateLinesAttributes","updatePointVisibility","currentLineShape","currentPointShape","updateVisibility","CursorLegend","table","selectedRow","addButton","deleteButton","centerButton","currentRow","currentBtn","observer","CursorLegendHelpers","cursorLegendItemDisplay","CursorLegendItemDisplay","cursor","cursorAdded","cursorPositionChanged","data","updatePosition","cursorNumber","niControlId","xEl","yEl","textValue","formatCursorPosition","innerText","xTextValue","yTextValue","eq","remove","clearShape","cursorRemoved","updateName","updateVisible","removeClass","registerCursorLegend","uniqueId","buttonsRow","jqxButton","addCursor","cursorChanged","cursors","getCursor","createMainRow","createDetailsRow","display","td0","td3","td4","button","showHideButton","visible","parseFloat","title","class","subtable","td","colSpan","createDetailsItem","getMenuItem","jqrefItemName","jqrefItemX","jqrefItemY","jqrefItemDetails","cursorLegend","items","addShapes","push","makeShape","makeCursorCross","crosshairStyle","makeLine","rect","circle","targetShape","getComputedStyle","x1","y1","x2","y2","defaultCursorName","showValue","nextCursorName","changed","Error","maxIndex","parseInt","deleteCursor","snapToPlot","setColor","getTargetShape","getCrosshair","ScaleLegend","nScales","ScaleLegendHelpers","scale","scaleToIndex","addScale","toRemove","clearScale","getScale","scaleRemoved","registerScaleLegend","scaleAdded","labels","lockButtons","first","setLockBackground","btnLock","btnResetOffset","scaleName","scaleLegend","prop","scales","autoScale","initialAutoscale","resetOffset","setupGrid","draw","ModeEnum","freeze","LOCKED","PAN","ZOOM","MODE_ENUM","navigationStates","GraphTools","addListeners","registerGraphTools","axes","axis","CartesianAxis","syncWithFlot","applySelection","selection","opts","options","offsetBelow","from","min","offsetAbove","to","max","offset","below","above","ranges","getAxes","disableZoom","clearSelection","updateCartesianAxesFromFlot","CartesianGraphBase","empty","userBackgroundColor","failureCallback","sources","snapshotBackgroundColor","graphCanvas","getCanvas","backgroundSVG","graphSVG","getSurface","SVGContainer","cursorsFlotOverlay","getEventHolder","legendSVG","containerClassNames","result","searchQuery","pixelRatio","browser","getPixelRatio","getContext","bkBorderWidth2xScaled","bkBorderWidth","body","insertBefore","svgLeft","getBoundingClientRect","left","scrollX","svgTop","top","scrollY","backgroundColor","rectangle","baseVal","destinationCanvas","takeGraphSnapshot","then","parentNode","getCopyCanvasToImg","canvas","img","src","toDataURL","downloadBlob","blob","url","URL","createObjectURL","downloadLinkElement","download","getDateTimeAsString","href","clickEvent","MouseEvent","dispatchEvent","isEdge","msToBlob","toBlob","currentTime","Date","year","getFullYear","month","getMonth","date","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","asyncSnapshot","asyncProcessAllImagesForComposition","removeEventListener","setNavButtonsState","locked","pan","zoom","navNone","btnPan","btnZoom","setMode","states","takeGraphSnapshotOnClick","downloadSnapshot","td5","btnZoomOut","btnSnapshot","eventConfig","bubbles","cancelable","CustomEvent","sendEventToParentGraph"],"mappings":"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","file":"webcharts-legends.min.js","sourcesContent":["\r\n(function() {\r\n    'use strict';\r\n\r\n    class GraphLegend extends window.JQX.BaseElement {\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n                /** **graph-ref** - the graph id to connect to. Default: ''*/\r\n                'graphRef': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n                /** **is-in-edit-mode** - makes the legend non-interactive*/\r\n                'isInEditMode': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        }\r\n\r\n        findGraph() {\r\n            return document.querySelector('ni-cartesian-graph[graph-ref=\\'' + this.graphRef + '\\']') ||\r\n                document.querySelector('ni-chart[graph-ref=\\'' + this.graphRef + '\\']') ||\r\n                document.querySelector('ni-intensity-graph[graph-ref=\\'' + this.graphRef + '\\']') ||\r\n                // eventually the ni-control-id will have to go away\r\n                document.querySelector('ni-cartesian-graph[ni-control-id=\\'' + this.graphRef + '\\']') ||\r\n                document.querySelector('ni-chart[ni-control-id=\\'' + this.graphRef + '\\']') ||\r\n                document.querySelector('ni-intensity-graph[ni-control-id=\\'' + this.graphRef + '\\']');\r\n        }\r\n\r\n        template() {\r\n            return '';\r\n        }\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.Elements.GraphLegend = GraphLegend;\r\n}());\r\n","//****************************************\r\n// Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.LegendHelpers = function (helpers, legendItemDisplay) {\r\n        this.helpers = helpers;\r\n        this.legendItemDisplay = legendItemDisplay;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.LegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addButtons = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn, current;\r\n        menuItem.children.forEach(function (children) {\r\n            btn = document.createElement('button');\r\n            btn.type = 'button';\r\n            btn.className = 'ni-button';\r\n            $(btn).jqxToggleButton({ toggled: false });\r\n            if (children.cssClass !== '') {\r\n                btn.classList.add(children.cssClass);\r\n            }\r\n\r\n            $(btn).on('click', function () {\r\n                $(current).jqxToggleButton('toggle');\r\n                current = this;\r\n\r\n                that.helpers.handleClick(children.name, null, index);\r\n                that.legendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            var state = that.helpers.getState(children.name, index);\r\n            if (state !== undefined) {\r\n                $(btn).jqxToggleButton({ 'toggled': state });\r\n                if (state === true) {\r\n                    current = btn;\r\n                }\r\n            }\r\n\r\n            div.appendChild(btn);\r\n        });\r\n    };\r\n\r\n    proto.addComboBox = function (menuItem, div, index, iconWidth) {\r\n        var that = this;\r\n        var i, selectedIndex = 0, init = true;\r\n        $(div).jqxDropDownList(\r\n            {\r\n                width: '100%',\r\n                dropDownHeight: menuItem.children.length * 26\r\n            });\r\n        for (i = 0; i < menuItem.children.length; i++) {\r\n            var text = NI_SUPPORT.i18n(menuItem.children[i].tag);\r\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                text = menuItem.name;\r\n            }\r\n\r\n            $(div).jqxDropDownList('addItem', { id: menuItem.children[i].name, html: '<div style=\"width: 100%\"><span class=\"ni-selector-title\">' + text + '</span><div class=\"ni-selector-icon ' + menuItem.children[i].cssClass + '\"' + ' style=\"background-size: ' + iconWidth + 'px 16px; width: ' + (iconWidth + 4) + 'px; \"></div></div>' });\r\n            var itemState = this.helpers.getState(menuItem.children[i].name, index);\r\n            if (itemState === true) {\r\n                selectedIndex = i;\r\n            }\r\n        }\r\n\r\n        $(div).on('select', function (event) {\r\n            var args = event.args;\r\n            if (init === true) {\r\n                return;\r\n            }\r\n\r\n            that.helpers.handleClick(args.item.label.id, null, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownList({ 'selectedIndex': selectedIndex });\r\n        init = false;\r\n    };\r\n\r\n    proto.getTextElementByColor = function (color) {\r\n        if (color === 'transparent' || color.hex === '') {\r\n            return $('<div class=\"ni-colorbox-content\">transparent</div>');\r\n        }\r\n\r\n        var element = $('<div class=\"ni-colorbox-content\">#' + color.hex + '</div>');\r\n        var nThreshold = 105;\r\n        var bgDelta = (color.r * 0.299) + (color.g * 0.587) + (color.b * 0.114);\r\n        var foreColor = (255 - bgDelta < nThreshold) ? 'Black' : 'White';\r\n        element.css('color', foreColor);\r\n        element.css('background', '#' + color.hex);\r\n        element.addClass('jqx-rc-all');\r\n        return element;\r\n    };\r\n\r\n    proto.addColorBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var dropList = document.createElement('div');\r\n        $(div).append(dropList);\r\n        var colorbox = document.createElement('div');\r\n        colorbox.className = 'legend-colorbox-colorbox';\r\n        dropList.appendChild(colorbox);\r\n        $(colorbox).jqxColorPicker({\r\n            width: '200px',\r\n            height: '220px',\r\n            colorMode: 'hue'\r\n        });\r\n        $(colorbox).on('colorchange', function (e) {\r\n            $(div).jqxDropDownButton('setContent', that.getTextElementByColor(e.args.color));\r\n            that.helpers.handleClick(menuItem.name, e.args.color, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownButton({\r\n            width: 'inherit'\r\n        });\r\n        var color = this.helpers.getState(menuItem.name, index);\r\n\r\n        var parsedColor = $.color.parse(color);\r\n\r\n        $(div).jqxDropDownButton('setContent', this.getTextElementByColor(new $.jqx.color({ rgb: parsedColor })));\r\n    };\r\n\r\n    proto.addCheckBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn = $(div).jqxCheckBox();\r\n        btn.className = 'legend-checkbox';\r\n        $(btn).on('change', function (e) {\r\n            that.helpers.handleClick(menuItem.name, e.args.checked, index);\r\n        });\r\n        var state = that.helpers.getState(menuItem.name, index);\r\n        if (state !== undefined) {\r\n            $(btn).jqxCheckBox({ checked: state });\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Light Plot Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n/**\r\n## ni-light-plot-legend\r\n\r\n> A custom element that provides a light legend for showing plot icons and names.\r\n\r\nUse it to visualize the plots of a graph or chart element.\r\n\r\nIt provides an svg image with all the plots of the graphs.\r\n\r\nBy changing position attribute you can place the legend over graph(\"nw\", \"ne\", \"sw\", \"se\"), or\r\ninside a container(\"container\"). Default is \"container\".\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph graph-ref=\"g1\" value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n    <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n    <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n    <ni-cartesian-plot show label=\"Prime Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n    <ni-cartesian-plot show label=\"Fibonacci Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n</ni-cartesian-graph>\r\n\r\n<ni-light-plot-legend show graph-ref=\"g1\" position=\"ne\"></ni-light-plot-legend>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    class LightPlotLegend extends window.JQX.BaseElement {\r\n        /**### ni-light-plot-legend properties*/\r\n\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n                /** **show** (boolean) - the visibility of the plot legend. Default: false.\r\n                 Accepted values: true, false*/\r\n                'show': {\r\n                    value: false,\r\n                    type: 'boolean'\r\n                },\r\n                /** **graph-ref** (string) - the graph id to connect to. Default: ''.*/\r\n                'graphRef': {\r\n                    value: '',\r\n                    type: 'string'\r\n                },\r\n                /** **position** (string) - the position where the legend will be placed. Default: 'container'.\r\n                 Accepted values: 'nw', 'ne', 'sw', 'se', 'container'*/\r\n                'position': {\r\n                    value: 'container',\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        }\r\n\r\n        findGraph() {\r\n            return document.querySelector('ni-cartesian-graph[graph-ref=\\'' + this.graphRef + '\\']') ||\r\n                document.querySelector('ni-chart[graph-ref=\\'' + this.graphRef + '\\']');\r\n        }\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n            var graphElement = this.findGraph();\r\n            switch (propertyName) {\r\n                case 'position':\r\n                    while (this.hasChildNodes()) {\r\n                        this.removeChild(this.firstChild);\r\n                    }\r\n                    break;\r\n                case 'show':\r\n                    while (this.hasChildNodes()) {\r\n                        this.removeChild(this.firstChild);\r\n                    }\r\n                    break;\r\n            }\r\n            if (graphElement) {\r\n                graphElement.updateGraphConfig();\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-light-plot-legend', LightPlotLegend);\r\n}());\r\n\r\nJQX.Elements.whenRegistered('ni-cartesian-graph', function(proto) {\r\n    proto.addModule(NILightLegendModule);\r\n});\r\n\r\nJQX.Elements.whenRegistered('ni-chart', function(proto) {\r\n    proto.addModule(NILightLegendModule);\r\n});\r\n\r\nclass NILightLegendModule {\r\n    static get moduleName() {\r\n        return 'NILightLegendModule';\r\n    }\r\n\r\n    getSettings() {\r\n        var settings = this.ownerElement.getSettingsWorkaround();\r\n        var legend = this.findLegend(this.ownerElement.graphRef);\r\n\r\n        if (!legend) {\r\n            return settings;\r\n        }\r\n\r\n        function getLegendContainer(legend) {\r\n            var container = null;\r\n            if (legend.position !== \"nw\" &&\r\n                legend.position !== \"ne\" &&\r\n                legend.position !== \"sw\" &&\r\n                legend.position !== \"se\") {\r\n                if (legend.hasChildNodes()) {\r\n                    container = legend.lastChild;\r\n                } else {\r\n                    container = document.createElement('div');\r\n                    legend.appendChild(container);\r\n                }\r\n            }\r\n\r\n            return container;\r\n        }\r\n\r\n        var legendSettings = {\r\n            show: legend.show,\r\n            container: getLegendContainer(legend), // container (as jQuery object) to put legend in, null means default on top of graph\r\n            position: legend.position,\r\n            margin: 5 // distance from grid edge to default legend container within plot\r\n        };\r\n\r\n        settings.legend = legendSettings;\r\n        return settings;\r\n    }\r\n\r\n    findLegend(graphRef) {\r\n        return document.querySelector('ni-light-plot-legend[graph-ref=\\'' + graphRef + '\\']');\r\n    }\r\n}\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n/**\r\n## ni-plot-legend\r\n\r\n> A custom element that provides a plot legend.\r\n\r\nUse it to visualize and change the plots of a graph or chart element.\r\n\r\nIt provides an expandable list with all the plots of the graphs.\r\n\r\nExpand one of the plots and you get a panel where you can control the\r\nparameters of the plot - like plot style, line width, dash style, colors ...\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph graph-ref=\"g1\" value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n    <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n    <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n    <ni-cartesian-plot show label=\"Prime Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n    <ni-cartesian-plot show label=\"Fibonacci Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n</ni-cartesian-graph>\r\n\r\n<ni-plot-legend graph-ref=\"g1\" mode=\"pan\"></ni-plot-legend>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // create a view for a new plot at the end of the legend.\r\n    var createLegendRow = function(legend) {\r\n        legend.createRow(legend.tbl, legend.nPlots);\r\n        legend.helpers.addRenderer(legend.nPlots);\r\n        legend.nPlots++;\r\n    };\r\n\r\n    // remove the view for the plot at the specified index\r\n    var removeLegendRow = function(legend, index) {\r\n        legend.removeRow(legend.tbl, index);\r\n        legend.helpers.clearRenderer(index);\r\n        legend.nPlots--;\r\n    };\r\n\r\n    class PlotLegend extends NationalInstruments.HtmlVI.Elements.GraphLegend {\r\n        /**### ni-plot-legend properties*/\r\n\r\n        /// include ./ni-graph-legend.js\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n                /** **mode** (string) - the mode of the plot legend. Default: 'full'.\r\n                When in 'compact mode' only the plot icon and the plot name are shown.\r\n                In full mode you can expand the plots and can fully configure them at runtime.\r\n\r\n                Accepted values: 'full', 'compact' */\r\n                'mode': {\r\n                    value: 'full',\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        }\r\n\r\n        created() {\r\n            super.created();\r\n\r\n            this.tbl = undefined;\r\n            this.nPlots = 0;\r\n            this.currentExpander = null;\r\n            this.helpers = new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers();\r\n            this.plotLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers);\r\n            this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.plotLegendItemDisplay);\r\n            this.deferLegendUpdates = false;\r\n        };\r\n\r\n        // respond to a plot add (unless the updates are defered)\r\n        plotAdded() {\r\n            if (!this.deferLegendUpdates) {\r\n                createLegendRow(this);\r\n            }\r\n        };\r\n\r\n        // respond to a plot remove (unless the updates are defered)\r\n        plotRemoved(index) {\r\n            if (!this.deferLegendUpdates) {\r\n                removeLegendRow(this, index);\r\n            }\r\n        };\r\n\r\n        // call syncPlotLegendWithGraph from time to time, when the updates are defered, to\r\n        // synchronize the legend with the current state of the plots in the graph.\r\n        syncPlotLegendWithGraph() {\r\n            if (this.deferLegendUpdates) {\r\n                var graph = this.findGraph();\r\n                if (!graph) {\r\n                    return;\r\n                }\r\n\r\n                var graphPlots = graph.plots.length;\r\n\r\n                while (graphPlots < this.nPlots) {\r\n                    var index = this.nPlots - 1;\r\n                    removeLegendRow(this, index);\r\n                }\r\n\r\n                while (graphPlots > this.nPlots) {\r\n                    createLegendRow(this);\r\n                }\r\n            }\r\n        };\r\n\r\n        createRows() {\r\n            var i;\r\n            for (i = 0; i < this.nPlots; i++) {\r\n                this.createRow(this.tbl, i);\r\n            }\r\n        };\r\n\r\n        removeRows() {\r\n            var i;\r\n            for (i = this.nPlots - 1; i >= 0; i--) {\r\n                this.removeRow(this.tbl, i);\r\n            }\r\n        };\r\n\r\n        throttlePlotUpdates(enableThrottling) {\r\n            var graph = this.findGraph();\r\n            if (graph !== null) {\r\n                graph.throttlePlotUpdates(enableThrottling);\r\n                this.deferLegendUpdates = enableThrottling;\r\n            }\r\n        };\r\n\r\n        attachToGraph(graphElement) {\r\n            this.detachFromGraph();\r\n            if (graphElement && graphElement.isReady) {\r\n                this.helpers.graph = graphElement;\r\n                this.nPlots = graphElement.plots.length;\r\n                this.createRows();\r\n                graphElement.registerPlotLegend(this);\r\n            }\r\n        };\r\n\r\n        detachFromGraph() {\r\n            this.helpers.clearCache();\r\n            this.helpers.graph = null;\r\n            this.removeRows();\r\n            this.nPlots = 0;\r\n        };\r\n\r\n        attached() {\r\n            var childElement,\r\n                that = this;\r\n\r\n            super.attached();\r\n\r\n            this.helpers.graph = this.findGraph();\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.overflowX = 'auto';\r\n            childElement.style.overflowY = 'hidden';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.style.width = '100%';\r\n            this.tbl.style.height = '100%';\r\n            childElement.appendChild(this.tbl);\r\n\r\n            this.addEventListener('ni-cartesian-plot-attached', function() {\r\n                that.plotAdded();\r\n                that.helpers.clearCache(); // clears the renderer cache\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-detached', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.getIndex(source);\r\n\r\n                that.plotRemoved(index);\r\n                that.helpers.clearCache(); // clears the renderer cache\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-changed', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.getIndex(source);\r\n                that.updatePlotName(index, that.helpers.getPlotName(index));\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-changed', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we gat a plot as a source\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-attached', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n\r\n                that.helpers.clearCache(); // clears the renderers cache\r\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we got a plot as a source\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-detached', function(evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n\r\n                that.helpers.clearCache(); // clears the renderers cache\r\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we got a plot as a source\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            // update the entries in plot legend based on data series length\r\n            // The legend will apply this updates only at runtime in compact mode\r\n            this.addEventListener('ni-plot-count-changed', function(evt) {\r\n                var source = evt.detail.originalSource;\r\n                if (that.mode === \"compact\") {\r\n                    while (source.plotCount < that.nPlots) {\r\n                        var index = that.nPlots - 1;\r\n                        removeLegendRow(that, index);\r\n                    }\r\n                    while (source.plotCount > that.nPlots) {\r\n                        createLegendRow(that);\r\n                    }\r\n                }\r\n            });\r\n\r\n            var graph = this.findGraph();\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        };\r\n\r\n        createRow(tbl, index) {\r\n            var that = this;\r\n            var tr, exp, header, content, div, plotName, p, span;\r\n\r\n            tr = document.createElement('tr');\r\n            tbl.appendChild(tr);\r\n            exp = document.createElement('div');\r\n            exp.id = 'expander' + index;\r\n            exp.className = 'ni-plot-legend-box';\r\n            tr.appendChild(exp);\r\n            header = document.createElement('div');\r\n            header.id = 'header' + index;\r\n            header.className = 'ni-master-row';\r\n            exp.appendChild(header);\r\n\r\n            div = document.createElement('div');\r\n            div.className = 'ni-plot-display';\r\n            header.appendChild(div);\r\n            this.plotLegendItemDisplay.createHeaderDisplay(div, index);\r\n            this.plotLegendItemDisplay.updateShape(index);\r\n\r\n            span = document.createElement('span');\r\n            span.className = 'ni-plot-title';\r\n\r\n            plotName = this.helpers.getPlotName(index);\r\n            if (this.mode === 'compact') {\r\n                if (!this.helpers.getPlot(index)) {\r\n                    plotName = 'Plot ' + (index + 1);\r\n                }\r\n            }\r\n\r\n            p = document.createTextNode(plotName);\r\n            span.appendChild(p);\r\n            header.appendChild(span);\r\n\r\n            content = document.createElement('div');\r\n            content.id = 'content' + index;\r\n            content.className = 'ni-details-box';\r\n            exp.appendChild(content);\r\n\r\n            if (this.mode === 'full') {\r\n                $(exp).jqxExpander({\r\n                    expanded: false,\r\n                    disabled: this.isInEditMode,\r\n                    expandAnimationDuration: 50,\r\n                    collapseAnimationDuration: 50,\r\n                    initContent: function() {\r\n                        that.loadContent(content, index);\r\n                    }\r\n                });\r\n\r\n                $(exp).on('expanded', function() {\r\n                    if (this !== that.currentExpander) {\r\n                        var expander = that.currentExpander;\r\n                        that.currentExpander = this;\r\n                        if (expander !== null) {\r\n                            $(expander).jqxExpander({\r\n                                expanded: false\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            this.applyFont();\r\n        };\r\n\r\n        updatePlotName(index, name) {\r\n            var titles = $(this.tbl).find('.ni-plot-title');\r\n            $(titles[index]).text(name);\r\n        };\r\n\r\n        loadContent(content, index) {\r\n            var tbl, tr, j, span, p, td1, td2, div;\r\n            content.style.height = ((this.helpers.menu.length + 1) * 30) + 10 + 'px';\r\n            tbl = document.createElement('table');\r\n            tbl.className = 'ni-details';\r\n            content.appendChild(tbl);\r\n\r\n            for (j = 0; j < this.helpers.menu.length; j++) {\r\n                var menuItem = this.helpers.menu[j];\r\n                tr = document.createElement('tr');\r\n                tr.className = 'ni-details-row ' + (menuItem.cssClass || '');\r\n                tbl.appendChild(tr);\r\n                td1 = document.createElement('td');\r\n                td1.className = 'ni-detail-row-title-box';\r\n                tr.appendChild(td1);\r\n                span = document.createElement('span');\r\n                span.className = 'ni-detail-row-title';\r\n                td1.appendChild(span);\r\n                var text = NI_SUPPORT.i18n(menuItem.tag);\r\n                if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                    text = menuItem.name + '!';\r\n                }\r\n\r\n                p = document.createTextNode(text);\r\n                span.appendChild(p);\r\n                td2 = document.createElement('td');\r\n                td2.className = 'ni-details-row-operations-box';\r\n                tr.appendChild(td2);\r\n                switch (menuItem.type) {\r\n                    case 'buttons':\r\n                        this.uihelpers.addButtons(menuItem, td2, index);\r\n                        break;\r\n                    case 'combobox':\r\n                        div = document.createElement('div');\r\n                        div.className = 'ni-selector';\r\n                        td2.appendChild(div);\r\n                        this.uihelpers.addComboBox(menuItem, div, index, 60);\r\n                        break;\r\n                    case 'colorbox':\r\n                        div = document.createElement('div');\r\n                        div.className = 'ni-colorbox-selector ni-selector';\r\n                        td2.appendChild(div);\r\n                        this.uihelpers.addColorBox(menuItem, div, index);\r\n                        break;\r\n                    case 'checkbox':\r\n                        div = document.createElement('div');\r\n                        div.className = 'ni-hover-box';\r\n                        td2.appendChild(div);\r\n                        this.uihelpers.addCheckBox(menuItem, div, index);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n\r\n        removeRow(tbl, index) {\r\n            var row = tbl.children[index];\r\n            this.plotLegendItemDisplay.removeHeaderDisplay(null, index);\r\n            if (row !== null && row !== undefined) {\r\n                tbl.removeChild(row);\r\n            }\r\n        };\r\n\r\n        setFont(fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\r\n            var childElement = this.firstElementChild,\r\n                thisRef = $(this),\r\n                jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n                jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n                jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n            thisRef.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n\r\n            jqrefContent.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemContentTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        applyFont() {\r\n            var childElement = this.firstElementChild,\r\n                jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n                jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n                jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n            var fontSize = $(this).css('font-size');\r\n            var fontFamily = $(this).css('font-family');\r\n            var fontWeight = $(this).css('font-weight');\r\n            var fontStyle = $(this).css('font-style');\r\n            jqrefContent.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemContentTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            switch (propertyName) {\r\n                case 'graphRef':\r\n                    // TODO: add a plot-legend-detached event for parent graph\r\n                    this.helpers.graph.plotLegend = null;\r\n                    var graphElement = this.findGraph();\r\n                    this.attachToGraph(graphElement);\r\n\r\n                    break;\r\n                case 'isInEditMode':\r\n                    // this changes once after the element is created\r\n                    this.helpers.isInEditMode = this.isInEditMode;\r\n                    $(this.tbl).find('.ni-plot-legend-box').each(function() {\r\n                        $(this).jqxExpander({\r\n                            disabled: this.isInEditMode\r\n                        });\r\n                    });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-plot-legend', PlotLegend);\r\n}());\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendHelpers = function () {\r\n        this.graph = null;\r\n        this.isInEditMode = false;\r\n        this.defaultPlotColors = window.JQX.CartesianGraph.defaultPlotColors;\r\n\r\n        // values that are used for the dasharray attribute of the line\r\n        this.lineStyleValues = {\r\n            dot: '1, 2',\r\n            dashdot: '3, 3, 1, 3',\r\n            mediumdash: '3, 3',\r\n            largedash: '5, 4',\r\n            solid: '0'\r\n        };\r\n        this.renderers = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.menu = [\r\n        {\r\n            name: 'Plot Style',\r\n            tag: 'msg_plotstyle',\r\n            type: 'buttons',\r\n            children: [\r\n                { name: 'Line', tag: 'msg_line', cssClass: 'ni-line-style-icon' },\r\n                { name: 'Point', tag: 'msg_point', cssClass: 'ni-point-style-icon' },\r\n                { name: 'Line & Point', tag: 'msg_lineandpoint', cssClass: 'ni-line-and-point-style-icon' },\r\n                { name: 'Bar', tag: 'msg_bar', cssClass: 'ni-bar-style-icon' },\r\n                { name: 'Fill', tag: 'msg_fill', cssClass: 'ni-fill-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Point Style',\r\n            tag: 'msg_pointstyle',\r\n            type: 'buttons',\r\n            children: [\r\n                { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\r\n                { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\r\n                { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\r\n                { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\r\n                { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Width',\r\n            tag: 'msg_linewidth',\r\n            cssClass: 'line_width',\r\n            type: 'combobox',\r\n            children: [\r\n                { name: 'No line', tag: 'msg_noline', cssClass: '' },\r\n                { name: '1-pixel', tag: 'msg_1pixel', cssClass: 'ni-1-pixel-line-width-icon' },\r\n                { name: '2-pixels', tag: 'msg_2pixels', cssClass: 'ni-2-pixels-line-width-icon' },\r\n                { name: '3-pixels', tag: 'msg_3pixels', cssClass: 'ni-3-pixels-line-width-icon' },\r\n                { name: '4-pixels', tag: 'msg_4pixels', cssClass: 'ni-4-pixels-line-width-icon' },\r\n                { name: '5-pixels', tag: 'msg_5pixels', cssClass: 'ni-5-pixels-line-width-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Style',\r\n            tag: 'msg_linestyle',\r\n            cssClass: 'line_style',\r\n            type: 'combobox',\r\n            children: [\r\n                { name: 'No style', tag: 'msg_nostyle', cssClass: '' },\r\n                { name: 'Solid', tag: 'msg_solid', cssClass: 'ni-solid-line-style-icon' },\r\n                { name: 'Dot', tag: 'msg_dot', cssClass: 'ni-dot-line-style-icon' },\r\n                { name: 'Dot-dash', tag: 'msg_dashdot', cssClass: 'ni-dot-dash-line-style-icon' },\r\n                { name: 'Medium dash', tag: 'msg_mediumdash', cssClass: 'ni-medium-dash-line-style-icon' },\r\n                { name: 'Large dash', tag: 'msg_largedash', cssClass: 'ni-large-dash-line-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Fill Baseline',\r\n            tag: 'msg_fillbaseline',\r\n            type: 'buttons',\r\n            children: [\r\n                { name: 'Zero', tag: 'msg_zero', cssClass: 'ni-fill-to-zero-style-icon' },\r\n                { name: '-Inf', tag: 'msg_neginf', cssClass: 'ni-fill-base-line-negative-infinity-icon' },\r\n                { name: 'Inf', tag: 'msg_inf', cssClass: 'ni-fill-base-line-positive-infinity-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Color',\r\n            tag: 'msg_color',\r\n            type: 'colorbox',\r\n            children: []\r\n        },\r\n        {\r\n            name: 'Hover',\r\n            tag: 'msg_hover',\r\n            cssClass: 'hover',\r\n            type: 'checkbox',\r\n            children: []\r\n        }\r\n    ];\r\n\r\n    proto.addRenderer = function () {\r\n    };\r\n\r\n    proto.clearRenderer = function (index) {\r\n        this.renderers[index] = null;\r\n    };\r\n\r\n    proto.clearCache = function () {\r\n        for (var i = 0; i < this.renderers.length; i++) {\r\n            this.renderers[i] = null;\r\n        }\r\n    };\r\n\r\n    proto.getPlot = function (index) {\r\n        var i = 0;\r\n        var plot = null;\r\n        var graph = this.graph;\r\n\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    if (i === index) {\r\n                        plot = graph.childNodes[child];\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return plot;\r\n    };\r\n\r\n    proto.getIndex = function (plot) {\r\n        var index, graph;\r\n        // graph = this.graph;\r\n        graph = plot._parentGraph;\r\n        if (graph !== null) {\r\n            index = graph.plots.indexOf(plot);\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.getPlotName = function (index) {\r\n        var plot = this.getPlot(index);\r\n\r\n        if (plot && (typeof plot.label === 'string')) {\r\n            return plot.label;\r\n        } else {\r\n            return NI_SUPPORT.i18n('msg_defaultplotname');\r\n        }\r\n    };\r\n\r\n    proto.getRenderer = function (index) {\r\n        var plot = null;\r\n        var renderer = null;\r\n        if (this.renderers[index] === null || this.renderers[index] === undefined) {\r\n            plot = this.getPlot(index);\r\n\r\n            if (plot !== null) {\r\n                renderer = plot.lastElementChild;\r\n            }\r\n\r\n            if (renderer === null) {\r\n                return null;\r\n            }\r\n\r\n            this.renderers[index] = renderer;\r\n        }\r\n\r\n        return this.renderers[index];\r\n    };\r\n\r\n    proto.rendererToIndex = function (renderer) {\r\n        var i = 0, index, graph, child, currentRenderer;\r\n        graph = this.graph;\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    currentRenderer = graph.childNodes[child].lastElementChild;\r\n                    if (currentRenderer === renderer) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var initialColor = '';\r\n            var plot;\r\n            var renderer = this.getRenderer(index);\r\n            if (renderer === null) {\r\n                return;\r\n            }\r\n\r\n            if (renderer.lineStroke !== '') {\r\n                initialColor = renderer.lineStroke;\r\n            }\r\n\r\n            if (renderer.pointColor !== '') {\r\n                initialColor = renderer.pointColor;\r\n            }\r\n\r\n            if (renderer.barFill !== '') {\r\n                initialColor = renderer.barFill;\r\n            }\r\n\r\n            if (renderer.areaFill !== '') {\r\n                initialColor = renderer.areaFill;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'No line':\r\n                    renderer.lineWidth = 0;\r\n                    break;\r\n                case '1-pixel':\r\n                    renderer.lineWidth = 1;\r\n                    break;\r\n                case '2-pixels':\r\n                    renderer.lineWidth = 2;\r\n                    break;\r\n                case '3-pixels':\r\n                    renderer.lineWidth = 3;\r\n                    break;\r\n                case '4-pixels':\r\n                    renderer.lineWidth = 4;\r\n                    break;\r\n                case '5-pixels':\r\n                    renderer.lineWidth = 5;\r\n                    break;\r\n                case 'Line':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Point':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Line & Point':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Bar':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = initialColor;\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Fill':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = initialColor;\r\n                    break;\r\n                case 'Ellipse':\r\n                    renderer.pointShape = 'ellipse';\r\n                    break;\r\n                case 'Rectangle':\r\n                    renderer.pointShape = 'rectangle';\r\n                    break;\r\n                case 'Diamond':\r\n                    renderer.pointShape = 'diamond';\r\n                    break;\r\n                case 'Cross':\r\n                    renderer.pointShape = 'cross';\r\n                    break;\r\n                case 'Plus':\r\n                    renderer.pointShape = 'plus';\r\n                    break;\r\n                case 'No style':\r\n                    renderer.lineStyle = '';\r\n                    break;\r\n                case 'Solid':\r\n                    renderer.lineStyle = 'solid';\r\n                    break;\r\n                case 'Dot':\r\n                    renderer.lineStyle = 'dot';\r\n                    break;\r\n                case 'Dot-dash':\r\n                    renderer.lineStyle = 'dashdot';\r\n                    break;\r\n                case 'Medium dash':\r\n                    renderer.lineStyle = 'mediumdash';\r\n                    break;\r\n                case 'Large dash':\r\n                    renderer.lineStyle = 'largedash';\r\n                    break;\r\n                case 'Zero':\r\n                    renderer.areaBaseLine = 'zero';\r\n                    renderer.barBaseLine = 'zero';\r\n                    break;\r\n                case '-Inf':\r\n                    renderer.areaBaseLine = 'negativeinfinity';\r\n                    renderer.barBaseLine = 'negativeinfinity';\r\n                    break;\r\n                case 'Inf':\r\n                    renderer.areaBaseLine = 'positiveinfinity';\r\n                    renderer.barBaseLine = 'positiveinfinity';\r\n                    break;\r\n                case 'Color':\r\n                    if (renderer.lineStroke !== '') {\r\n                        renderer.lineStroke = '#' + arg.hex;\r\n                    } else if (renderer.pointColor !== '') {\r\n                        renderer.pointColor = '#' + arg.hex;\r\n                    } else if (renderer.barFill !== '') {\r\n                        renderer.barFill = '#' + arg.hex;\r\n                    } else if (renderer.areaFill !== '') {\r\n                        renderer.areaFill = '#' + arg.hex;\r\n                    }\r\n\r\n                    break;\r\n                case 'Hover':\r\n                    plot = this.getPlot(index);\r\n                    plot.enableHover = arg;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var plot;\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'No line':\r\n                state = renderer.lineWidth === 0;\r\n                break;\r\n            case '1-pixel':\r\n                state = renderer.lineWidth === 1;\r\n                break;\r\n            case '2-pixels':\r\n                state = renderer.lineWidth === 2;\r\n                break;\r\n            case '3-pixels':\r\n                state = renderer.lineWidth === 3;\r\n                break;\r\n            case '4-pixels':\r\n                state = renderer.lineWidth === 4;\r\n                break;\r\n            case '5-pixels':\r\n                state = renderer.lineWidth === 5;\r\n                break;\r\n            case 'Line':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor === '';\r\n                break;\r\n            case 'Point':\r\n                state = renderer.lineStroke === '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Line & Point':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Bar':\r\n                state = renderer.barFill !== '';\r\n                break;\r\n            case 'Fill':\r\n                state = renderer.areaFill !== '';\r\n                break;\r\n            case 'Ellipse':\r\n                state = renderer.pointShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = renderer.pointShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = renderer.pointShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = renderer.pointShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = renderer.pointShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = renderer.lineStyle === '';\r\n                break;\r\n            case 'Solid':\r\n                state = renderer.lineStyle === 'solid';\r\n                break;\r\n            case 'Dot':\r\n                state = renderer.lineStyle === 'dot';\r\n                break;\r\n            case 'Dot-dash':\r\n                state = renderer.lineStyle === 'dashdot';\r\n                break;\r\n            case 'Medium dash':\r\n                state = renderer.lineStyle === 'mediumdash';\r\n                break;\r\n            case 'Large dash':\r\n                state = renderer.lineStyle === 'largedash';\r\n                break;\r\n            case 'Zero':\r\n                state = renderer.barFill !== '' ? renderer.barBaseLine === 'zero' || renderer.barBaseLine === '' : renderer.areaBaseLine === 'zero' || renderer.areaBaseLine === '';\r\n                break;\r\n            case '-Inf':\r\n                state = renderer.barFill !== '' ? renderer.barBaseLine === 'negativeinfinity' : renderer.areaBaseLine === 'negativeinfinity';\r\n                break;\r\n            case 'Inf':\r\n                state = renderer.barFill !== '' ? renderer.barBaseLine === 'positiveinfinity' : renderer.areaBaseLine === 'positiveinfinity';\r\n                break;\r\n            case 'Color':\r\n                state = this.getPlotColorFromRenderer(renderer);\r\n                break;\r\n            case 'Hover':\r\n                plot = this.getPlot(index);\r\n                state = plot.enableHover;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getPlotColor = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return this.getPlotColorFromRenderer(renderer);\r\n        }\r\n\r\n        return this.defaultPlotColors[index % this.defaultPlotColors.length];\r\n    };\r\n\r\n    proto.getPlotColorFromRenderer = function (renderer) {\r\n        var state = 'rgba(0, 0, 0, 1)';\r\n        if (renderer.lineStroke !== '') {\r\n            state = renderer.lineStroke;\r\n        } else if (renderer.pointColor !== '') {\r\n            state = renderer.pointColor;\r\n        } else if (renderer.barFill !== '') {\r\n            state = renderer.barFill;\r\n        } else if (renderer.areaFill !== '') {\r\n            state = renderer.areaFill;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getLineWidth = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.lineWidth;\r\n        }\r\n\r\n        // Return the default line width if there is no renderer.\r\n        return 1;\r\n    };\r\n\r\n    proto.getLineShape = function (index) {\r\n        var lineShape = 'line';\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            if (renderer.lineStroke !== '' && renderer.pointColor === '') {\r\n                lineShape = 'line';\r\n            } else if (renderer.lineStroke === '' && renderer.pointColor !== '') {\r\n                lineShape = 'points';\r\n            } else if (renderer.lineStroke !== '' && renderer.pointColor !== '') {\r\n                lineShape = 'line & point';\r\n            } else if (renderer.barFill !== '') {\r\n                lineShape = 'bar';\r\n            } else if (renderer.areaFill !== '') {\r\n                lineShape = 'fill';\r\n            }\r\n        }\r\n\r\n        // Return the default line shape if there is no renderer.\r\n        return lineShape;\r\n    };\r\n\r\n    proto.getLineStyle = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            switch (renderer.lineStyle) {\r\n                case 'dot':\r\n                    return this.lineStyleValues.dot;\r\n                case 'dashdot':\r\n                    return this.lineStyleValues.dashdot;\r\n                case 'mediumdash':\r\n                    return this.lineStyleValues.mediumdash;\r\n                case 'largedash':\r\n                    return this.lineStyleValues.largedash;\r\n                default:\r\n                    return this.lineStyleValues.solid;\r\n            }\r\n        }\r\n\r\n        return '0';\r\n    };\r\n\r\n    proto.getPointShape = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.pointShape;\r\n        }\r\n\r\n        // Return the default point shape if there is no renderer.\r\n        return 'ellipse';\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay = function (helpers) {\r\n        this.pointTypes = [\r\n            { name: 'ellipse', creator: createEllipseShape },\r\n            { name: 'rectangle', creator: createRectangleShape },\r\n            { name: 'diamond', creator: createDiamondShape },\r\n            { name: 'cross', creator: createCrossShape },\r\n            { name: 'plus', creator: createPlusShape }\r\n        ];\r\n\r\n        this.lineTypes = [\r\n            { name: 'line', creator: createLine },\r\n            { name: 'fill', creator: createFillArea },\r\n            { name: 'bar', creator: createBars },\r\n            { name: 'points', creator: createPoints }\r\n        ];\r\n\r\n        this.shapes = [];\r\n        this.helpers = helpers;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.createHeaderDisplay = function (div, index) {\r\n        var svgns, svg;\r\n        svgns = 'http://www.w3.org/2000/svg';\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        div.appendChild(svg);\r\n\r\n        var shapesGroup = document.createElementNS(svgns, 'g');\r\n        var that = this;\r\n        svg.appendChild(shapesGroup);\r\n        this.shapes[index] = {};\r\n        this.shapes[index].shapesGroup = shapesGroup;\r\n\r\n        createLineTypes(index, shapesGroup, svgns, that);\r\n        shapesGroup.setAttribute('stroke', 'rgba(255, 0, 0, 1)');\r\n    };\r\n\r\n    proto.removeHeaderDisplay = function (div, index) {\r\n        this.shapes.splice(index, 1);\r\n    };\r\n\r\n    var createLineTypes = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var i;\r\n\r\n        for (i = 0; i < plotLegendItemDisplay.lineTypes.length; i++) {\r\n            plotLegendItemDisplay.lineTypes[i].creator(index, shapesGroup, svgns, plotLegendItemDisplay);\r\n        }\r\n    };\r\n\r\n    var createLine = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0');\r\n        shape.setAttribute('fill', 'none');\r\n        shape.setAttribute('stroke-width', plotLegendItemDisplay.helpers.getLineWidth(index));\r\n        shape.setAttribute('stroke-dasharray', plotLegendItemDisplay.helpers.getLineStyle(index));\r\n\r\n        shapesGroup.appendChild(shape);\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.line = shape;\r\n    };\r\n\r\n    var createFillArea = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0, 15,15, 0,15');\r\n        shape.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\r\n        shape.setAttribute('stroke-width', plotLegendItemDisplay.helpers.getLineWidth(index));\r\n        shape.setAttribute('visibility', 'hidden');\r\n\r\n        shapesGroup.appendChild(shape);\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.fill = shape;\r\n    };\r\n\r\n    var createBars = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5');\r\n        shape.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\r\n        shape.setAttribute('stroke-width', 1);\r\n        shape.setAttribute('visibility', 'hidden');\r\n\r\n        shapesGroup.appendChild(shape);\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.bar = shape;\r\n    };\r\n\r\n    var createPoints = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var i, j;\r\n        var group;\r\n        var points = [\r\n            { x: 0.5, y: 15.5 },\r\n            { x: 10.5, y: 10.5 },\r\n            { x: 5.5, y: 5.5 },\r\n            { x: 15.5, y: 0.5 }\r\n        ];\r\n        var shape;\r\n\r\n        var pointGroups = document.createElementNS(svgns, 'g');\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.points = pointGroups;\r\n        for (j = 0; j < plotLegendItemDisplay.pointTypes.length; j++) {\r\n            group = document.createElementNS(svgns, 'g');\r\n            for (i = 0; i < 4; i++) {\r\n                shape = plotLegendItemDisplay.pointTypes[j].creator(svgns, points[i], 4);\r\n                group.appendChild(shape);\r\n            }\r\n\r\n            group.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\r\n            group.setAttribute('stroke-width', 1);\r\n            group.setAttribute('visibility', 'hidden');\r\n            pointGroups.appendChild(group);\r\n            plotLegendItemDisplay.shapes[index].shapesGroup.points[plotLegendItemDisplay.pointTypes[j].name] = group;\r\n        }\r\n\r\n        shapesGroup.appendChild(pointGroups);\r\n    };\r\n\r\n    var createEllipseShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'circle');\r\n        shape.setAttribute('cx', center.x);\r\n        shape.setAttribute('cy', center.y);\r\n        shape.setAttribute('r', size / 2);\r\n        return shape;\r\n    };\r\n\r\n    var createRectangleShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'rect');\r\n        shape.setAttribute('x', center.x - size / 2);\r\n        shape.setAttribute('y', center.y - size / 2);\r\n        shape.setAttribute('width', size);\r\n        shape.setAttribute('height', size);\r\n        return shape;\r\n    };\r\n\r\n    var createDiamondShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += ' Z';\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    var createCrossShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x + size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x - size / 2) + ',' + (center.y + size / 2);\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    var createPlusShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    proto.updateLinesAttributes = function (index, group, color) {\r\n        var lineShape = this.helpers.getLineShape(index);\r\n\r\n        if (lineShape === 'line' || lineShape === 'line & point') {\r\n            group.line.setAttribute('stroke-width', this.helpers.getLineWidth(index));\r\n            group.line.setAttribute('stroke-dasharray', this.helpers.getLineStyle(index));\r\n        }\r\n\r\n        group.fill.setAttribute('fill', color);\r\n        group.bar.setAttribute('fill', color);\r\n        for (var i = 0; i < this.pointTypes.length; i++) {\r\n            group.points[this.pointTypes[i].name].setAttribute('fill', color);\r\n        }\r\n    };\r\n\r\n    proto.updatePointVisibility = function (index, group, currentLineShape) {\r\n        var currentPointShape = this.helpers.getPointShape(index);\r\n        for (var j = 0; j < this.pointTypes.length; j++) {\r\n            if (currentPointShape === this.pointTypes[j].name && (currentLineShape === 'line & point' || currentLineShape === 'points')) {\r\n                group.points[this.pointTypes[j].name].setAttribute('visibility', 'visible');\r\n            } else {\r\n                group.points[this.pointTypes[j].name].setAttribute('visibility', 'hidden');\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateVisibility = function (index, group) {\r\n        var currentLineShape = this.helpers.getLineShape(index);\r\n\r\n        for (var i = 0; i < this.lineTypes.length; i++) {\r\n            if (currentLineShape === this.lineTypes[i].name) {\r\n                group[this.lineTypes[i].name].setAttribute('visibility', 'visible');\r\n            } else {\r\n                group[this.lineTypes[i].name].setAttribute('visibility', 'hidden');\r\n            }\r\n        }\r\n\r\n        if (currentLineShape === 'line & point') {\r\n            group.line.setAttribute('visibility', 'visible');\r\n            group.points.setAttribute('visibility', 'visible');\r\n        }\r\n\r\n        this.updatePointVisibility(index, group, currentLineShape);\r\n    };\r\n\r\n    proto.updateShape = function (index) {\r\n        var shape = this.shapes[index];\r\n\r\n        if (shape === undefined || shape === null) {\r\n            return;\r\n        }\r\n\r\n        var color = this.helpers.getPlotColor(index);\r\n\r\n        this.updateLinesAttributes(index, shape.shapesGroup, color);\r\n        this.updateVisibility(index, shape.shapesGroup);\r\n        shape.shapesGroup.setAttribute('stroke', color);\r\n    };\r\n}());\r\n","//****************************************\r\n// Cursor Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n/**\r\n## ni-cursor-legend\r\n\r\n> A custom element that provides a cursor legend.\r\n\r\nUse it to visualize, add, remove and configure cursors. It can be attached to a graph or chart element.\r\n\r\nIt provides a list with all the cursors of the graphs and a way to add/remove cursors.\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph graph-ref=\"g1\" value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n    <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n    <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n    <ni-cartesian-plot show label=\"Prime Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n    <ni-cartesian-plot show label=\"Fibonacci Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n</ni-cartesian-graph>\r\n\r\n<ni-cursor-legend graph-ref=\"g1\" mode=\"pan\"></ni-cursor-legend>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    class CursorLegend extends NationalInstruments.HtmlVI.Elements.GraphLegend {\r\n        /**### ni-cursor-legend properties*/\r\n\r\n        /// include ./ni-graph-legend.js\r\n\r\n        created() {\r\n            super.created();\r\n\r\n            this.table = undefined;\r\n            this.selectedRow = null;\r\n            this.addButton = null;\r\n            this.deleteButton = null;\r\n            this.centerButton = null;\r\n            this.currentRow = null;\r\n            this.currentBtn = null;\r\n            this.observer = null;\r\n            this.helpers = new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers();\r\n            this.cursorLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers);\r\n            this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.cursorLegendItemDisplay);\r\n        };\r\n\r\n        cursorAdded(cursor) {\r\n            var that = this;\r\n            that.createRow(that.table, cursor);\r\n            that.helpers.cursorAdded(cursor);\r\n            //cursor.label = that.helpers.nextCursorName();\r\n            that.helpers.cursorPositionChanged(cursor, function(data) {\r\n                that.updatePosition(cursor, data);\r\n            });\r\n        };\r\n\r\n        updatePosition(cursor, data) {\r\n            if (!cursor._parentGraph) {\r\n                return;\r\n            }\r\n\r\n            var cursorNumber = cursor.niControlId,\r\n                xEl = this.querySelector('#x_' + cursorNumber),\r\n                yEl = this.querySelector('#y_' + cursorNumber),\r\n                plot = cursor._parentGraph.graph,\r\n                textValue = plot.formatCursorPosition(plot, cursor.cursor);\r\n\r\n            if (xEl !== null) {\r\n                xEl.innerText = textValue.xTextValue;\r\n            }\r\n\r\n            if (yEl !== null) {\r\n                yEl.innerText = textValue.yTextValue;\r\n            }\r\n        };\r\n\r\n        // cursor can be removed at runtime or edit time from legend, or at edit time from right rail\r\n        cursorRemoved(cursor) {\r\n            var index = this.helpers.getIndex(cursor);\r\n            if (index >= 0) {\r\n                $(this).find('.ni-master-row').eq(index).remove();\r\n                $(this).find('.ni-details-box').eq(index).remove();\r\n                this.cursorLegendItemDisplay.clearShape(index);\r\n                this.helpers.cursorRemoved(cursor);\r\n            }\r\n        };\r\n\r\n        cursorChanged(cursor) {\r\n            this.cursorLegendItemDisplay.updateShape(cursor);\r\n            this.updateName(cursor);\r\n            this.updateVisible(cursor);\r\n        };\r\n\r\n        updateName(cursor) {\r\n            $('#name_' + cursor.niControlId).text(this.helpers.getState('name', cursor));\r\n        };\r\n\r\n        updateVisible(cursor) {\r\n            var visible = this.helpers.getState('visible', cursor);\r\n            if (visible) {\r\n                $('#visible_' + cursor.niControlId).removeClass('ni-visibility-off-icon').addClass('ni-visibility-on-icon');\r\n            } else {\r\n                $('#visible_' + cursor.niControlId).removeClass('ni-visibility-on-icon').addClass('ni-visibility-off-icon');\r\n            }\r\n        };\r\n\r\n        attachToGraph(graphElement) {\r\n            this.detachFromGraph();\r\n            if (graphElement && graphElement.isReady) {\r\n                this.helpers.graph = graphElement;\r\n                graphElement.registerCursorLegend(this);\r\n            }\r\n        };\r\n\r\n        detachFromGraph() {\r\n            this.removeRows();\r\n            this.helpers.clearCache();\r\n            this.helpers.graph = null;\r\n        };\r\n\r\n        attached() {\r\n            super.attached();\r\n\r\n            var that = this;\r\n\r\n            that.helpers.graph = that.findGraph();\r\n            that.helpers.isInEditMode = that.isInEditMode;\r\n            var div = document.createElement('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.id = 'div' + NI_SUPPORT.uniqueId();\r\n            that.appendChild(div);\r\n            that.table = document.createElement('table');\r\n            that.table.className = 'ni-cursors-box';\r\n            div.appendChild(that.table);\r\n\r\n            var buttonsRow = document.createElement('div');\r\n            div.appendChild(buttonsRow);\r\n\r\n            var add = document.createElement('button');\r\n            add.className = 'ni-add-icon ni-command-button';\r\n            $(add).jqxButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            buttonsRow.appendChild(add);\r\n            that.addButton = add;\r\n            $(add).on('click', function() {\r\n                if (!that.isInEditMode) {\r\n                    that.helpers.addCursor();\r\n                }\r\n            });\r\n\r\n            that.addEventListener('ni-cursor-attached', function(evt) {\r\n                that.cursorAdded(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-detached', function(evt) {\r\n                that.cursorRemoved(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-changed', function(evt) {\r\n                that.cursorChanged(evt.detail.originalSource);\r\n            });\r\n\r\n            var graph = this.findGraph();\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        };\r\n\r\n        removeRows() {\r\n            var i;\r\n            for (i = this.helpers.cursors.length - 1; i >= 0; i--) {\r\n                var cursor = this.helpers.getCursor(i);\r\n                this.cursorRemoved(cursor);\r\n            }\r\n        };\r\n\r\n        createRow(table, cursor) {\r\n            var that = this;\r\n            var btn = that.createMainRow(table, cursor);\r\n            var row = that.createDetailsRow(table, cursor);\r\n            $(btn).on('click', function() {\r\n                if (that.currentRow !== row) {\r\n                    var currentRow = that.currentRow;\r\n                    var currentBtn = that.currentBtn;\r\n                    row.style.display = 'table-row';\r\n                    that.currentRow = row;\r\n                    btn.classList.remove('ni-closed-icon');\r\n                    btn.classList.add('ni-open-icon');\r\n                    that.currentBtn = btn;\r\n                    if (currentRow !== null) {\r\n                        currentRow.style.display = 'none';\r\n                    }\r\n\r\n                    if (currentBtn !== null) {\r\n                        currentBtn.classList.remove('ni-open-icon');\r\n                        currentBtn.classList.add('ni-closed-icon');\r\n                    }\r\n                } else {\r\n                    row.style.display = 'none';\r\n                    btn.classList.remove('ni-open-icon');\r\n                    btn.classList.add('ni-closed-icon');\r\n                    that.currentRow = null;\r\n                    that.currentBtn = null;\r\n                }\r\n            });\r\n            that.applyFont();\r\n        };\r\n\r\n        createMainRow(table, cursor) {\r\n            var that = this;\r\n            var cursorNumber;\r\n            cursorNumber = cursor.niControlId;\r\n\r\n            var tr, td0, td1, td2, td3, td4, span, p, display, button, showHideButton, visible;\r\n            tr = document.createElement('tr');\r\n            tr.className = 'ni-master-row';\r\n            table.appendChild(tr);\r\n\r\n            td0 = document.createElement('td');\r\n            td0.className = 'ni-expand-box';\r\n            tr.appendChild(td0);\r\n            showHideButton = document.createElement('input');\r\n            showHideButton.className = 'ni-expand-button ni-closed-icon';\r\n            showHideButton.type = 'button';\r\n            showHideButton.id = 'details_' + cursorNumber;\r\n            td0.appendChild(showHideButton);\r\n            $(showHideButton).jqxButton({\r\n                width: 20,\r\n                height: 20,\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-cursor-box';\r\n            tr.appendChild(td1);\r\n            display = that.cursorLegendItemDisplay.createHeaderDisplay(cursor);\r\n            if (display !== null) {\r\n                display.id = 'display_' + cursorNumber;\r\n                td1.appendChild(display);\r\n            }\r\n\r\n            span = document.createElement('span');\r\n            span.className = 'ni-cursor-title';\r\n            span.id = 'name_' + cursorNumber;\r\n            p = document.createTextNode(that.helpers.getState('name', cursor));\r\n            span.appendChild(p);\r\n            td1.appendChild(span);\r\n\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-x-box';\r\n            tr.appendChild(td2);\r\n            span = document.createElement('span');\r\n            span.className = 'ni-x-title';\r\n            span.id = 'x_' + cursorNumber;\r\n            p = document.createTextNode(parseFloat(that.helpers.getState('x', cursor)));\r\n            span.appendChild(p);\r\n            td2.appendChild(span);\r\n\r\n            td3 = document.createElement('td');\r\n            td3.className = 'ni-y-box';\r\n            tr.appendChild(td3);\r\n            span = document.createElement('span');\r\n            span.className = 'ni-y-title';\r\n            span.id = 'y_' + cursorNumber;\r\n            p = document.createTextNode(parseFloat(that.helpers.getState('y', cursor)));\r\n            span.appendChild(p);\r\n            td3.appendChild(span);\r\n\r\n            td4 = document.createElement('td');\r\n            td4.className = 'ni-actions-box';\r\n            tr.appendChild(td4);\r\n\r\n            button = document.createElement('input');\r\n            button.className = 'ni-delete-icon ni-action-button';\r\n            button.type = 'button';\r\n            button.id = 'delete' + cursorNumber;\r\n            td4.appendChild(button);\r\n            $(button).on('click', function() {\r\n                that.helpers.handleClick('delete', '', cursor);\r\n            });\r\n            $(button).jqxToggleButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            button = document.createElement('input');\r\n            button.className = 'ni-center-icon ni-action-button';\r\n            button.type = 'button';\r\n            button.id = 'center' + cursorNumber;\r\n            td4.appendChild(button);\r\n            $(button).on('click', function() {\r\n                that.helpers.handleClick('center', '', cursor);\r\n            });\r\n            $(button).jqxButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            button = document.createElement('input');\r\n            button.className = 'ni-snap-icon ni-action-button';\r\n            button.type = 'button';\r\n            button.id = 'snap_' + cursorNumber;\r\n            td4.appendChild(button);\r\n            $(button).on('click', function() {\r\n                that.helpers.handleClick('snap', '', cursor);\r\n            });\r\n            $(button).jqxToggleButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            button = document.createElement('input');\r\n            button.className = 'ni-visibility-button ni-action-button';\r\n            button.type = 'button';\r\n            button.id = 'visible_' + cursorNumber;\r\n            visible = that.helpers.getState('visible', cursor);\r\n            if (visible) {\r\n                button.classList.add('ni-visibility-on-icon');\r\n            } else {\r\n                button.classList.add('ni-visibility-off-icon');\r\n            }\r\n\r\n            $(button).on('click', function() {\r\n                that.helpers.handleClick('visible', '', cursor);\r\n            });\r\n\r\n            td4.appendChild(button);\r\n            $(button).jqxToggleButton({\r\n                disabled: that.isInEditMode\r\n            });\r\n\r\n            return showHideButton;\r\n        };\r\n\r\n        createDetailsItem(table, title, className) {\r\n            var tr, td1, td2, div, span, p;\r\n            tr = document.createElement('tr');\r\n            tr.className = 'ni-details-row';\r\n            table.appendChild(tr);\r\n\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-details-row-title-box';\r\n            tr.appendChild(td1);\r\n            span = document.createElement('span');\r\n            span.class = 'ni-details-row-title';\r\n            td1.appendChild(span);\r\n            p = document.createTextNode(title);\r\n            span.appendChild(p);\r\n\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-details-row-control-box';\r\n            tr.appendChild(td2);\r\n            div = document.createElement('div');\r\n            div.className = className;\r\n            td2.appendChild(div);\r\n            return div;\r\n        };\r\n\r\n        createDetailsRow(table, cursor) {\r\n            var subtable, tr, td, div;\r\n\r\n            tr = document.createElement('tr');\r\n            tr.className = 'ni-details-box';\r\n            tr.style.display = 'none';\r\n            table.appendChild(tr);\r\n\r\n            td = document.createElement('td');\r\n            td.colSpan = 5;\r\n            tr.appendChild(td);\r\n\r\n            subtable = document.createElement('table');\r\n            subtable.className = 'ni-details';\r\n            td.appendChild(subtable);\r\n\r\n            div = this.createDetailsItem(subtable, 'Color', 'ni-colorbox-selector ni-selector');\r\n            this.uihelpers.addColorBox({\r\n                name: 'Color'\r\n            }, div, cursor);\r\n\r\n            div = this.createDetailsItem(subtable, 'Shape', 'ni-shape-selector ni-selector');\r\n            this.uihelpers.addComboBox(this.helpers.getMenuItem('shape'), div, cursor, 16);\r\n\r\n            div = this.createDetailsItem(subtable, 'Crosshair', 'ni-crosshair-selector ni-selector');\r\n            this.uihelpers.addComboBox(this.helpers.getMenuItem('crosshair'), div, cursor, 16);\r\n\r\n            return tr;\r\n        };\r\n\r\n        setFont(fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\r\n            var childElement = this.firstElementChild,\r\n                thisRef = $(this),\r\n                jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n                jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n                jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n                jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n                jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n            thisRef.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n\r\n            jqrefContent.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemName.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemX.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemY.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemDetails.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        applyFont() {\r\n            var childElement = this.firstElementChild,\r\n                jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n                jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n                jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n                jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n                jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n            var fontSize = $(this).css('font-size');\r\n            var fontFamily = $(this).css('font-family');\r\n            var fontWeight = $(this).css('font-weight');\r\n            var fontStyle = $(this).css('font-style');\r\n            jqrefContent.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemName.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemX.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemY.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n            jqrefItemDetails.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            var that = this;\r\n\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            switch (propertyName) {\r\n                case 'graphRef':\r\n                    // TODO: add a cursor-legend-detached event for parent graph\r\n                    this.helpers.graph.cursorLegend = null;\r\n                    var graphElement = this.findGraph();\r\n                    this.attachToGraph(graphElement);\r\n                    break;\r\n                case 'isInEditMode':\r\n                    // this changes once after the element is created\r\n                    this.helpers.isInEditMode = this.isInEditMode;\r\n\r\n                    if (this.addButton !== null) {\r\n                        $(this.addButton).jqxButton({disabled: this.isInEditMode});\r\n                    }\r\n\r\n                    $(this.table).find('.ni-center-icon').each(function(button) {\r\n                        $(this).jqxButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    $(this.table).find('.ni-expand-button').each(function(button) {\r\n                        $(this).jqxButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    $(this.table).find('.ni-snap-icon').each(function(button) {\r\n                        $(this).jqxToggleButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    $(this.table).find('.ni-delete-icon').each(function(button) {\r\n                        $(this).jqxToggleButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    $(this.table).find('.ni-visibility-button').each(function(button) {\r\n                        $(this).jqxToggleButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-cursor-legend', CursorLegend);\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay = function (helpers) {\r\n        this.helpers = helpers;\r\n        this.items = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var svgns = 'http://www.w3.org/2000/svg';\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.clearShape = function (index) {\r\n        this.items.splice(index, 1);\r\n    };\r\n\r\n    //Methods\r\n    proto.createHeaderDisplay = function (cursor) {\r\n        var svg;\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('class', 'ni-cursor-display');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        this.addShapes(cursor, svg, svgns);\r\n        this.items.push(svg);\r\n        return svg;\r\n    };\r\n\r\n    proto.addShapes = function (cursor, svg, svgns) {\r\n        this.makeShape(cursor, svg, svgns);\r\n        this.makeCursorCross(cursor, svg, svgns);\r\n    };\r\n\r\n    proto.makeCursorCross = function (cursor, svg, svgns) {\r\n        var crosshair = cursor.crosshairStyle;\r\n\r\n        switch (crosshair) {\r\n            case 'none':\r\n                break;\r\n            case 'vertical':\r\n                this.makeLine(cursor, svg, svgns, '8', '1', '8', '4');\r\n                this.makeLine(cursor, svg, svgns, '8', '12', '8', '15');\r\n                break;\r\n            case 'horizontal':\r\n                this.makeLine(cursor, svg, svgns, '12', '8', '15', '8');\r\n                this.makeLine(cursor, svg, svgns, '1', '8', '4', '8');\r\n                break;\r\n            default:\r\n                this.makeLine(cursor, svg, svgns, '8', '1', '8', '4');\r\n                this.makeLine(cursor, svg, svgns, '12', '8', '15', '8');\r\n                this.makeLine(cursor, svg, svgns, '8', '12', '8', '15');\r\n                this.makeLine(cursor, svg, svgns, '1', '8', '4', '8');\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.makeShape = function (cursor, svg, svgns) {\r\n        var rect, circle,\r\n            shape = cursor.targetShape,\r\n            style = window.getComputedStyle(cursor),\r\n            color = style.color;\r\n        switch (shape) {\r\n            case 'ellipse':\r\n                circle = document.createElementNS(svgns, 'circle');\r\n                circle.setAttribute('cx', '8');\r\n                circle.setAttribute('cy', '8');\r\n                circle.setAttribute('r', '4');\r\n                circle.setAttribute('stroke', color);\r\n                circle.setAttribute('stroke-width', '1');\r\n                circle.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(circle);\r\n                break;\r\n            case 'rectangle':\r\n                rect = document.createElementNS(svgns, 'rect');\r\n                rect.setAttribute('x', '4');\r\n                rect.setAttribute('y', '4');\r\n                rect.setAttribute('width', '8');\r\n                rect.setAttribute('height', '8');\r\n                rect.setAttribute('stroke', color);\r\n                rect.setAttribute('stroke-width', '1');\r\n                rect.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(rect);\r\n                break;\r\n            case 'diamond':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '12', '8');\r\n                this.makeLine(cursor, svg, svgns, '12', '8', '8', '12');\r\n                this.makeLine(cursor, svg, svgns, '8', '12', '4', '8');\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '8', '4');\r\n                break;\r\n            case 'cross':\r\n                this.makeLine(cursor, svg, svgns, '4', '4', '12', '12');\r\n                this.makeLine(cursor, svg, svgns, '4', '12', '12', '4');\r\n                break;\r\n            case 'plus':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '8', '12');\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '12', '8');\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.makeLine = function (cursor, svg, svgns, x1, y1, x2, y2) {\r\n        var line = document.createElementNS(svgns, 'line'),\r\n            style = window.getComputedStyle(cursor),\r\n            color = style.color;\r\n        line.setAttribute('x1', x1);\r\n        line.setAttribute('y1', y1);\r\n        line.setAttribute('x2', x2);\r\n        line.setAttribute('y2', y2);\r\n        line.setAttribute('stroke', color);\r\n        line.setAttribute('stroke-width', 1);\r\n        svg.appendChild(line);\r\n    };\r\n\r\n    proto.updateShape = function (cursor) {\r\n        var index = this.helpers.getIndex(cursor);\r\n        var svg = this.items[index];\r\n\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        if (svg === undefined) {\r\n            return null;\r\n        }\r\n\r\n        while (svg.firstChild) {\r\n            svg.removeChild(svg.firstChild);\r\n        }\r\n\r\n        this.addShapes(cursor, svg, svgns);\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendHelpers = function () {\r\n        this.graph = null;\r\n        this.isInEditMode = false;\r\n        this.cursors = [];\r\n        this.defaultCursorName = NI_SUPPORT.i18n('msg_defaultcursorname');\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getMenuItem = function (name) {\r\n        if (name === 'shape') {\r\n            return {\r\n                name: 'Target Shape',\r\n                tag: 'msg_targetshape',\r\n                children: [\r\n                    { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\r\n                    { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\r\n                    { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\r\n                    { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\r\n                    { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\r\n                ]\r\n            };\r\n        } else if (name === 'crosshair') {\r\n            return {\r\n                name: 'Crosshair Style',\r\n                tag: 'msg_crosshairstyle',\r\n                children: [\r\n                    { name: 'No style', tag: 'msg_nostyle', cssClass: 'ni-no-crosshair-icon' },\r\n                    { name: 'Vertical', tag: 'msg_vertical', cssClass: 'ni-vertical-crosshair-icon' },\r\n                    { name: 'Horizontal', tag: 'msg_horizontal', cssClass: 'ni-horizontal-crosshair-icon' },\r\n                    { name: 'Both', tag: 'msg_both', cssClass: 'ni-both-crosshair-icon' }\r\n                ]\r\n            };\r\n        }\r\n    };\r\n\r\n    proto.cursorAdded = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i] === cursor ||\r\n                (cursor.niControlId != null && this.cursors[i].niControlId === cursor.niControlId)) {\r\n                return; // its already in the list\r\n            }\r\n        }\r\n\r\n        this.cursors.push(cursor);\r\n    };\r\n\r\n    // if cursor is not already removed from the list then remove it\r\n    proto.cursorRemoved = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i].niControlId === cursor.niControlId) {\r\n                this.cursors.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.addCursor = function () {\r\n        var graph = this.graph;\r\n        var cursor = document.createElement('ni-cursor');\r\n        cursor.niControlId = NI_SUPPORT.uniqueId();\r\n        cursor.show = true;\r\n        cursor.showValue = true;\r\n        this.cursors.push(cursor);\r\n        cursor.label = this.nextCursorName();\r\n        graph.appendChild(cursor);\r\n    };\r\n\r\n    proto.cursorPositionChanged = function (cursor, changed) {\r\n        // TODO mraj is undefined an expected value?\r\n        if (cursor === undefined) {\r\n            throw new Error('cursor is undefined');\r\n        }\r\n\r\n        $(cursor).on('cursorUpdated', function (e, data) {\r\n            changed(data);\r\n        });\r\n    };\r\n\r\n    proto.clearCache = function () {\r\n        this.cursors.length = 0;\r\n    };\r\n\r\n    proto.getCursor = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var cursor = null;\r\n        var child;\r\n        if (this.cursors[index] === null || this.cursors[index] === undefined) {\r\n            graph = this.graph;\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                        if (i === index) {\r\n                            cursor = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (cursor !== null) {\r\n                this.cursors[index] = cursor;\r\n            }\r\n        }\r\n\r\n        return this.cursors[index];\r\n    };\r\n\r\n    proto.nextCursorName = function () {\r\n        var maxIndex = 0, i, cursor;\r\n        var graph = this.graph;\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                    cursor = graph.childNodes[child];\r\n                    i = parseInt(cursor.label.substring(this.defaultCursorName.length));\r\n                    if (i > maxIndex) {\r\n                        maxIndex = i;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return this.defaultCursorName + ' ' + (maxIndex + 1);\r\n    };\r\n\r\n    proto.deleteCursor = function (cursor) {\r\n        var graph = this.graph;\r\n        if (cursor !== null && cursor !== undefined) {\r\n            graph.removeChild(cursor);\r\n        }\r\n    };\r\n\r\n    proto.getIndex = function (cursor) {\r\n        var i, index = -1;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i] !== null && cursor.niControlId === this.cursors[i].niControlId) {\r\n                index = i;\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, cursor) {\r\n        if (cursor === null && cursor === undefined) {\r\n            return;\r\n        }\r\n\r\n        switch (itemName) {\r\n            case 'name':\r\n                break;\r\n            case 'x':\r\n                break;\r\n            case 'y':\r\n                break;\r\n            case 'visible':\r\n                cursor.show = !cursor.show;\r\n                break;\r\n            case 'snap':\r\n                cursor.snapToPlot = cursor.snapToPlot !== -1 ? -1 : undefined;\r\n                break;\r\n            case 'center':\r\n                cursor.snapToPlot = undefined;\r\n                cursor.x = 0.5;\r\n                cursor.y = 0.5;\r\n                break;\r\n            case 'delete':\r\n                this.deleteCursor(cursor);\r\n                break;\r\n            case 'Ellipse':\r\n                cursor.targetShape = 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                cursor.targetShape = 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                cursor.targetShape = 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                cursor.targetShape = 'cross';\r\n                break;\r\n            case 'Plus':\r\n                cursor.targetShape = 'plus';\r\n                break;\r\n            case 'No style':\r\n                cursor.crosshairStyle = 'none';\r\n                break;\r\n            case 'Vertical':\r\n                cursor.crosshairStyle = 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                cursor.crosshairStyle = 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                cursor.crosshairStyle = 'both';\r\n                break;\r\n            case 'Color':\r\n                cursor.setColor('#' + arg.hex);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, cursor) {\r\n        if (cursor === null || cursor === undefined) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'name':\r\n                state = cursor.label;\r\n                break;\r\n            case 'x':\r\n                state = cursor.x;\r\n                break;\r\n            case 'y':\r\n                state = cursor.y;\r\n                break;\r\n            case 'visible':\r\n                state = cursor.show;\r\n                break;\r\n            case 'snap':\r\n                state = cursor.snapToPlot === -1;\r\n                break;\r\n            case 'center':\r\n                break;\r\n            case 'delete':\r\n                break;\r\n            case 'Ellipse':\r\n                state = cursor.targetShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = cursor.targetShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = cursor.targetShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = cursor.targetShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = cursor.targetShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = cursor.crosshairStyle === 'none';\r\n                break;\r\n            case 'Vertical':\r\n                state = cursor.crosshairStyle === 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                state = cursor.crosshairStyle === 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                state = cursor.crosshairStyle === 'both';\r\n                break;\r\n            case 'Color':\r\n                state = window.getComputedStyle(cursor).color;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getTargetShape = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.targetShape;\r\n        }\r\n\r\n        return 'ellipse';\r\n    };\r\n\r\n    proto.getCrosshair = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.crosshairStyle;\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Scale Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n/**\r\n## ni-scale-legend\r\n\r\n> A custom element that provides a scale legend.\r\n\r\nUse it to visualize and change the axis modes of a graph, chart or intensity graph element.\r\n\r\nIt provides a list with all the axes of the graphs.\r\n\r\nEach axis in the list has two buttons - one to turn on/off the autoscaling for that axis and\r\nthe other one sets the scale range to the data range (without changing the autoScale mode)\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph graph-ref=\"g1\" value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n    <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n    <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n    <ni-cartesian-plot show label=\"Prime Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n    <ni-cartesian-plot show label=\"Fibonacci Numbers\">\r\n        <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\r\n        </ni-cartesian-plot-renderer>\r\n    </ni-cartesian-plot>\r\n</ni-cartesian-graph>\r\n\r\n<ni-scale-legend graph-ref=\"g1\" mode=\"pan\"></ni-scale-legend>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    class ScaleLegend extends NationalInstruments.HtmlVI.Elements.GraphLegend {\r\n        created() {\r\n            super.created();\r\n\r\n            this.tbl = undefined;\r\n            this.nScales = 0;\r\n            this.currentExpander = null;\r\n            this.helpers = new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers();\r\n            this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, null);\r\n        };\r\n\r\n        scaleAdded(scale) {\r\n            var index = this.helpers.scaleToIndex(scale),\r\n                alreadyAdded = index < this.nScales;\r\n            if (!alreadyAdded) {\r\n                this.createRow(this.tbl, this.nScales);\r\n                this.helpers.addScale(this.nScales);\r\n                this.nScales++;\r\n            }\r\n        };\r\n\r\n        scaleRemoved(scale) {\r\n            var tr, td, text, i, j, index, toRemove = null;\r\n            j = 0;\r\n            for (i = 0; i < this.tbl.childNodes.length; i++) {\r\n                if (this.tbl.childNodes[i].localName === 'tr') {\r\n                    tr = this.tbl.childNodes[i];\r\n                    td = tr.childNodes[0];\r\n                    text = td.innerText;\r\n                    if (text === scale.label) {\r\n                        toRemove = tr;\r\n                        index = j;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                j++;\r\n            }\r\n\r\n            if (toRemove !== null) {\r\n                this.tbl.removeChild(toRemove);\r\n                this.helpers.clearScale(index);\r\n            }\r\n\r\n            this.nScales--;\r\n        };\r\n\r\n        createRows() {\r\n            var i;\r\n            for (i = 0; i < this.nScales; i++) {\r\n                this.createRow(this.tbl, i);\r\n            }\r\n        };\r\n\r\n        removeRows() {\r\n            var i;\r\n            for (i = this.nScales - 1; i >= 0; i--) {\r\n                var scale = this.helpers.getScale(i);\r\n                this.scaleRemoved(scale);\r\n            }\r\n        };\r\n\r\n        attachToGraph(graphElement) {\r\n            this.detachFromGraph();\r\n            if (graphElement && graphElement.isReady) {\r\n                this.helpers.graph = graphElement;\r\n                graphElement.registerScaleLegend(this);\r\n            }\r\n        };\r\n\r\n        detachFromGraph() {\r\n            this.helpers.graph = null;\r\n            this.helpers.clearScale();\r\n            this.removeRows();\r\n        };\r\n\r\n        attached() {\r\n            super.attached();\r\n            var childElement = document.createElement('div');\r\n            var that = this;\r\n\r\n            this.helpers.graph = this.findGraph();\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.className = 'ni-scale-legend-box';\r\n            childElement.appendChild(this.tbl);\r\n            this.addEventListener('ni-cartesian-axis-attached', function(evt) {\r\n                var scale = evt.detail.originalSource;\r\n                that.scaleAdded(scale);\r\n            });\r\n            this.addEventListener('ni-cartesian-axis-detached', function(evt) {\r\n                that.scaleRemoved(evt.detail.originalSource);\r\n            });\r\n            this.addEventListener('ni-axis-changed', function(evt) {\r\n                var scale = evt.detail.originalSource;\r\n                var index = that.helpers.scaleToIndex(scale);\r\n                var labels = $(this.tbl).find('.ni-row-title');\r\n                var lockButtons = $(this.tbl).find('.ni-lock-button');\r\n                $(labels[index]).first().text(scale.label);\r\n                this.setLockBackground(lockButtons[index], false, index);\r\n            });\r\n            var graph = this.findGraph();\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        };\r\n\r\n        createRow(tbl, index) {\r\n            var that = this;\r\n            var tr, td1, td2, td3, span, p, btnLock, btnResetOffset;\r\n\r\n            tr = document.createElement('tr');\r\n            tbl.appendChild(tr);\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-row-title-box';\r\n            tr.appendChild(td1);\r\n            span = document.createElement('span');\r\n            span.className = 'ni-row-title';\r\n            td1.appendChild(span);\r\n            var scaleName = that.helpers.getState('name', index);\r\n            p = document.createTextNode(scaleName);\r\n            span.appendChild(p);\r\n\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-lock-box';\r\n            tr.appendChild(td2);\r\n            btnLock = document.createElement('button');\r\n            btnLock.type = 'button';\r\n            btnLock.className = 'ni-lock-button ni-button';\r\n            $(btnLock).jqxToggleButton();\r\n            $(btnLock).jqxToggleButton({\r\n                disabled: !this.helpers.getState('canLock', index)\r\n            });\r\n            $(btnLock).on('click', function() {\r\n                that.helpers.handleClick('lock', index);\r\n                that.setLockBackground(btnLock, false, index);\r\n            });\r\n            that.setLockBackground(btnLock, true, index);\r\n            td2.appendChild(btnLock);\r\n\r\n            td3 = document.createElement('td');\r\n            td3.className = 'ni-reset-offset-box';\r\n            tr.appendChild(td3);\r\n            btnResetOffset = document.createElement('button');\r\n            btnResetOffset.type = 'button';\r\n            btnResetOffset.className = 'ni-reset-offset-icon ni-button';\r\n            $(btnResetOffset).on('click', function() {\r\n                that.helpers.handleClick('resetOffset', index);\r\n                that.setLockBackground(btnLock, false, index);\r\n            });\r\n            td3.appendChild(btnResetOffset);\r\n            this.applyFont();\r\n        };\r\n\r\n        setLockBackground(btn, first, index) {\r\n            var state = this.helpers.getState('lock', index);\r\n            if (state !== undefined) {\r\n                if (first === true) {\r\n                    $(btn).jqxToggleButton({\r\n                        'toggled': state\r\n                    });\r\n                }\r\n\r\n                if (state === true) {\r\n                    btn.classList.remove('ni-locked-icon');\r\n                    btn.classList.add('ni-unlocked-icon');\r\n                } else {\r\n                    btn.classList.remove('ni-unlocked-icon');\r\n                    btn.classList.add('ni-locked-icon');\r\n                }\r\n            }\r\n        };\r\n\r\n        setFont(fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\r\n            var childElement = this.firstElementChild,\r\n                thisRef = $(this),\r\n                jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n            thisRef.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n\r\n            jqrefItemTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        applyFont() {\r\n            var childElement = this.firstElementChild,\r\n                jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n            var fontSize = $(this).css('font-size');\r\n            var fontFamily = $(this).css('font-family');\r\n            var fontWeight = $(this).css('font-weight');\r\n            var fontStyle = $(this).css('font-style');\r\n\r\n            jqrefItemTitle.css({\r\n                'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle\r\n            });\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            var that = this;\r\n\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            switch (propertyName) {\r\n                case 'graphRef':\r\n                    // TODO: add a scale-legend-detached event for parent graph\r\n                    this.helpers.graph.scaleLegend = null;\r\n                    var graphElement = this.findGraph();\r\n                    this.attachToGraph(graphElement);\r\n                    break;\r\n                case 'isInEditMode':\r\n                    // this changes once after the element is created\r\n                    this.helpers.isInEditMode = this.isInEditMode;\r\n                    $(this.tbl).find('.ni-lock-button').each(function() {\r\n                        $(this).jqxToggleButton({\r\n                            disabled: that.isInEditMode\r\n                        });\r\n                    });\r\n                    $(this.tbl).find('.ni-reset-offset-icon').each(function() {\r\n                        $(this).prop('disabled', that.isInEditMode);\r\n                    });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-scale-legend', ScaleLegend);\r\n}());\r\n","//****************************************\r\n// Scale Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers = function () {\r\n        this.graph = null;\r\n        this.isInEditMode = false;\r\n        this.scales = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addScale = function () {\r\n    };\r\n\r\n    proto.clearScale = function (index) {\r\n        this.scales[index] = null;\r\n    };\r\n\r\n    proto.getScale = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var scale = null;\r\n        var child;\r\n        if (this.scales[index] === null || this.scales[index] === undefined) {\r\n            graph = this.graph;\r\n\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                        graph.childNodes[child].localName === 'ni-color-scale') {\r\n                        if (i === index) {\r\n                            scale = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (scale === null) {\r\n                return null;\r\n            }\r\n\r\n            this.scales[index] = scale;\r\n        }\r\n\r\n        return this.scales[index];\r\n    };\r\n\r\n    proto.scaleToIndex = function (scale) {\r\n        var i = 0, index = -1, graph, child, currentScale;\r\n        graph = this.graph;\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                    graph.childNodes[child].localName === 'ni-color-scale') {\r\n                    currentScale = graph.childNodes[child];\r\n                    if (currentScale === scale) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var scale = this.getScale(index);\r\n\r\n            if (scale === null) {\r\n                return;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'lock':\r\n                    if (scale.autoScale !== 'none') {\r\n                        // save initial autoScale option and\r\n                        // turns off autoScale\r\n                        scale.initialAutoscale = scale.autoScale;\r\n                        scale.autoScale = 'none';\r\n                        scale.resetOffset();\r\n                    } else {\r\n                        //if the chosen autoScale option is none on unlock we set it to loose\r\n                        scale.autoScale = scale.initialAutoscale ? scale.initialAutoscale : 'loose';\r\n                    }\r\n\r\n                    break;\r\n                case 'resetOffset':\r\n                    if (scale.resetOffset) {\r\n                        scale.resetOffset();\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            var plot = scale._parentGraph.graph;\r\n            plot.setupGrid();\r\n            plot.draw();\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var scale = this.getScale(index);\r\n        if (scale === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'canLock':\r\n                state = scale.localName !== 'ni-color-scale';\r\n                break;\r\n            case 'lock':\r\n                state = scale.autoScale !== 'none';\r\n                break;\r\n            case 'resetOffset':\r\n                break;\r\n            case 'name':\r\n                state = scale.label;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n}());\r\n","//****************************************\r\n// Graph Tools Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2017\r\n//****************************************\r\n\r\n/**\r\n## ni-graph-tools\r\n\r\n> A custom element that provides a graph tools \"legend\".\r\n\r\nUse it to add navigation controls to a graph, chart or intensity graph element.\r\nIt provides buttons to switch between pan mode, box zoom mode or to lock navigation.\r\n\r\nIt also provides a resetOffset button which resets the axes to the range of the data.\r\n\r\nExample:\r\n```html\r\n<ni-cartesian-graph graph-ref=\"g1\" value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\r\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\r\n  <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\r\n  <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\r\n</ni-cartesian-graph>\r\n\r\n<ni-graph-tools graph-ref=\"g1\" mode=\"pan\"></ni-graph-tools>\r\n```\r\n*/\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    var ModeEnum = Object.freeze({\r\n        LOCKED: 'locked',\r\n        PAN: 'pan',\r\n        ZOOM: 'zoom'\r\n    });\r\n\r\n    var MODE_ENUM = ModeEnum;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    var navigationStates = {};\r\n    navigationStates[MODE_ENUM.LOCKED] = [true, false, false];\r\n    navigationStates[MODE_ENUM.PAN] = [false, true, false];\r\n    navigationStates[MODE_ENUM.ZOOM] = [false, false, true];\r\n\r\n    class GraphTools extends NationalInstruments.HtmlVI.Elements.GraphLegend {\r\n        /**### ni-graph-tools properties*/\r\n\r\n        /// include ./ni-graph-legend.js\r\n        static get properties() {\r\n            const props = Object.assign({}, super.properties, {\r\n                /** **mode** (string) - the mode of the graph tools. Default: 'pan'.\r\n                Accepted values: 'locked', 'pan', 'zoom'*/\r\n                'mode': {\r\n                    value: MODE_ENUM.PAN,\r\n                    type: 'string'\r\n                }\r\n            });\r\n\r\n            return props;\r\n        }\r\n\r\n        /**### ni-graph-tools methods*/\r\n        created() {\r\n            super.created();\r\n            this._parentGraph = undefined;\r\n        };\r\n\r\n        ready () {\r\n            super.ready();\r\n            this.addListeners();\r\n        }\r\n\r\n        attachToGraph(graphElement) {\r\n            if (graphElement.isReady) {\r\n                this._parentGraph = graphElement;\r\n                graphElement.registerGraphTools(this);\r\n            }\r\n        };\r\n\r\n        /* The result of user interactions (pan, zoom, ..) are often modified axes\r\n        parameters in the flot datastructures.\r\n        When needed, call this function to update the ni-cartesian-axis elements to have te new values */\r\n        updateCartesianAxesFromFlot() {\r\n            this._parentGraph.axes.forEach(function(axis) {\r\n                if (axis instanceof JQX.CartesianAxis) {\r\n                    axis.syncWithFlot();\r\n                }\r\n            });\r\n        };\r\n\r\n        addListeners() {\r\n            var that = this,\r\n                applySelection = function(axis, selection) {\r\n                    var opts = axis.options,\r\n                        offsetBelow = selection.from - axis.min,\r\n                        offsetAbove = selection.to - axis.max;\r\n\r\n                    if (opts.offset) {\r\n                        opts.offset.below += offsetBelow;\r\n                        opts.offset.above += offsetAbove;\r\n                    } else {\r\n                        opts.offset = {\r\n                            above: offsetAbove,\r\n                            below: offsetBelow\r\n                        };\r\n                    }\r\n                };\r\n\r\n            this.addEventListener('ni-cartesian-graph-box-selected', function(evt) {\r\n                // a rectangle selection was made on the graph, zoom into that selection\r\n                // info about the selection box is passed in the event details (ranges)\r\n                var ranges = evt.detail.originalSource.ranges;\r\n                var plot = that._parentGraph.graph;\r\n\r\n                $.each(plot.getAxes(), function (name, axis) {\r\n                    if (axis.options.disableZoom !== true && ranges[name]) {\r\n                        applySelection(axis, ranges[name]);\r\n                    }\r\n                });\r\n\r\n                // redraw plot\r\n                plot.setupGrid();\r\n                plot.draw();\r\n                plot.clearSelection();\r\n\r\n                this.updateCartesianAxesFromFlot();\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-graph-interaction', function() {\r\n                this.updateCartesianAxesFromFlot();\r\n            });\r\n        }\r\n\r\n        attached() {\r\n            super.attached();\r\n\r\n            var childElement;\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.id = 'div' + NI_SUPPORT.uniqueId();\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.table = document.createElement('table');\r\n            this.table.className = 'ni-graph-tools-box';\r\n            childElement.appendChild(this.table);\r\n\r\n            this.createRow(this.table);\r\n\r\n            var graph = this.findGraph();\r\n            if (graph !== null && graph instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        };\r\n\r\n        detached() {\r\n            super.detached();\r\n\r\n            this._parentGraph = undefined;\r\n            this.table = undefined;\r\n            $(this).empty();\r\n        }\r\n\r\n        /** **asyncProcessAllImagesForComposition** - gathers all the required\r\n        layers of a graph, chart etc (i.e. plot, axes, cursors, legend),\r\n        adds a background color to them and creates a snapshot (as canvas).\r\n        If no background color is specified, it uses the plot background color.\r\n        It returns a promise, which can be used to get the generated snapshot\r\n        image. Using *downloadSnapshot* function, this image can be downloaded\r\n        to disk (see *downloadSnapshot* function below).\r\n        asyncProcessAllImagesForComposition is available, to allow users to\r\n        write their own custom download functions.\r\n\r\n    Example:\r\n    ```js\r\n    var asyncSnapshot = function() {\r\n        asyncProcessAllImagesForComposition().then(triggerDownload(), failureCallback);\r\n        _parentGraph.graph.getEventHolder().removeEventListener('onDrawingDone', asyncSnapshot);\r\n    };\r\n    _parentGraph.graph.getEventHolder().addEventListener('onDrawingDone', asyncSnapshot);\r\n    _parentGraph.updateGraphConfig();\r\n    ```\r\n        */\r\n        asyncProcessAllImagesForComposition(userBackgroundColor) {\r\n            var that = this;\r\n\r\n            function getDisposeBackgroundSVG(backgroundSVG) {\r\n                return function disposeBackgroundSVG(result) {\r\n                    backgroundSVG.parentNode.removeChild(backgroundSVG);\r\n                }\r\n            }\r\n\r\n            function failureCallback() {\r\n            };\r\n\r\n            function drawARectangleOnSVG(backgroundSVG, color) {\r\n                var rectangle = document.createElementNS(backgroundSVG, 'rect');\r\n                rectangle.setAttributeNS(null, 'x', 0);\r\n                rectangle.setAttributeNS(null, 'y', 0);\r\n                rectangle.setAttributeNS(null, 'style', 'fill:' + color);\r\n                rectangle.setAttributeNS(null, 'width', backgroundSVG.width.baseVal.value + 'px');\r\n                rectangle.setAttributeNS(null, 'height', backgroundSVG.height.baseVal.value + 'px');\r\n                backgroundSVG.appendChild(rectangle);\r\n            }\r\n\r\n            function createBackgroundSVG(backgroundSVG, graphCanvas) {\r\n                const bkBorderWidth = 10,\r\n                    bkBorderWidth2x = bkBorderWidth * 2;\r\n\r\n                var pixelRatio = $.plot.browser.getPixelRatio(graphCanvas.getContext('2d'));\r\n                var bkBorderWidth2xScaled = bkBorderWidth2x * pixelRatio;\r\n\r\n                document.body.insertBefore(backgroundSVG, document.body.childNodes[0]);\r\n\r\n                if (pixelRatio < 1) {\r\n                    backgroundSVG.setAttributeNS(null, 'width', graphCanvas.width / pixelRatio + bkBorderWidth2xScaled);\r\n                    backgroundSVG.setAttributeNS(null, 'height', graphCanvas.height / pixelRatio + bkBorderWidth2xScaled);\r\n                } else {\r\n                    backgroundSVG.setAttributeNS(null, 'width', graphCanvas.width + bkBorderWidth2xScaled);\r\n                    backgroundSVG.setAttributeNS(null, 'height', graphCanvas.height + bkBorderWidth2xScaled);\r\n                }\r\n\r\n                backgroundSVG.style.width = graphCanvas.style.width + bkBorderWidth2xScaled;\r\n                backgroundSVG.style.height = graphCanvas.style.height + bkBorderWidth2xScaled;\r\n                backgroundSVG.style.position = 'absolute';\r\n\r\n                var svgLeft = graphCanvas.getBoundingClientRect().left + window.scrollX - bkBorderWidth;\r\n                var svgTop = graphCanvas.getBoundingClientRect().top + window.scrollY - bkBorderWidth;\r\n                backgroundSVG.style.left = svgLeft + 'px';\r\n                backgroundSVG.style.top = svgTop + 'px';\r\n            }\r\n\r\n            function getSVGFromLegendLayer(graphRef) {\r\n                const containerClassNames = [\r\n                    /*'ni-light-plot-legend',*/\r\n                    'ni-chart',\r\n                    'ni-cartesian-graph',\r\n                    'ni-intensity-graph'\r\n                ];\r\n                var result = null;\r\n                var searchQuery = '';\r\n                for (var i = 0; i < containerClassNames.length; i++) {\r\n                    searchQuery = containerClassNames[i] + '[graph-ref=\"' + graphRef + '\"] svg.legendLayer';\r\n                    result = document.querySelector(searchQuery);\r\n                    if ((result !== null) && (result !== undefined)) {\r\n                        break;\r\n                    }\r\n                }\r\n                return result;\r\n            }\r\n\r\n            var graphCanvas = that._parentGraph.graph.getCanvas(),\r\n                backgroundSVG = document.createElementNS('http://www.w3.org/2000/svg', 'svg'),\r\n                graphSVG = that._parentGraph.graph.getSurface().SVGContainer.childNodes[0],\r\n                cursorsFlotOverlay = that._parentGraph.graph.getEventHolder(),\r\n                legendSVG = getSVGFromLegendLayer(that._parentGraph.graphRef),\r\n                sources,\r\n                snapshotBackgroundColor;\r\n\r\n            createBackgroundSVG(backgroundSVG, graphCanvas);\r\n            if (userBackgroundColor !== undefined) {\r\n                snapshotBackgroundColor = userBackgroundColor;\r\n            } else {\r\n                snapshotBackgroundColor = window.getComputedStyle(that._parentGraph).backgroundColor;\r\n            }\r\n            drawARectangleOnSVG(backgroundSVG, snapshotBackgroundColor);\r\n\r\n            sources = [backgroundSVG, graphCanvas, graphSVG, cursorsFlotOverlay, legendSVG];\r\n\r\n            var destinationCanvas = document.createElement('canvas'),\r\n                asynResult = that._parentGraph.takeGraphSnapshot(sources, destinationCanvas);\r\n\r\n            return asynResult\r\n                .then(getDisposeBackgroundSVG(backgroundSVG), failureCallback)\r\n                .then(function() {\r\n                    return destinationCanvas;\r\n                }, failureCallback);\r\n        }\r\n\r\n        /** **downloadSnapshot** - is a wrapper over *asyncProcessAllImagesForComposition*\r\n        function, used to generate a filename and trigger the actual download of\r\n        a graph snaphot. It also updates the plot dimensions to the page zoom,\r\n        before calling *asyncProcessAllImagesForComposition*. This allows creating\r\n        a high resolution snapshot, simply by zooming the page in.\r\n        Updating the plot dimensions as the page is zoomed in/out, is a requirement,\r\n        to make sure all layers of a snapshot are scaled accordingly.\r\n        As a limitation, it may not be possible to create and download snapshots\r\n        at every refresh of a plot.\r\n\r\n    Example:\r\n    ```js\r\n    function takeGraphSnapshotOnClick() {\r\n        downloadSnapshot();\r\n    }\r\n    ```\r\n        */\r\n        downloadSnapshot() {\r\n            var that = this;\r\n\r\n            function getCopyCanvasToImg() {\r\n                return function copyCanvasToImgOuter(canvas) {\r\n                    var img = document.createElement('img');\r\n                    img.width = canvas.width;\r\n                    img.height = canvas.height;\r\n                    img.src = canvas.toDataURL('image/png');\r\n\r\n                    var downloadBlob = function(blob) {\r\n                        var url = URL.createObjectURL(blob);\r\n\r\n                        img.src = url;\r\n\r\n                        var downloadLinkElement = document.createElement('A');\r\n                        downloadLinkElement.download = 'Snapshot_' + getDateTimeAsString() + '.png';\r\n                        downloadLinkElement.href = img.src;\r\n                        var clickEvent = new MouseEvent('click');\r\n                        downloadLinkElement.dispatchEvent(clickEvent);\r\n                    };\r\n\r\n                    if ($.plot.browser.isEdge()) {\r\n                        downloadBlob(canvas.msToBlob());\r\n                    } else {\r\n                        canvas.toBlob(downloadBlob);\r\n                    }\r\n                    return canvas;\r\n                }\r\n            }\r\n\r\n            //function adapted from https://stackoverflow.com/questions/221294/how-do-you-get-a-timestamp-in-javascript\r\n            function getDateTimeAsString() {\r\n                var currentTime = new Date(),\r\n                    year = currentTime.getFullYear(),\r\n                    month = currentTime.getMonth() + 1, //this returns 0-11, so add a 1\r\n                    date = currentTime.getDate(),\r\n                    hours = currentTime.getHours(),\r\n                    minutes = currentTime.getMinutes(),\r\n                    seconds = currentTime.getSeconds();\r\n\r\n                if (month < 10) {\r\n                    month = '0' + month;\r\n                }\r\n                if (date < 10) {\r\n                    date = '0' + date;\r\n                }\r\n                if (hours < 10) {\r\n                    hours = '0' + hours;\r\n                }\r\n                if (minutes < 10) {\r\n                    minutes = '0' + minutes;\r\n                }\r\n                if (seconds < 10) {\r\n                    seconds = '0' + seconds;\r\n                }\r\n\r\n                var str = year + '.' + month + '.' + date + '_' + hours + '.' + minutes + '.' + seconds;\r\n                return str;\r\n            }\r\n\r\n            function failureCallback() {\r\n            };\r\n\r\n            var asyncSnapshot = function() {\r\n                that.asyncProcessAllImagesForComposition().then(getCopyCanvasToImg(), failureCallback);\r\n                that._parentGraph.graph.getEventHolder().removeEventListener('onDrawingDone', asyncSnapshot);\r\n            };\r\n            that._parentGraph.graph.getEventHolder().addEventListener('onDrawingDone', asyncSnapshot);\r\n\r\n            that._parentGraph.updateGraphConfig();\r\n        }\r\n\r\n        createRow(tbl) {\r\n            var that = this;\r\n            var tr, td1, td2, td3, td4, td5, navNone, btnPan, btnZoom, btnZoomOut, btnSnapshot;\r\n\r\n            function setNavButtonsState(locked, pan, zoom) {\r\n                $(navNone).jqxToggleButton({\r\n                    disabled: locked\r\n                });\r\n                $(btnPan).jqxToggleButton({\r\n                    disabled: pan\r\n                });\r\n                $(btnZoom).jqxToggleButton({\r\n                    disabled: zoom\r\n                });\r\n            }\r\n\r\n            function setMode(mode) {\r\n                var states = navigationStates[mode];\r\n\r\n                if (states) {\r\n                    setNavButtonsState.apply(null, states);\r\n                    that.mode = mode;\r\n                }\r\n            }\r\n\r\n            function takeGraphSnapshotOnClick() {\r\n                that.downloadSnapshot();\r\n            }\r\n\r\n            tr = document.createElement('tr');\r\n            tbl.appendChild(tr);\r\n\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-button-box';\r\n            tr.appendChild(td1);\r\n            navNone = document.createElement('button');\r\n            navNone.type = 'button';\r\n            navNone.className = 'ni-locked-icon ni-button';\r\n            $(navNone).jqxToggleButton();\r\n            $(navNone).on('click', function() {\r\n                setMode(MODE_ENUM.LOCKED);\r\n            });\r\n            td1.appendChild(navNone);\r\n\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-button-box';\r\n            tr.appendChild(td2);\r\n            btnPan = document.createElement('button');\r\n            btnPan.type = 'button';\r\n            btnPan.className = 'ni-pan-icon ni-button';\r\n            $(btnPan).jqxToggleButton();\r\n            $(btnPan).on('click', function() {\r\n                setMode(MODE_ENUM.PAN);\r\n            });\r\n            td2.appendChild(btnPan);\r\n\r\n            td3 = document.createElement('td');\r\n            td3.className = 'ni-button-box';\r\n            tr.appendChild(td3);\r\n            btnZoom = document.createElement('button');\r\n            btnZoom.type = 'button';\r\n            btnZoom.className = 'ni-zoom-region-icon ni-button';\r\n            $(btnZoom).on('click', function() {\r\n                setMode(MODE_ENUM.ZOOM);\r\n            });\r\n            td3.appendChild(btnZoom);\r\n\r\n            setMode(this.mode); // initialize the \"navigation radio butons\" in the default mode\r\n            td4 = document.createElement('td');\r\n            td4.className = 'ni-button-box';\r\n            tr.appendChild(td4);\r\n            btnZoomOut = document.createElement('button');\r\n            btnZoomOut.type = 'button';\r\n            btnZoomOut.className = 'ni-zoom-out-icon ni-button';\r\n            $(btnZoomOut).jqxButton({\r\n                disabled: false\r\n            });\r\n            $(btnZoomOut).on('click', function() {\r\n                that._parentGraph.axes.forEach(function(axis) {\r\n                    if (axis.resetOffset) {\r\n                        axis.resetOffset();\r\n                    }\r\n                });\r\n\r\n                var plot = that._parentGraph.graph;\r\n                plot.setupGrid();\r\n                plot.draw();\r\n            });\r\n            td4.appendChild(btnZoomOut);\r\n\r\n            td5 = document.createElement('td');\r\n            td5.className = 'ni-button-box';\r\n            tr.appendChild(td5);\r\n            btnSnapshot = document.createElement('button');\r\n            btnSnapshot.type = 'button';\r\n            btnSnapshot.className = 'ni-snapshot-icon ni-button';\r\n            $(btnSnapshot).jqxButton({disabled: false});\r\n            $(btnSnapshot).on('click', function() {\r\n                takeGraphSnapshotOnClick(td5);\r\n            });\r\n            td5.appendChild(btnSnapshot);\r\n        };\r\n\r\n        allowsScrollWheelZoom() {\r\n            return this.mode === MODE_ENUM.PAN || this.mode === MODE_ENUM.ZOOM;\r\n        };\r\n\r\n        allowsPan() {\r\n            return this.mode === MODE_ENUM.PAN;\r\n        };\r\n\r\n        sendEventToParentGraph(name) {\r\n            var eventConfig;\r\n\r\n            if (this._parentGraph !== undefined) {\r\n                eventConfig = {\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        element: this\r\n                    }\r\n                };\r\n\r\n                this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n            }\r\n        };\r\n\r\n        propertyChangedHandler(propertyName, oldValue, newValue) {\r\n            super.propertyChangedHandler(propertyName, oldValue, newValue);\r\n\r\n            switch (propertyName) {\r\n                case 'graphRef':\r\n                    // should never change\r\n                    break;\r\n                case 'mode':\r\n                    this.sendEventToParentGraph('ni-graph-tools-changed');\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n\r\n    JQX('ni-graph-tools', GraphTools);\r\n}());\r\n"]}