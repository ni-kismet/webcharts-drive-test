"use strict";!function(){var e=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"findGraph",value:function(){return document.querySelector("ni-cartesian-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-chart[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-intensity-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-cartesian-graph[ni-control-id='"+this.graphRef+"']")||document.querySelector("ni-chart[ni-control-id='"+this.graphRef+"']")||document.querySelector("ni-intensity-graph[ni-control-id='"+this.graphRef+"']")}},{key:"template",value:function(){return""}}],[{key:"properties",get:function(){return Object.assign({},babelHelpers.get(t.__proto__||Object.getPrototypeOf(t),"properties",this),{graphRef:{value:"",type:"string"},isInEditMode:{value:!1,type:"boolean"}})}}]),t}(window.JQX.BaseElement);NationalInstruments.HtmlVI.Elements.GraphLegend=e}(),function(){var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery;NationalInstruments.HtmlVI.Elements.LegendHelpers=function(e,t){this.helpers=e,this.legendItemDisplay=t};var n=NationalInstruments.HtmlVI.Elements.LegendHelpers,i=n.prototype;i.addButtons=function(e,n,i){var s,a,l=this;e.children.forEach(function(e){s=document.createElement("button"),s.type="button",s.className="ni-button",t(s).jqxToggleButton({toggled:!1}),""!==e.cssClass&&s.classList.add(e.cssClass),t(s).on("click",function(){t(a).jqxToggleButton("toggle"),a=this,l.helpers.handleClick(e.name,null,i),l.legendItemDisplay.updateShape(i)});var o=l.helpers.getState(e.name,i);void 0!==o&&(t(s).jqxToggleButton({toggled:o}),!0===o&&(a=s)),n.appendChild(s)})},i.addComboBox=function(n,i,s,a){var l,o=this,r=0,c=!0;for(t(i).jqxDropDownList({width:"100%",dropDownHeight:26*n.children.length}),l=0;l<n.children.length;l++){var d=e.i18n(n.children[l].tag);"[msg_"===d.substring(0,5)&&(d=n.name),t(i).jqxDropDownList("addItem",{id:n.children[l].name,html:'<div style="width: 100%"><span class="ni-selector-title">'+d+'</span><div class="ni-selector-icon '+n.children[l].cssClass+'" style="background-size: '+a+"px 16px; width: "+(a+4)+'px; "></div></div>'});!0===this.helpers.getState(n.children[l].name,s)&&(r=l)}t(i).on("select",function(e){var t=e.args;!0!==c&&(o.helpers.handleClick(t.item.label.id,null,s),o.legendItemDisplay.updateShape(s))}),t(i).jqxDropDownList({selectedIndex:r}),c=!1},i.getTextElementByColor=function(e){if("transparent"===e||""===e.hex)return t('<div class="ni-colorbox-content">transparent</div>');var n=t('<div class="ni-colorbox-content">#'+e.hex+"</div>"),i=.299*e.r+.587*e.g+.114*e.b,s=255-i<105?"Black":"White";return n.css("color",s),n.css("background","#"+e.hex),n.addClass("jqx-rc-all"),n},i.addColorBox=function(e,n,i){var s=this,a=document.createElement("div");t(n).append(a);var l=document.createElement("div");l.className="legend-colorbox-colorbox",a.appendChild(l),t(l).jqxColorPicker({width:"200px",height:"220px",colorMode:"hue"}),t(l).on("colorchange",function(a){t(n).jqxDropDownButton("setContent",s.getTextElementByColor(a.args.color)),s.helpers.handleClick(e.name,a.args.color,i),s.legendItemDisplay.updateShape(i)}),t(n).jqxDropDownButton({width:"inherit"});var o=this.helpers.getState(e.name,i),r=t.color.parse(o);t(n).jqxDropDownButton("setContent",this.getTextElementByColor(new t.jqx.color({rgb:r})))},i.addCheckBox=function(e,n,i){var s=this,a=t(n).jqxCheckBox();a.className="legend-checkbox",t(a).on("change",function(t){s.helpers.handleClick(e.name,t.args.checked,i)});var l=s.helpers.getState(e.name,i);void 0!==l&&t(a).jqxCheckBox({checked:l})}}(),function(){var e=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"findGraph",value:function(){return document.querySelector("ni-cartesian-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-chart[graph-ref='"+this.graphRef+"']")}},{key:"propertyChangedHandler",value:function(e,n,i){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,n,i);var s=this.findGraph();switch(e){case"position":case"show":for(;this.hasChildNodes();)this.removeChild(this.firstChild)}s&&s.updateGraphConfig()}}],[{key:"properties",get:function(){return Object.assign({},babelHelpers.get(t.__proto__||Object.getPrototypeOf(t),"properties",this),{show:{value:!1,type:"boolean"},graphRef:{value:"",type:"string"},position:{value:"container",type:"string"}})}}]),t}(window.JQX.BaseElement);JQX("ni-light-plot-legend",e)}(),JQX.Elements.whenRegistered("ni-cartesian-graph",function(e){e.addModule(NILightLegendModule)}),JQX.Elements.whenRegistered("ni-chart",function(e){e.addModule(NILightLegendModule)});var NILightLegendModule=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"getSettings",value:function(){var e=this.ownerElement.getSettingsWorkaround(),t=this.findLegend(this.ownerElement.graphRef);if(!t)return e;var n={show:t.show,container:function(e){var t=null;return"nw"!==e.position&&"ne"!==e.position&&"sw"!==e.position&&"se"!==e.position&&(e.hasChildNodes()?t=e.lastChild:(t=document.createElement("div"),e.appendChild(t))),t}(t),position:t.position,margin:5};return e.legend=n,e}},{key:"findLegend",value:function(e){return document.querySelector("ni-light-plot-legend[graph-ref='"+e+"']")}}],[{key:"moduleName",get:function(){return"NILightLegendModule"}}]),e}();!function(){var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery,n=function(e){e.createRow(e.tbl,e.nPlots),e.helpers.addRenderer(e.nPlots),e.nPlots++},i=function(e,t){e.removeRow(e.tbl,t),e.helpers.clearRenderer(t),e.nPlots--},s=function(s){function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return babelHelpers.inherits(a,s),babelHelpers.createClass(a,[{key:"created",value:function(){babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"created",this).call(this),this.tbl=void 0,this.nPlots=0,this.currentExpander=null,this.helpers=new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,this.plotLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.plotLegendItemDisplay),this.deferLegendUpdates=!1}},{key:"plotAdded",value:function(){this.deferLegendUpdates||n(this)}},{key:"plotRemoved",value:function(e){this.deferLegendUpdates||i(this,e)}},{key:"syncPlotLegendWithGraph",value:function(){if(this.deferLegendUpdates){var e=this.findGraph();if(!e)return;for(var t=e.plots.length;t<this.nPlots;){var s=this.nPlots-1;i(this,s)}for(;t>this.nPlots;)n(this)}}},{key:"createRows",value:function(){var e;for(e=0;e<this.nPlots;e++)this.createRow(this.tbl,e)}},{key:"removeRows",value:function(){var e;for(e=this.nPlots-1;e>=0;e--)this.removeRow(this.tbl,e)}},{key:"throttlePlotUpdates",value:function(e){var t=this.findGraph();null!==t&&(t.throttlePlotUpdates(e),this.deferLegendUpdates=e)}},{key:"attachToGraph",value:function(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,this.nPlots=e.plots.length,this.createRows(),e.registerPlotLegend(this))}},{key:"detachFromGraph",value:function(){this.helpers.clearCache(),this.helpers.graph=null,this.removeRows(),this.nPlots=0}},{key:"attached",value:function(){var e,t=this;babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"attached",this).call(this),this.helpers.graph=this.findGraph(),this.helpers.isInEditMode=this.isInEditMode,e=document.createElement("div"),e.style.width="100%",e.style.height="100%",e.style.overflowX="auto",e.style.overflowY="hidden",this.appendChild(e),this.tbl=document.createElement("table"),this.tbl.style.width="100%",this.tbl.style.height="100%",e.appendChild(this.tbl),this.addEventListener("ni-cartesian-plot-attached",function(){t.plotAdded(),t.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-detached",function(e){var n,i=e.detail.originalSource;n=t.helpers.getIndex(i),t.plotRemoved(n),t.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-changed",function(e){var n,i=e.detail.originalSource;n=t.helpers.getIndex(i),t.updatePlotName(n,t.helpers.getPlotName(n))}),this.addEventListener("ni-cartesian-plot-renderer-changed",function(e){var n,i=e.detail.originalSource;n=t.helpers.rendererToIndex(i),t.plotLegendItemDisplay.updateShape(n)}),this.addEventListener("ni-cartesian-plot-renderer-attached",function(e){var n,i=e.detail.originalSource;t.helpers.clearCache(),n=t.helpers.rendererToIndex(i),t.plotLegendItemDisplay.updateShape(n)}),this.addEventListener("ni-cartesian-plot-renderer-detached",function(e){var n,i=e.detail.originalSource;t.helpers.clearCache(),n=t.helpers.rendererToIndex(i),t.plotLegendItemDisplay.updateShape(n)}),this.addEventListener("ni-plot-count-changed",function(e){var s=e.detail.originalSource;if("compact"===t.mode){for(;s.plotCount<t.nPlots;){var a=t.nPlots-1;i(t,a)}for(;s.plotCount>t.nPlots;)n(t)}});var s=this.findGraph();null!==s&&this.attachToGraph(s)}},{key:"createRow",value:function(e,n){var i,s,a,l,o,r,c,d,h=this;i=document.createElement("tr"),e.appendChild(i),s=document.createElement("div"),s.id="expander"+n,s.className="ni-plot-legend-box",i.appendChild(s),a=document.createElement("div"),a.id="header"+n,a.className="ni-master-row",s.appendChild(a),o=document.createElement("div"),o.className="ni-plot-display",a.appendChild(o),this.plotLegendItemDisplay.createHeaderDisplay(o,n),this.plotLegendItemDisplay.updateShape(n),d=document.createElement("span"),d.className="ni-plot-title",r=this.helpers.getPlotName(n),"compact"===this.mode&&(this.helpers.getPlot(n)||(r="Plot "+(n+1))),c=document.createTextNode(r),d.appendChild(c),a.appendChild(d),l=document.createElement("div"),l.id="content"+n,l.className="ni-details-box",s.appendChild(l),"full"===this.mode&&(t(s).jqxExpander({expanded:!1,disabled:this.isInEditMode,expandAnimationDuration:50,collapseAnimationDuration:50,initContent:function(){h.loadContent(l,n)}}),t(s).on("expanded",function(){if(this!==h.currentExpander){var e=h.currentExpander;h.currentExpander=this,null!==e&&t(e).jqxExpander({expanded:!1})}})),this.applyFont()}},{key:"updatePlotName",value:function(e,n){var i=t(this.tbl).find(".ni-plot-title");t(i[e]).text(n)}},{key:"loadContent",value:function(t,n){var i,s,a,l,o,r,c,d;for(t.style.height=30*(this.helpers.menu.length+1)+10+"px",i=document.createElement("table"),i.className="ni-details",t.appendChild(i),a=0;a<this.helpers.menu.length;a++){var h=this.helpers.menu[a];s=document.createElement("tr"),s.className="ni-details-row "+(h.cssClass||""),i.appendChild(s),r=document.createElement("td"),r.className="ni-detail-row-title-box",s.appendChild(r),l=document.createElement("span"),l.className="ni-detail-row-title",r.appendChild(l);var p=e.i18n(h.tag);switch("[msg_"===p.substring(0,5)&&(p=h.name+"!"),o=document.createTextNode(p),l.appendChild(o),c=document.createElement("td"),c.className="ni-details-row-operations-box",s.appendChild(c),h.type){case"buttons":this.uihelpers.addButtons(h,c,n);break;case"combobox":d=document.createElement("div"),d.className="ni-selector",c.appendChild(d),this.uihelpers.addComboBox(h,d,n,60);break;case"colorbox":d=document.createElement("div"),d.className="ni-colorbox-selector ni-selector",c.appendChild(d),this.uihelpers.addColorBox(h,d,n);break;case"checkbox":d=document.createElement("div"),d.className="ni-hover-box",c.appendChild(d),this.uihelpers.addCheckBox(h,d,n)}}}},{key:"removeRow",value:function(e,t){var n=e.children[t];this.plotLegendItemDisplay.removeHeaderDisplay(null,t),null!==n&&void 0!==n&&e.removeChild(n)}},{key:"setFont",value:function(e,n,i,s,a){var l=this.firstElementChild,o=t(this),r=t(l).find(" .jqx-widget-content"),c=t(l).find(" .ni-plot-title"),d=t(l).find(" .ni-detail-row-title");o.css({"font-size":e,"font-family":n,"font-weight":i,"font-style":s}),r.css({"font-size":e,"font-family":n,"font-weight":i,"font-style":s}),c.css({"font-size":e,"font-family":n,"font-weight":i,"font-style":s}),d.css({"font-size":e,"font-family":n,"font-weight":i,"font-style":s})}},{key:"applyFont",value:function(){var e=this.firstElementChild,n=t(e).find(" .jqx-widget-content"),i=t(e).find(" .ni-plot-title"),s=t(e).find(" .ni-detail-row-title"),a=t(this).css("font-size"),l=t(this).css("font-family"),o=t(this).css("font-weight"),r=t(this).css("font-style");n.css({"font-size":a,"font-family":l,"font-weight":o,"font-style":r}),i.css({"font-size":a,"font-family":l,"font-weight":o,"font-style":r}),s.css({"font-size":a,"font-family":l,"font-weight":o,"font-style":r})}},{key:"propertyChangedHandler",value:function(e,n,i){switch(babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"propertyChangedHandler",this).call(this,e,n,i),e){case"graphRef":this.helpers.graph.plotLegend=null;var s=this.findGraph();this.attachToGraph(s);break;case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,t(this.tbl).find(".ni-plot-legend-box").each(function(){t(this).jqxExpander({disabled:this.isInEditMode})})}}}],[{key:"properties",get:function(){return Object.assign({},babelHelpers.get(a.__proto__||Object.getPrototypeOf(a),"properties",this),{mode:{value:"full",type:"string"}})}}]),a}(NationalInstruments.HtmlVI.Elements.GraphLegend);JQX("ni-plot-legend",s)}(),function(){var e=NationalInstruments.HtmlVI.NISupport;NationalInstruments.HtmlVI.Elements.PlotLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.defaultPlotColors=window.JQX.CartesianGraph.defaultPlotColors,this.lineStyleValues={dot:"1, 2",dashdot:"3, 3, 1, 3",mediumdash:"3, 3",largedash:"5, 4",solid:"0"},this.renderers=[]};var t=NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,n=t.prototype;n.menu=[{name:"Plot Style",tag:"msg_plotstyle",type:"buttons",children:[{name:"Line",tag:"msg_line",cssClass:"ni-line-style-icon"},{name:"Point",tag:"msg_point",cssClass:"ni-point-style-icon"},{name:"Line & Point",tag:"msg_lineandpoint",cssClass:"ni-line-and-point-style-icon"},{name:"Bar",tag:"msg_bar",cssClass:"ni-bar-style-icon"},{name:"Fill",tag:"msg_fill",cssClass:"ni-fill-style-icon"}]},{name:"Point Style",tag:"msg_pointstyle",type:"buttons",children:[{name:"Ellipse",tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:"Rectangle",tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:"Diamond",tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:"Cross",tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:"Plus",tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]},{name:"Line Width",tag:"msg_linewidth",cssClass:"line_width",type:"combobox",children:[{name:"No line",tag:"msg_noline",cssClass:""},{name:"1-pixel",tag:"msg_1pixel",cssClass:"ni-1-pixel-line-width-icon"},{name:"2-pixels",tag:"msg_2pixels",cssClass:"ni-2-pixels-line-width-icon"},{name:"3-pixels",tag:"msg_3pixels",cssClass:"ni-3-pixels-line-width-icon"},{name:"4-pixels",tag:"msg_4pixels",cssClass:"ni-4-pixels-line-width-icon"},{name:"5-pixels",tag:"msg_5pixels",cssClass:"ni-5-pixels-line-width-icon"}]},{name:"Line Style",tag:"msg_linestyle",cssClass:"line_style",type:"combobox",children:[{name:"No style",tag:"msg_nostyle",cssClass:""},{name:"Solid",tag:"msg_solid",cssClass:"ni-solid-line-style-icon"},{name:"Dot",tag:"msg_dot",cssClass:"ni-dot-line-style-icon"},{name:"Dot-dash",tag:"msg_dashdot",cssClass:"ni-dot-dash-line-style-icon"},{name:"Medium dash",tag:"msg_mediumdash",cssClass:"ni-medium-dash-line-style-icon"},{name:"Large dash",tag:"msg_largedash",cssClass:"ni-large-dash-line-style-icon"}]},{name:"Fill Baseline",tag:"msg_fillbaseline",type:"buttons",children:[{name:"Zero",tag:"msg_zero",cssClass:"ni-fill-to-zero-style-icon"},{name:"-Inf",tag:"msg_neginf",cssClass:"ni-fill-base-line-negative-infinity-icon"},{name:"Inf",tag:"msg_inf",cssClass:"ni-fill-base-line-positive-infinity-icon"}]},{name:"Color",tag:"msg_color",type:"colorbox",children:[]},{name:"Hover",tag:"msg_hover",cssClass:"hover",type:"checkbox",children:[]}],n.addRenderer=function(){},n.clearRenderer=function(e){this.renderers[e]=null},n.clearCache=function(){for(var e=0;e<this.renderers.length;e++)this.renderers[e]=null},n.getPlot=function(e){var n=0,i=null,s=this.graph;if(null!==s)for(t in s.childNodes)if("ni-cartesian-plot"===s.childNodes[t].localName){if(n===e){i=s.childNodes[t];break}n++}return i},n.getIndex=function(e){var t,n;return n=e._parentGraph,null!==n&&(t=n.plots.indexOf(e)),t},n.getPlotName=function(t){var n=this.getPlot(t);return n&&"string"==typeof n.label?n.label:e.i18n("msg_defaultplotname")},n.getRenderer=function(e){var t=null,n=null;if(null===this.renderers[e]||void 0===this.renderers[e]){if(t=this.getPlot(e),null!==t&&(n=t.lastElementChild),null===n)return null;this.renderers[e]=n}return this.renderers[e]},n.rendererToIndex=function(e){var t,n,i,s=0;if(null!==(n=this.graph))for(i in n.childNodes)if("ni-cartesian-plot"===n.childNodes[i].localName){if(n.childNodes[i].lastElementChild===e){t=s;break}s++}return t},n.handleClick=function(e,t,n){if(!0!==this.isInEditMode){var i,s="",a=this.getRenderer(n);if(null===a)return;switch(""!==a.lineStroke&&(s=a.lineStroke),""!==a.pointColor&&(s=a.pointColor),""!==a.barFill&&(s=a.barFill),""!==a.areaFill&&(s=a.areaFill),e){case"No line":a.lineWidth=0;break;case"1-pixel":a.lineWidth=1;break;case"2-pixels":a.lineWidth=2;break;case"3-pixels":a.lineWidth=3;break;case"4-pixels":a.lineWidth=4;break;case"5-pixels":a.lineWidth=5;break;case"Line":a.lineStroke=s,a.pointColor="",a.barFill="",a.areaFill="";break;case"Point":a.lineStroke="",a.pointColor=s,a.barFill="",a.areaFill="";break;case"Line & Point":a.lineStroke=s,a.pointColor=s,a.barFill="",a.areaFill="";break;case"Bar":a.lineStroke="",a.pointColor="",a.barFill=s,a.areaFill="";break;case"Fill":a.lineStroke="",a.pointColor="",a.barFill="",a.areaFill=s;break;case"Ellipse":a.pointShape="ellipse";break;case"Rectangle":a.pointShape="rectangle";break;case"Diamond":a.pointShape="diamond";break;case"Cross":a.pointShape="cross";break;case"Plus":a.pointShape="plus";break;case"No style":a.lineStyle="";break;case"Solid":a.lineStyle="solid";break;case"Dot":a.lineStyle="dot";break;case"Dot-dash":a.lineStyle="dashdot";break;case"Medium dash":a.lineStyle="mediumdash";break;case"Large dash":a.lineStyle="largedash";break;case"Zero":a.areaBaseLine="zero",a.barBaseLine="zero";break;case"-Inf":a.areaBaseLine="negativeinfinity",a.barBaseLine="negativeinfinity";break;case"Inf":a.areaBaseLine="positiveinfinity",a.barBaseLine="positiveinfinity";break;case"Color":""!==a.lineStroke?a.lineStroke="#"+t.hex:""!==a.pointColor?a.pointColor="#"+t.hex:""!==a.barFill?a.barFill="#"+t.hex:""!==a.areaFill&&(a.areaFill="#"+t.hex);break;case"Hover":i=this.getPlot(n),i.enableHover=t}}},n.getState=function(e,t){var n,i=this.getRenderer(t);if(null!==i){var s;switch(e){case"No line":s=0===i.lineWidth;break;case"1-pixel":s=1===i.lineWidth;break;case"2-pixels":s=2===i.lineWidth;break;case"3-pixels":s=3===i.lineWidth;break;case"4-pixels":s=4===i.lineWidth;break;case"5-pixels":s=5===i.lineWidth;break;case"Line":s=""!==i.lineStroke&&""===i.pointColor;break;case"Point":s=""===i.lineStroke&&""!==i.pointColor;break;case"Line & Point":s=""!==i.lineStroke&&""!==i.pointColor;break;case"Bar":s=""!==i.barFill;break;case"Fill":s=""!==i.areaFill;break;case"Ellipse":s="ellipse"===i.pointShape;break;case"Rectangle":s="rectangle"===i.pointShape;break;case"Diamond":s="diamond"===i.pointShape;break;case"Cross":s="cross"===i.pointShape;break;case"Plus":s="plus"===i.pointShape;break;case"No style":s=""===i.lineStyle;break;case"Solid":s="solid"===i.lineStyle;break;case"Dot":s="dot"===i.lineStyle;break;case"Dot-dash":s="dashdot"===i.lineStyle;break;case"Medium dash":s="mediumdash"===i.lineStyle;break;case"Large dash":s="largedash"===i.lineStyle;break;case"Zero":s=""!==i.barFill?"zero"===i.barBaseLine||""===i.barBaseLine:"zero"===i.areaBaseLine||""===i.areaBaseLine;break;case"-Inf":s=""!==i.barFill?"negativeinfinity"===i.barBaseLine:"negativeinfinity"===i.areaBaseLine;break;case"Inf":s=""!==i.barFill?"positiveinfinity"===i.barBaseLine:"positiveinfinity"===i.areaBaseLine;break;case"Color":s=this.getPlotColorFromRenderer(i);break;case"Hover":n=this.getPlot(t),s=n.enableHover}return s}},n.getPlotColor=function(e){var t=this.getRenderer(e);return null!==t?this.getPlotColorFromRenderer(t):this.defaultPlotColors[e%this.defaultPlotColors.length]},n.getPlotColorFromRenderer=function(e){var t="rgba(0, 0, 0, 1)";return""!==e.lineStroke?t=e.lineStroke:""!==e.pointColor?t=e.pointColor:""!==e.barFill?t=e.barFill:""!==e.areaFill&&(t=e.areaFill),t},n.getLineWidth=function(e){var t=this.getRenderer(e);return null!==t?t.lineWidth:1},n.getLineShape=function(e){var t="line",n=this.getRenderer(e);return null!==n&&(""!==n.lineStroke&&""===n.pointColor?t="line":""===n.lineStroke&&""!==n.pointColor?t="points":""!==n.lineStroke&&""!==n.pointColor?t="line & point":""!==n.barFill?t="bar":""!==n.areaFill&&(t="fill")),t},n.getLineStyle=function(e){var t=this.getRenderer(e);if(null!==t)switch(t.lineStyle){case"dot":return this.lineStyleValues.dot;case"dashdot":return this.lineStyleValues.dashdot;case"mediumdash":return this.lineStyleValues.mediumdash;case"largedash":return this.lineStyleValues.largedash;default:return this.lineStyleValues.solid}return"0"},n.getPointShape=function(e){var t=this.getRenderer(e);return null!==t?t.pointShape:"ellipse"}}(),function(){NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay=function(e){this.pointTypes=[{name:"ellipse",creator:o},{name:"rectangle",creator:r},{name:"diamond",creator:c},{name:"cross",creator:d},{name:"plus",creator:h}],this.lineTypes=[{name:"line",creator:i},{name:"fill",creator:s},{name:"bar",creator:a},{name:"points",creator:l}],this.shapes=[],this.helpers=e};var e=NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay,t=e.prototype;t.createHeaderDisplay=function(e,t){var i,s;i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),s.setAttribute("width","16"),s.setAttribute("height","16"),s.setAttribute("viewBox","0,0,16,16"),s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.appendChild(s);var a=document.createElementNS(i,"g"),l=this;s.appendChild(a),this.shapes[t]={},this.shapes[t].shapesGroup=a,n(t,a,i,l),a.setAttribute("stroke","rgba(255, 0, 0, 1)")},t.removeHeaderDisplay=function(e,t){this.shapes.splice(t,1)};var n=function(e,t,n,i){var s;for(s=0;s<i.lineTypes.length;s++)i.lineTypes[s].creator(e,t,n,i)},i=function(e,t,n,i){var s=document.createElementNS(n,"polyline");s.setAttribute("points","0,15 5,5 10,10 15,0"),s.setAttribute("fill","none"),s.setAttribute("stroke-width",i.helpers.getLineWidth(e)),s.setAttribute("stroke-dasharray",i.helpers.getLineStyle(e)),t.appendChild(s),i.shapes[e].shapesGroup.line=s},s=function(e,t,n,i){var s=document.createElementNS(n,"polyline");s.setAttribute("points","0,15 5,5 10,10 15,0, 15,15, 0,15"),s.setAttribute("fill",i.helpers.getPlotColor(e)),s.setAttribute("stroke-width",i.helpers.getLineWidth(e)),s.setAttribute("visibility","hidden"),t.appendChild(s),i.shapes[e].shapesGroup.fill=s},a=function(e,t,n,i){var s=document.createElementNS(n,"polyline");s.setAttribute("points","1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"),s.setAttribute("fill",i.helpers.getPlotColor(e)),s.setAttribute("stroke-width",1),s.setAttribute("visibility","hidden"),t.appendChild(s),i.shapes[e].shapesGroup.bar=s},l=function(e,t,n,i){var s,a,l,o,r=[{x:.5,y:15.5},{x:10.5,y:10.5},{x:5.5,y:5.5},{x:15.5,y:.5}],c=document.createElementNS(n,"g");for(i.shapes[e].shapesGroup.points=c,a=0;a<i.pointTypes.length;a++){for(l=document.createElementNS(n,"g"),s=0;s<4;s++)o=i.pointTypes[a].creator(n,r[s],4),l.appendChild(o);l.setAttribute("fill",i.helpers.getPlotColor(e)),l.setAttribute("stroke-width",1),l.setAttribute("visibility","hidden"),c.appendChild(l),i.shapes[e].shapesGroup.points[i.pointTypes[a].name]=l}t.appendChild(c)},o=function(e,t,n){var i=document.createElementNS(e,"circle");return i.setAttribute("cx",t.x),i.setAttribute("cy",t.y),i.setAttribute("r",n/2),i},r=function(e,t,n){var i=document.createElementNS(e,"rect");return i.setAttribute("x",t.x-n/2),i.setAttribute("y",t.y-n/2),i.setAttribute("width",n),i.setAttribute("height",n),i},c=function(e,t,n){var i=document.createElementNS(e,"path"),s="M"+(t.x-n/2)+","+t.y;return s+=" L"+t.x+","+(t.y-n/2),s+=" L"+(t.x+n/2)+","+t.y,s+=" L"+t.x+","+(t.y+n/2),s+=" Z",i.setAttribute("d",s),i},d=function(e,t,n){var i=document.createElementNS(e,"path"),s="M"+(t.x-n/2)+","+(t.y-n/2);return s+=" L"+(t.x+n/2)+","+(t.y+n/2),s+="M"+(t.x+n/2)+","+(t.y-n/2),s+=" L"+(t.x-n/2)+","+(t.y+n/2),i.setAttribute("d",s),i},h=function(e,t,n){var i=document.createElementNS(e,"path"),s="M"+t.x+","+(t.y-n/2);return s+=" L"+t.x+","+(t.y+n/2),s+="M"+(t.x-n/2)+","+t.y,s+=" L"+(t.x+n/2)+","+t.y,i.setAttribute("d",s),i};t.updateLinesAttributes=function(e,t,n){var i=this.helpers.getLineShape(e);"line"!==i&&"line & point"!==i||(t.line.setAttribute("stroke-width",this.helpers.getLineWidth(e)),t.line.setAttribute("stroke-dasharray",this.helpers.getLineStyle(e))),t.fill.setAttribute("fill",n),t.bar.setAttribute("fill",n);for(var s=0;s<this.pointTypes.length;s++)t.points[this.pointTypes[s].name].setAttribute("fill",n)},t.updatePointVisibility=function(e,t,n){for(var i=this.helpers.getPointShape(e),s=0;s<this.pointTypes.length;s++)i!==this.pointTypes[s].name||"line & point"!==n&&"points"!==n?t.points[this.pointTypes[s].name].setAttribute("visibility","hidden"):t.points[this.pointTypes[s].name].setAttribute("visibility","visible")},t.updateVisibility=function(e,t){for(var n=this.helpers.getLineShape(e),i=0;i<this.lineTypes.length;i++)n===this.lineTypes[i].name?t[this.lineTypes[i].name].setAttribute("visibility","visible"):t[this.lineTypes[i].name].setAttribute("visibility","hidden");"line & point"===n&&(t.line.setAttribute("visibility","visible"),t.points.setAttribute("visibility","visible")),this.updatePointVisibility(e,t,n)},t.updateShape=function(e){var t=this.shapes[e];if(void 0!==t&&null!==t){var n=this.helpers.getPlotColor(e);this.updateLinesAttributes(e,t.shapesGroup,n),this.updateVisibility(e,t.shapesGroup),t.shapesGroup.setAttribute("stroke",n)}}}(),function(){var e=NationalInstruments.Globals.jQuery,t=NationalInstruments.HtmlVI.NISupport,n=function(n){function i(){return babelHelpers.classCallCheck(this,i),babelHelpers.possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return babelHelpers.inherits(i,n),babelHelpers.createClass(i,[{key:"created",value:function(){babelHelpers.get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"created",this).call(this),this.table=void 0,this.selectedRow=null,this.addButton=null,this.deleteButton=null,this.centerButton=null,this.currentRow=null,this.currentBtn=null,this.observer=null,this.helpers=new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,this.cursorLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.cursorLegendItemDisplay)}},{key:"cursorAdded",value:function(e){var t=this;t.createRow(t.table,e),t.helpers.cursorAdded(e),t.helpers.cursorPositionChanged(e,function(n){t.updatePosition(e,n)})}},{key:"updatePosition",value:function(e,t){if(e._parentGraph){var n=e.niControlId,i=this.querySelector("#x_"+n),s=this.querySelector("#y_"+n),a=e._parentGraph.graph,l=a.formatCursorPosition(a,e.cursor);null!==i&&(i.innerText=l.xTextValue),null!==s&&(s.innerText=l.yTextValue)}}},{key:"cursorRemoved",value:function(t){var n=this.helpers.getIndex(t);n>=0&&(e(this).find(".ni-master-row").eq(n).remove(),e(this).find(".ni-details-box").eq(n).remove(),this.cursorLegendItemDisplay.clearShape(n),this.helpers.cursorRemoved(t))}},{key:"cursorChanged",value:function(e){this.cursorLegendItemDisplay.updateShape(e),this.updateName(e),this.updateVisible(e)}},{key:"updateName",value:function(t){e("#name_"+t.niControlId).text(this.helpers.getState("name",t))}},{key:"updateVisible",value:function(t){this.helpers.getState("visible",t)?e("#visible_"+t.niControlId).removeClass("ni-visibility-off-icon").addClass("ni-visibility-on-icon"):e("#visible_"+t.niControlId).removeClass("ni-visibility-on-icon").addClass("ni-visibility-off-icon")}},{key:"attachToGraph",value:function(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,e.registerCursorLegend(this))}},{key:"detachFromGraph",value:function(){this.removeRows(),this.helpers.clearCache(),this.helpers.graph=null}},{key:"attached",value:function(){babelHelpers.get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"attached",this).call(this);var n=this;n.helpers.graph=n.findGraph(),n.helpers.isInEditMode=n.isInEditMode;var s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.id="div"+t.uniqueId(),n.appendChild(s),n.table=document.createElement("table"),n.table.className="ni-cursors-box",s.appendChild(n.table);var a=document.createElement("div");s.appendChild(a);var l=document.createElement("button");l.className="ni-add-icon ni-command-button",e(l).jqxButton({disabled:n.isInEditMode}),a.appendChild(l),n.addButton=l,e(l).on("click",function(){n.isInEditMode||n.helpers.addCursor()}),n.addEventListener("ni-cursor-attached",function(e){n.cursorAdded(e.detail.originalSource)}),n.addEventListener("ni-cursor-detached",function(e){n.cursorRemoved(e.detail.originalSource)}),n.addEventListener("ni-cursor-changed",function(e){n.cursorChanged(e.detail.originalSource)});var o=this.findGraph();null!==o&&this.attachToGraph(o)}},{key:"removeRows",value:function(){var e;for(e=this.helpers.cursors.length-1;e>=0;e--){var t=this.helpers.getCursor(e);this.cursorRemoved(t)}}},{key:"createRow",value:function(t,n){var i=this,s=i.createMainRow(t,n),a=i.createDetailsRow(t,n);e(s).on("click",function(){if(i.currentRow!==a){var e=i.currentRow,t=i.currentBtn;a.style.display="table-row",i.currentRow=a,s.classList.remove("ni-closed-icon"),s.classList.add("ni-open-icon"),i.currentBtn=s,null!==e&&(e.style.display="none"),null!==t&&(t.classList.remove("ni-open-icon"),t.classList.add("ni-closed-icon"))}else a.style.display="none",s.classList.remove("ni-open-icon"),s.classList.add("ni-closed-icon"),i.currentRow=null,i.currentBtn=null}),i.applyFont()}},{key:"createMainRow",value:function(t,n){var i,s=this;i=n.niControlId;var a,l,o,r,c,d,h,p,u,m,g,f;return a=document.createElement("tr"),a.className="ni-master-row",t.appendChild(a),l=document.createElement("td"),l.className="ni-expand-box",a.appendChild(l),g=document.createElement("input"),g.className="ni-expand-button ni-closed-icon",g.type="button",g.id="details_"+i,l.appendChild(g),e(g).jqxButton({width:20,height:20,disabled:s.isInEditMode}),o=document.createElement("td"),o.className="ni-cursor-box",a.appendChild(o),u=s.cursorLegendItemDisplay.createHeaderDisplay(n),null!==u&&(u.id="display_"+i,o.appendChild(u)),h=document.createElement("span"),h.className="ni-cursor-title",h.id="name_"+i,p=document.createTextNode(s.helpers.getState("name",n)),h.appendChild(p),o.appendChild(h),r=document.createElement("td"),r.className="ni-x-box",a.appendChild(r),h=document.createElement("span"),h.className="ni-x-title",h.id="x_"+i,p=document.createTextNode(parseFloat(s.helpers.getState("x",n))),h.appendChild(p),r.appendChild(h),c=document.createElement("td"),c.className="ni-y-box",a.appendChild(c),
h=document.createElement("span"),h.className="ni-y-title",h.id="y_"+i,p=document.createTextNode(parseFloat(s.helpers.getState("y",n))),h.appendChild(p),c.appendChild(h),d=document.createElement("td"),d.className="ni-actions-box",a.appendChild(d),m=document.createElement("input"),m.className="ni-delete-icon ni-action-button",m.type="button",m.id="delete"+i,d.appendChild(m),e(m).on("click",function(){s.helpers.handleClick("delete","",n)}),e(m).jqxToggleButton({disabled:s.isInEditMode}),m=document.createElement("input"),m.className="ni-center-icon ni-action-button",m.type="button",m.id="center"+i,d.appendChild(m),e(m).on("click",function(){s.helpers.handleClick("center","",n)}),e(m).jqxButton({disabled:s.isInEditMode}),m=document.createElement("input"),m.className="ni-snap-icon ni-action-button",m.type="button",m.id="snap_"+i,d.appendChild(m),e(m).on("click",function(){s.helpers.handleClick("snap","",n)}),e(m).jqxToggleButton({disabled:s.isInEditMode}),m=document.createElement("input"),m.className="ni-visibility-button ni-action-button",m.type="button",m.id="visible_"+i,f=s.helpers.getState("visible",n),f?m.classList.add("ni-visibility-on-icon"):m.classList.add("ni-visibility-off-icon"),e(m).on("click",function(){s.helpers.handleClick("visible","",n)}),d.appendChild(m),e(m).jqxToggleButton({disabled:s.isInEditMode}),g}},{key:"createDetailsItem",value:function(e,t,n){var i,s,a,l,o,r;return i=document.createElement("tr"),i.className="ni-details-row",e.appendChild(i),s=document.createElement("td"),s.className="ni-details-row-title-box",i.appendChild(s),o=document.createElement("span"),o.class="ni-details-row-title",s.appendChild(o),r=document.createTextNode(t),o.appendChild(r),a=document.createElement("td"),a.className="ni-details-row-control-box",i.appendChild(a),l=document.createElement("div"),l.className=n,a.appendChild(l),l}},{key:"createDetailsRow",value:function(e,t){var n,i,s,a;return i=document.createElement("tr"),i.className="ni-details-box",i.style.display="none",e.appendChild(i),s=document.createElement("td"),s.colSpan=5,i.appendChild(s),n=document.createElement("table"),n.className="ni-details",s.appendChild(n),a=this.createDetailsItem(n,"Color","ni-colorbox-selector ni-selector"),this.uihelpers.addColorBox({name:"Color"},a,t),a=this.createDetailsItem(n,"Shape","ni-shape-selector ni-selector"),this.uihelpers.addComboBox(this.helpers.getMenuItem("shape"),a,t,16),a=this.createDetailsItem(n,"Crosshair","ni-crosshair-selector ni-selector"),this.uihelpers.addComboBox(this.helpers.getMenuItem("crosshair"),a,t,16),i}},{key:"setFont",value:function(t,n,i,s,a){var l=this.firstElementChild,o=e(this),r=e("#"+l.id+" .jqx-widget-content"),c=e("#"+l.id+" .ni-cursor-title"),d=e("#"+l.id+" .ni-x-title"),h=e("#"+l.id+" .ni-y-title"),p=e("#"+l.id+" .ni-details-title");o.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),r.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),c.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),d.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),h.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),p.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s})}},{key:"applyFont",value:function(){var t=this.firstElementChild,n=e("#"+t.id+" .jqx-widget-content"),i=e("#"+t.id+" .ni-cursor-title"),s=e("#"+t.id+" .ni-x-title"),a=e("#"+t.id+" .ni-y-title"),l=e("#"+t.id+" .ni-details-title"),o=e(this).css("font-size"),r=e(this).css("font-family"),c=e(this).css("font-weight"),d=e(this).css("font-style");n.css({"font-size":o,"font-family":r,"font-weight":c,"font-style":d}),i.css({"font-size":o,"font-family":r,"font-weight":c,"font-style":d}),s.css({"font-size":o,"font-family":r,"font-weight":c,"font-style":d}),a.css({"font-size":o,"font-family":r,"font-weight":c,"font-style":d}),l.css({"font-size":o,"font-family":r,"font-weight":c,"font-style":d})}},{key:"propertyChangedHandler",value:function(t,n,s){var a=this;switch(babelHelpers.get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"propertyChangedHandler",this).call(this,t,n,s),t){case"graphRef":this.helpers.graph.cursorLegend=null;var l=this.findGraph();this.attachToGraph(l);break;case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,null!==this.addButton&&e(this.addButton).jqxButton({disabled:this.isInEditMode}),e(this.table).find(".ni-center-icon").each(function(t){e(this).jqxButton({disabled:a.isInEditMode})}),e(this.table).find(".ni-expand-button").each(function(t){e(this).jqxButton({disabled:a.isInEditMode})}),e(this.table).find(".ni-snap-icon").each(function(t){e(this).jqxToggleButton({disabled:a.isInEditMode})}),e(this.table).find(".ni-delete-icon").each(function(t){e(this).jqxToggleButton({disabled:a.isInEditMode})}),e(this.table).find(".ni-visibility-button").each(function(t){e(this).jqxToggleButton({disabled:a.isInEditMode})})}}}]),i}(NationalInstruments.HtmlVI.Elements.GraphLegend);JQX("ni-cursor-legend",n)}(),function(){NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay=function(e){this.helpers=e,this.items=[]};var e=NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay,t=e.prototype,n="http://www.w3.org/2000/svg";t.clearShape=function(e){this.items.splice(e,1)},t.createHeaderDisplay=function(e){var t;return void 0===e?null:(t=document.createElementNS(n,"svg"),t.setAttribute("class","ni-cursor-display"),t.setAttribute("width","16"),t.setAttribute("height","16"),t.setAttribute("viewBox","0,0,16,16"),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.addShapes(e,t,n),this.items.push(t),t)},t.addShapes=function(e,t,n){this.makeShape(e,t,n),this.makeCursorCross(e,t,n)},t.makeCursorCross=function(e,t,n){switch(e.crosshairStyle){case"none":break;case"vertical":this.makeLine(e,t,n,"8","1","8","4"),this.makeLine(e,t,n,"8","12","8","15");break;case"horizontal":this.makeLine(e,t,n,"12","8","15","8"),this.makeLine(e,t,n,"1","8","4","8");break;default:this.makeLine(e,t,n,"8","1","8","4"),this.makeLine(e,t,n,"12","8","15","8"),this.makeLine(e,t,n,"8","12","8","15"),this.makeLine(e,t,n,"1","8","4","8")}},t.makeShape=function(e,t,n){var i,s,a=e.targetShape,l=window.getComputedStyle(e),o=l.color;switch(a){case"ellipse":s=document.createElementNS(n,"circle"),s.setAttribute("cx","8"),s.setAttribute("cy","8"),s.setAttribute("r","4"),s.setAttribute("stroke",o),s.setAttribute("stroke-width","1"),s.setAttribute("fill","rgba(0, 0, 0, 0)"),t.appendChild(s);break;case"rectangle":i=document.createElementNS(n,"rect"),i.setAttribute("x","4"),i.setAttribute("y","4"),i.setAttribute("width","8"),i.setAttribute("height","8"),i.setAttribute("stroke",o),i.setAttribute("stroke-width","1"),i.setAttribute("fill","rgba(0, 0, 0, 0)"),t.appendChild(i);break;case"diamond":this.makeLine(e,t,n,"8","4","12","8"),this.makeLine(e,t,n,"12","8","8","12"),this.makeLine(e,t,n,"8","12","4","8"),this.makeLine(e,t,n,"4","8","8","4");break;case"cross":this.makeLine(e,t,n,"4","4","12","12"),this.makeLine(e,t,n,"4","12","12","4");break;case"plus":this.makeLine(e,t,n,"8","4","8","12"),this.makeLine(e,t,n,"4","8","12","8")}},t.makeLine=function(e,t,n,i,s,a,l){var o=document.createElementNS(n,"line"),r=window.getComputedStyle(e),c=r.color;o.setAttribute("x1",i),o.setAttribute("y1",s),o.setAttribute("x2",a),o.setAttribute("y2",l),o.setAttribute("stroke",c),o.setAttribute("stroke-width",1),t.appendChild(o)},t.updateShape=function(e){var t=this.helpers.getIndex(e),i=this.items[t];if(void 0===e)return null;if(void 0===i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);this.addShapes(e,i,n)}}(),function(){var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery;NationalInstruments.HtmlVI.Elements.CursorLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.cursors=[],this.defaultCursorName=e.i18n("msg_defaultcursorname")};var n=NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,i=n.prototype;i.getMenuItem=function(e){return"shape"===e?{name:"Target Shape",tag:"msg_targetshape",children:[{name:"Ellipse",tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:"Rectangle",tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:"Diamond",tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:"Cross",tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:"Plus",tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]}:"crosshair"===e?{name:"Crosshair Style",tag:"msg_crosshairstyle",children:[{name:"No style",tag:"msg_nostyle",cssClass:"ni-no-crosshair-icon"},{name:"Vertical",tag:"msg_vertical",cssClass:"ni-vertical-crosshair-icon"},{name:"Horizontal",tag:"msg_horizontal",cssClass:"ni-horizontal-crosshair-icon"},{name:"Both",tag:"msg_both",cssClass:"ni-both-crosshair-icon"}]}:void 0},i.cursorAdded=function(e){var t;for(t=0;t<this.cursors.length;t++)if(this.cursors[t]===e||null!=e.niControlId&&this.cursors[t].niControlId===e.niControlId)return;this.cursors.push(e)},i.cursorRemoved=function(e){var t;for(t=0;t<this.cursors.length;t++)if(this.cursors[t].niControlId===e.niControlId)return void this.cursors.splice(t,1)},i.addCursor=function(){var t=this.graph,n=document.createElement("ni-cursor");n.niControlId=e.uniqueId(),n.show=!0,n.showValue=!0,this.cursors.push(n),n.label=this.nextCursorName(),t.appendChild(n)},i.cursorPositionChanged=function(e,n){if(void 0===e)throw new Error("cursor is undefined");t(e).on("cursorUpdated",function(e,t){n(t)})},i.clearCache=function(){this.cursors.length=0},i.getCursor=function(e){var t,n,i=0,s=null;if(null===this.cursors[e]||void 0===this.cursors[e]){if(null!==(t=this.graph))for(n in t.childNodes)if("ni-cursor"===t.childNodes[n].localName){if(i===e){s=t.childNodes[n];break}i++}null!==s&&(this.cursors[e]=s)}return this.cursors[e]},i.nextCursorName=function(){var e,t,i=0,s=this.graph;if(null!==s)for(n in s.childNodes)"ni-cursor"===s.childNodes[n].localName&&(t=s.childNodes[n],(e=parseInt(t.label.substring(this.defaultCursorName.length)))>i&&(i=e));return this.defaultCursorName+" "+(i+1)},i.deleteCursor=function(e){var t=this.graph;null!==e&&void 0!==e&&t.removeChild(e)},i.getIndex=function(e){var t,n=-1;for(t=0;t<this.cursors.length;t++)null!==this.cursors[t]&&e.niControlId===this.cursors[t].niControlId&&(n=t);return n},i.handleClick=function(e,t,n){if(null!==n||void 0!==n)switch(e){case"name":case"x":case"y":break;case"visible":n.show=!n.show;break;case"snap":n.snapToPlot=-1!==n.snapToPlot?-1:void 0;break;case"center":n.snapToPlot=void 0,n.x=.5,n.y=.5;break;case"delete":this.deleteCursor(n);break;case"Ellipse":n.targetShape="ellipse";break;case"Rectangle":n.targetShape="rectangle";break;case"Diamond":n.targetShape="diamond";break;case"Cross":n.targetShape="cross";break;case"Plus":n.targetShape="plus";break;case"No style":n.crosshairStyle="none";break;case"Vertical":n.crosshairStyle="vertical";break;case"Horizontal":n.crosshairStyle="horizontal";break;case"Both":n.crosshairStyle="both";break;case"Color":n.setColor("#"+t.hex)}},i.getState=function(e,t){if(null!==t&&void 0!==t){var n;switch(e){case"name":n=t.label;break;case"x":n=t.x;break;case"y":n=t.y;break;case"visible":n=t.show;break;case"snap":n=-1===t.snapToPlot;break;case"center":case"delete":break;case"Ellipse":n="ellipse"===t.targetShape;break;case"Rectangle":n="rectangle"===t.targetShape;break;case"Diamond":n="diamond"===t.targetShape;break;case"Cross":n="cross"===t.targetShape;break;case"Plus":n="plus"===t.targetShape;break;case"No style":n="none"===t.crosshairStyle;break;case"Vertical":n="vertical"===t.crosshairStyle;break;case"Horizontal":n="horizontal"===t.crosshairStyle;break;case"Both":n="both"===t.crosshairStyle;break;case"Color":n=window.getComputedStyle(t).color}return n}},i.getTargetShape=function(e){var t=this.getCursor(e);return null!==t&&void 0!==t?t.targetShape:"ellipse"},i.getCrosshair=function(e){var t=this.getCursor(e);if(null!==t&&void 0!==t)return t.crosshairStyle}}(),function(){var e=NationalInstruments.Globals.jQuery,t=function(t){function n(){return babelHelpers.classCallCheck(this,n),babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return babelHelpers.inherits(n,t),babelHelpers.createClass(n,[{key:"created",value:function(){babelHelpers.get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"created",this).call(this),this.tbl=void 0,this.nScales=0,this.currentExpander=null,this.helpers=new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers,this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,null)}},{key:"scaleAdded",value:function(e){this.helpers.scaleToIndex(e)<this.nScales||(this.createRow(this.tbl,this.nScales),this.helpers.addScale(this.nScales),this.nScales++)}},{key:"scaleRemoved",value:function(e){var t,n,i,s,a,l=null;for(s=0,i=0;i<this.tbl.childNodes.length;i++){if("tr"===this.tbl.childNodes[i].localName&&(t=this.tbl.childNodes[i],n=t.childNodes[0],n.innerText===e.label)){l=t,a=s;break}s++}null!==l&&(this.tbl.removeChild(l),this.helpers.clearScale(a)),this.nScales--}},{key:"createRows",value:function(){var e;for(e=0;e<this.nScales;e++)this.createRow(this.tbl,e)}},{key:"removeRows",value:function(){var e;for(e=this.nScales-1;e>=0;e--){var t=this.helpers.getScale(e);this.scaleRemoved(t)}}},{key:"attachToGraph",value:function(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,e.registerScaleLegend(this))}},{key:"detachFromGraph",value:function(){this.helpers.graph=null,this.helpers.clearScale(),this.removeRows()}},{key:"attached",value:function(){babelHelpers.get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attached",this).call(this);var t=document.createElement("div"),i=this;this.helpers.graph=this.findGraph(),this.helpers.isInEditMode=this.isInEditMode,t.style.width="100%",t.style.height="100%",this.appendChild(t),this.tbl=document.createElement("table"),this.tbl.className="ni-scale-legend-box",t.appendChild(this.tbl),this.addEventListener("ni-cartesian-axis-attached",function(e){var t=e.detail.originalSource;i.scaleAdded(t)}),this.addEventListener("ni-cartesian-axis-detached",function(e){i.scaleRemoved(e.detail.originalSource)}),this.addEventListener("ni-axis-changed",function(t){var n=t.detail.originalSource,s=i.helpers.scaleToIndex(n),a=e(this.tbl).find(".ni-row-title"),l=e(this.tbl).find(".ni-lock-button");e(a[s]).first().text(n.label),this.setLockBackground(l[s],!1,s)});var s=this.findGraph();null!==s&&this.attachToGraph(s)}},{key:"createRow",value:function(t,n){var i,s,a,l,o,r,c,d,h=this;i=document.createElement("tr"),t.appendChild(i),s=document.createElement("td"),s.className="ni-row-title-box",i.appendChild(s),o=document.createElement("span"),o.className="ni-row-title",s.appendChild(o);var p=h.helpers.getState("name",n);r=document.createTextNode(p),o.appendChild(r),a=document.createElement("td"),a.className="ni-lock-box",i.appendChild(a),c=document.createElement("button"),c.type="button",c.className="ni-lock-button ni-button",e(c).jqxToggleButton(),e(c).jqxToggleButton({disabled:!this.helpers.getState("canLock",n)}),e(c).on("click",function(){h.helpers.handleClick("lock",n),h.setLockBackground(c,!1,n)}),h.setLockBackground(c,!0,n),a.appendChild(c),l=document.createElement("td"),l.className="ni-reset-offset-box",i.appendChild(l),d=document.createElement("button"),d.type="button",d.className="ni-reset-offset-icon ni-button",e(d).on("click",function(){h.helpers.handleClick("resetOffset",n),h.setLockBackground(c,!1,n)}),l.appendChild(d),this.applyFont()}},{key:"setLockBackground",value:function(t,n,i){var s=this.helpers.getState("lock",i);void 0!==s&&(!0===n&&e(t).jqxToggleButton({toggled:s}),!0===s?(t.classList.remove("ni-locked-icon"),t.classList.add("ni-unlocked-icon")):(t.classList.remove("ni-unlocked-icon"),t.classList.add("ni-locked-icon")))}},{key:"setFont",value:function(t,n,i,s,a){var l=this.firstElementChild,o=e(this),r=e(l).find(" .ni-row-title");o.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),r.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s})}},{key:"applyFont",value:function(){var t=this.firstElementChild,n=e(t).find(" .ni-row-title"),i=e(this).css("font-size"),s=e(this).css("font-family"),a=e(this).css("font-weight"),l=e(this).css("font-style");n.css({"font-size":i,"font-family":s,"font-weight":a,"font-style":l})}},{key:"propertyChangedHandler",value:function(t,i,s){var a=this;switch(babelHelpers.get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"propertyChangedHandler",this).call(this,t,i,s),t){case"graphRef":this.helpers.graph.scaleLegend=null;var l=this.findGraph();this.attachToGraph(l);break;case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,e(this.tbl).find(".ni-lock-button").each(function(){e(this).jqxToggleButton({disabled:a.isInEditMode})}),e(this.tbl).find(".ni-reset-offset-icon").each(function(){e(this).prop("disabled",a.isInEditMode)})}}}]),n}(NationalInstruments.HtmlVI.Elements.GraphLegend);JQX("ni-scale-legend",t)}(),function(){NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.scales=[]};var e=NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers,t=e.prototype;t.addScale=function(){},t.clearScale=function(e){this.scales[e]=null},t.getScale=function(e){var t,n,i=0,s=null;if(null===this.scales[e]||void 0===this.scales[e]){if(null!==(t=this.graph))for(n in t.childNodes)if("ni-cartesian-axis"===t.childNodes[n].localName||"ni-color-scale"===t.childNodes[n].localName){if(i===e){s=t.childNodes[n];break}i++}if(null===s)return null;this.scales[e]=s}return this.scales[e]},t.scaleToIndex=function(e){var t,n,i=0,s=-1;if(null!==(t=this.graph))for(n in t.childNodes)if("ni-cartesian-axis"===t.childNodes[n].localName||"ni-color-scale"===t.childNodes[n].localName){if(t.childNodes[n]===e){s=i;break}i++}return s},t.handleClick=function(e,t){if(!0!==this.isInEditMode){var n=this.getScale(t);if(null===n)return;switch(e){case"lock":"none"!==n.autoScale?(n.initialAutoscale=n.autoScale,n.autoScale="none",n.resetOffset()):n.autoScale=n.initialAutoscale?n.initialAutoscale:"loose";break;case"resetOffset":n.resetOffset&&n.resetOffset()}var i=n._parentGraph.graph;i.setupGrid(),i.draw()}},t.getState=function(e,t){var n=this.getScale(t);if(null!==n){var i;switch(e){case"canLock":i="ni-color-scale"!==n.localName;break;case"lock":i="none"!==n.autoScale;break;case"resetOffset":break;case"name":i=n.label}return i}}}(),function(){var e=Object.freeze({LOCKED:"locked",PAN:"pan",ZOOM:"zoom"}),t=e,n=NationalInstruments.Globals.jQuery,i=NationalInstruments.HtmlVI.NISupport,s={};s[t.LOCKED]=[!0,!1,!1],s[t.PAN]=[!1,!0,!1],s[t.ZOOM]=[!1,!1,!0];var a=function(e){function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"created",value:function(){babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"created",this).call(this),this._parentGraph=void 0}},{key:"ready",value:function(){babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"ready",this).call(this),this.addListeners()}},{key:"attachToGraph",value:function(e){e.isReady&&(this._parentGraph=e,e.registerGraphTools(this))}},{key:"updateCartesianAxesFromFlot",value:function(){this._parentGraph.axes.forEach(function(e){e instanceof JQX.CartesianAxis&&e.syncWithFlot()})}},{key:"addListeners",value:function(){var e=this,t=function(e,t){var n=e.options,i=t.from-e.min,s=t.to-e.max;n.offset?(n.offset.below+=i,n.offset.above+=s):n.offset={above:s,below:i}};this.addEventListener("ni-cartesian-graph-box-selected",function(i){var s=i.detail.originalSource.ranges,a=e._parentGraph.graph;n.each(a.getAxes(),function(e,n){!0!==n.options.disableZoom&&s[e]&&t(n,s[e])}),a.setupGrid(),a.draw(),a.clearSelection(),this.updateCartesianAxesFromFlot()}),this.addEventListener("ni-cartesian-graph-interaction",function(){this.updateCartesianAxesFromFlot()})}},{key:"attached",value:function(){babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"attached",this).call(this);var e;e=document.createElement("div"),e.id="div"+i.uniqueId(),e.style.width="100%",e.style.height="100%",this.appendChild(e),this.table=document.createElement("table"),this.table.className="ni-graph-tools-box",e.appendChild(this.table),this.createRow(this.table);var t=this.findGraph();null!==t&&t instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase&&this.attachToGraph(t)}},{key:"detached",value:function(){babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"detached",this).call(this),this._parentGraph=void 0,this.table=void 0,n(this).empty()}},{key:"asyncProcessAllImagesForComposition",value:function(e){function t(){}var i,s,a=this,l=a._parentGraph.graph.getCanvas(),o=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=a._parentGraph.graph.getSurface().SVGContainer.childNodes[0],c=a._parentGraph.graph.getEventHolder(),d=function(e){var t=e.graph.getPlaceholder();return t&&t.find(".flot-thumbs")[0]?t.find(".flot-thumbs")[0].firstChild:null}(a._parentGraph),h=function(e){for(var t=["ni-chart","ni-cartesian-graph","ni-intensity-graph"],n=null,i="",s=0;s<t.length&&(i=t[s]+'[graph-ref="'+e+'"] svg.legendLayer',null===(n=document.querySelector(i))||void 0===n);s++);return n}(a._parentGraph.graphRef);!function(e,t){var i=n.plot.browser.getPixelRatio(t.getContext("2d")),s=20*i;document.body.insertBefore(e,document.body.childNodes[0]),i<1?(e.setAttributeNS(null,"width",t.width/i+s),e.setAttributeNS(null,"height",t.height/i+s)):(e.setAttributeNS(null,"width",t.width+s),e.setAttributeNS(null,"height",t.height+s)),e.style.width=t.style.width+s,e.style.height=t.style.height+s,e.style.position="absolute";var a=t.getBoundingClientRect().left+window.scrollX-10,l=t.getBoundingClientRect().top+window.scrollY-10;e.style.left=a+"px",e.style.top=l+"px"}(o,l),s=void 0!==e?e:window.getComputedStyle(a._parentGraph).backgroundColor,function(e,t){var n=document.createElementNS(e,"rect");n.setAttributeNS(null,"x",0),n.setAttributeNS(null,"y",0),n.setAttributeNS(null,"style","fill:"+t),n.setAttributeNS(null,"width",e.width.baseVal.value+"px"),n.setAttributeNS(null,"height",e.height.baseVal.value+"px"),e.appendChild(n)}(o,s),i=[o,l,r,c,d,h];var p=document.createElement("canvas");return a._parentGraph.takeGraphSnapshot(i,p).then(function(e){return function(t){e.parentNode.removeChild(e)}}(o),t).then(function(){return p},t)}},{key:"downloadSnapshot",value:function(){function e(){return function(e){var i=document.createElement("img");i.width=e.width,i.height=e.height,i.src=e.toDataURL("image/png");var s=function(e){var n=URL.createObjectURL(e);i.src=n;var s=document.createElement("A");s.download="Snapshot_"+t()+".png",s.href=i.src;var a=new MouseEvent("click");s.dispatchEvent(a)};return n.plot.browser.isEdge()?s(e.msToBlob()):e.toBlob(s),e}}function t(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),s=e.getHours(),a=e.getMinutes(),l=e.getSeconds();return n<10&&(n="0"+n),i<10&&(i="0"+i),s<10&&(s="0"+s),a<10&&(a="0"+a),l<10&&(l="0"+l),t+"."+n+"."+i+"_"+s+"."+a+"."+l}function i(){}var s=this,a=function t(){s.asyncProcessAllImagesForComposition().then(e(),i),s._parentGraph.graph.getEventHolder().removeEventListener("onDrawingDone",t)};s._parentGraph.graph.getEventHolder().addEventListener("onDrawingDone",a),s._parentGraph.updateGraphConfig()}},{key:"createRow",value:function(e){function i(e,t,i){n(u).jqxToggleButton({disabled:e}),n(m).jqxToggleButton({disabled:t}),n(g).jqxToggleButton({disabled:i})}function a(e){var t=s[e];t&&(i.apply(null,t),y.mode=e)}function l(){y.downloadSnapshot()}var o,r,c,d,h,p,u,m,g,f,b,y=this;o=document.createElement("tr"),e.appendChild(o),r=document.createElement("td"),r.className="ni-button-box",o.appendChild(r),u=document.createElement("button"),u.type="button",u.className="ni-locked-icon ni-button",n(u).jqxToggleButton(),n(u).on("click",function(){a(t.LOCKED)}),r.appendChild(u),c=document.createElement("td"),c.className="ni-button-box",o.appendChild(c),m=document.createElement("button"),m.type="button",m.className="ni-pan-icon ni-button",n(m).jqxToggleButton(),n(m).on("click",function(){a(t.PAN)}),c.appendChild(m),d=document.createElement("td"),d.className="ni-button-box",o.appendChild(d),g=document.createElement("button"),g.type="button",g.className="ni-zoom-region-icon ni-button",n(g).on("click",function(){a(t.ZOOM)}),d.appendChild(g),a(this.mode),h=document.createElement("td"),h.className="ni-button-box",o.appendChild(h),f=document.createElement("button"),f.type="button",f.className="ni-zoom-out-icon ni-button",n(f).jqxButton({disabled:!1}),n(f).on("click",function(){y._parentGraph.axes.forEach(function(e){e.resetOffset&&e.resetOffset()});var e=y._parentGraph.graph;e.setupGrid(),e.draw()}),h.appendChild(f),p=document.createElement("td"),p.className="ni-button-box",o.appendChild(p),b=document.createElement("button"),b.type="button",b.className="ni-snapshot-icon ni-button",n(b).jqxButton({disabled:!1}),n(b).on("click",function(){l()}),p.appendChild(b)}},{key:"allowsScrollWheelZoom",value:function(){return this.mode===t.PAN||this.mode===t.ZOOM}},{key:"allowsPan",value:function(){return this.mode===t.PAN}},{key:"sendEventToParentGraph",value:function(e){var t;void 0!==this._parentGraph&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentGraph.dispatchEvent(new CustomEvent(e,t)))}},{key:"propertyChangedHandler",value:function(e,t,n){switch(babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"propertyChangedHandler",this).call(this,e,t,n),e){case"graphRef":break;case"mode":this.sendEventToParentGraph("ni-graph-tools-changed")}}}],[{key:"properties",get:function(){return Object.assign({},babelHelpers.get(a.__proto__||Object.getPrototypeOf(a),"properties",this),{mode:{value:t.PAN,type:"string"}})}}]),a}(NationalInstruments.HtmlVI.Elements.GraphLegend);JQX("ni-graph-tools",a)}();
//# sourceMappingURL=webcharts-legends.min.js.map
